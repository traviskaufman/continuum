
continuum=function(e,c,a,d,b){return c.esprima=function(a){return function(b){'use strict',typeof define==='function'&&define.amd?define(['exports'],b):typeof a!=='undefined'?b(a):b(window.esprima={});}(function(r){function assert(a,b){if(!a)throw new Error('ASSERT: '+b);}function sliceSource(a,b){return g.slice(a,b);}function isDecimalDigit(a){return'0123456789'.indexOf(a)>=0;}function isHexDigit(a){return'0123456789abcdefABCDEF'.indexOf(a)>=0;}function isOctalDigit(a){return'01234567'.indexOf(a)>=0;}function isWhiteSpace(a){return a===' '||a==='\t'||a==='\v'||a==='\f'||a==='\xa0'||a.charCodeAt(0)>=5760&&'\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\ufeff'.indexOf(a)>=0;}function isLineTerminator(a){return a==='\n'||a==='\r'||a==='\u2028'||a==='\u2029';}function isIdentifierStart(a){return a==='$'||a==='_'||a==='\\'||a>='a'&&a<='z'||a>='A'&&a<='Z'||a.charCodeAt(0)>=128&&s.NonAsciiIdentifierStart.test(a);}function isIdentifierPart(a){return a==='$'||a==='_'||a==='\\'||a>='a'&&a<='z'||a>='A'&&a<='Z'||a>='0'&&a<='9'||a.charCodeAt(0)>=128&&s.NonAsciiIdentifierPart.test(a);}function isFutureReservedWord(a){switch(a){case'class':case'enum':case'export':case'extends':case'import':case'super':return!0;}return!1;}function isStrictModeReservedWord(a){switch(a){case'implements':case'interface':case'package':case'private':case'protected':case'public':case'static':case'yield':case'let':return!0;}return!1;}function isRestrictedWord(a){return a==='eval'||a==='arguments';}function isKeyword(a){var b=!1;
switch(id.length){case 2:b=a==='if'||a==='in'||a==='do';break;case 3:b=a==='var'||a==='for'||a==='new'||a==='try';break;case 4:b=a==='this'||a==='else'||a==='case'||a==='void'||a==='with';break;case 5:b=a==='while'||a==='break'||a==='catch'||a==='throw';break;case 6:b=a==='return'||a==='typeof'||a==='delete'||a==='switch'||a==='public';break;case 7:b=a==='default'||a==='finally'||a==='private';break;case 8:b=a==='function'||a==='continue'||a==='debugger';break;case 10:b=a==='instanceof';break;}if(b)return!0;switch(a){case'const':return!0;case'yield':case'let':return!0;}return l&&isStrictModeReservedWord(a)?!0:isFutureReservedWord(a);}function nextChar(){return g[a++];}function skipComment(){var b, c, d;
c=!1,d=!1;while(a<k){b=g[a];if(d)b=nextChar(),isLineTerminator(b)&&(d=!1,b==='\r'&&g[a]==='\n'&&++a,++i,j=a);else if(c)isLineTerminator(b)?(b==='\r'&&g[a+1]==='\n'&&++a,++i,++a,j=a,a>=k&&throwError({},f.UnexpectedToken,'ILLEGAL')):(b=nextChar(),a>=k&&throwError({},f.UnexpectedToken,'ILLEGAL'),b==='*'&&(b=g[a],b==='/'&&(++a,c=!1)));else if(b==='/'){b=g[a+1];if(b==='/')a+=2,d=!0;else if(b==='*')a+=2,c=!0,a>=k&&throwError({},f.UnexpectedToken,'ILLEGAL');else break;}else if(isWhiteSpace(b))++a;else if(isLineTerminator(b))++a,b==='\r'&&g[a]==='\n'&&++a,++i,j=a;else break;}}function scanHexEscape(f){var b,    d,    e,    c=0;
d=f==='u'?4:2;for(b=0;b<d;++b)if(a<k&&isHexDigit(g[a]))e=nextChar(),c=c*16+'0123456789abcdef'.indexOf(e.toLowerCase());else return'';return String.fromCharCode(c);}function scanUnicodeCodePointEscape(){var c, b, d, e;
c=g[a],b=0,c==='}'&&throwError({},f.UnexpectedToken,'ILLEGAL');while(a<k){c=nextChar();if(!isHexDigit(c))break;b=b*16+'0123456789abcdef'.indexOf(c.toLowerCase());}return(b>1114111||c!=='}')&&throwError({},f.UnexpectedToken,'ILLEGAL'),b<=65535?String.fromCharCode(b):(d=(b-65536>>10)+55296,e=(b-65536&1023)+56320,String.fromCharCode(d,e));}function scanIdentifier(){var b, h, d, c, f, l;
b=g[a],b==='@'&&(h=!0,b=g[++a],b==='@'&&(l=!0,b=g[++a]));if(!isIdentifierStart(b))return;d=a;if(b==='\\'){++a;if(g[a]!=='u')return;++a,f=a,b=scanHexEscape('u');if(b){if(b==='\\'||!isIdentifierStart(b))return;c=b;}else a=f,c='u';}else c=nextChar();while(a<k){b=g[a];if(!isIdentifierPart(b))break;if(b==='\\'){++a;if(g[a]!=='u')return;++a,f=a,b=scanHexEscape('u');if(b){if(b==='\\'||!isIdentifierPart(b))return;c+=b;}else a=f,c+='u';}else c+=nextChar();}return h?{ type:e.AtSymbol, value:c, lineNumber:i, lineStart:j, internal:l, range:[d, a] }:c.length===1?{ type:e.Identifier, value:c, lineNumber:i, lineStart:j, range:[d, a] }:isKeyword(c)?{ type:e.Keyword, value:c, lineNumber:i, lineStart:j, range:[d, a] }:c==='null'?{ type:e.NullLiteral, value:c, lineNumber:i, lineStart:j, range:[d, a] }:c==='true'||c==='false'?{ type:e.BooleanLiteral, value:c, lineNumber:i, lineStart:j, range:[d, a] }:{ type:e.Identifier, value:c, lineNumber:i, lineStart:j, range:[d, a] };}function scanPunctuator(){var d=a,    b=g[a],    c,    f,    h;
if(b===';'||b==='{'||b==='}')return++a,{ type:e.Punctuator, value:b, lineNumber:i, lineStart:j, range:[d, a] };if(b===','||b==='('||b===')')return++a,{ type:e.Punctuator, value:b, lineNumber:i, lineStart:j, range:[d, a] };c=g[a+1];if(b==='.'&&!isDecimalDigit(c)&&c!=='.')return{ type:e.Punctuator, value:nextChar(), lineNumber:i, lineStart:j, range:[d, a] };f=g[a+2],h=g[a+3];if(b==='>'&&c==='>'&&f==='>'&&h==='=')return a+=4,{ type:e.Punctuator, value:'>>>=', lineNumber:i, lineStart:j, range:[d, a] };if(b==='='&&c==='='&&f==='=')return a+=3,{ type:e.Punctuator, value:'===', lineNumber:i, lineStart:j, range:[d, a] };if(b==='!'&&c==='='&&f==='=')return a+=3,{ type:e.Punctuator, value:'!==', lineNumber:i, lineStart:j, range:[d, a] };if(b==='>'&&c==='>'&&f==='>')return a+=3,{ type:e.Punctuator, value:'>>>', lineNumber:i, lineStart:j, range:[d, a] };if(b==='<'&&c==='<'&&f==='=')return a+=3,{ type:e.Punctuator, value:'<<=', lineNumber:i, lineStart:j, range:[d, a] };if(b==='>'&&c==='>'&&f==='=')return a+=3,{ type:e.Punctuator, value:'>>=', lineNumber:i, lineStart:j, range:[d, a] };if(b==='.'&&c==='.'&&f==='.')return a+=3,{ type:e.Punctuator, value:'...', lineNumber:i, lineStart:j, range:[d, a] };if(c==='='&&'<>=!+-*%&|^/'.indexOf(b)>=0)return a+=2,{ type:e.Punctuator, value:b+c, lineNumber:i, lineStart:j, range:[d, a] };if(b===c&&'+-<>&|'.indexOf(b)>=0&&'+-<>&|'.indexOf(c)>=0)return a+=2,{ type:e.Punctuator, value:b+c, lineNumber:i, lineStart:j, range:[d, a] };if(b==='='&&c==='>')return a+=2,{ type:e.Punctuator, value:'=>', lineNumber:i, lineStart:j, range:[d, a] };if('[]<>+-*%&|^!~?:=/'.indexOf(b)>=0)return{ type:e.Punctuator, value:nextChar(), lineNumber:i, lineStart:j, range:[d, a] };}function scanNumericLiteral(){var c, d, b, h;
b=g[a],assert(isDecimalDigit(b)||b==='.','Numeric literal must start with a decimal digit or a decimal point'),d=a,c='';if(b!=='.'){c=nextChar(),b=g[a];if(c==='0'){if(b==='x'||b==='X'){c+=nextChar();while(a<k){b=g[a];if(!isHexDigit(b))break;c+=nextChar();}return c.length<=2&&throwError({},f.UnexpectedToken,'ILLEGAL'),a<k&&(b=g[a],isIdentifierStart(b)&&throwError({},f.UnexpectedToken,'ILLEGAL')),{ type:e.NumericLiteral, value:parseInt(c,16), lineNumber:i, lineStart:j, range:[d, a] };}else if(b==='b'||b==='B'){nextChar(),c='';while(a<k){b=g[a];if(b!=='0'&&b!=='1')break;c+=nextChar();}return c.length===0&&throwError({},f.UnexpectedToken,'ILLEGAL'),a<k&&(b=g[a],(isIdentifierStart(b)||isDecimalDigit(b))&&throwError({},f.UnexpectedToken,'ILLEGAL')),{ type:e.NumericLiteral, value:parseInt(c,2), lineNumber:i, lineStart:j, range:[d, a] };}else if(b==='o'||b==='O'||isOctalDigit(b)){isOctalDigit(b)?(h=!0,c=nextChar()):(h=!1,nextChar(),c='');while(a<k){b=g[a];if(!isOctalDigit(b))break;c+=nextChar();}return c.length===0&&throwError({},f.UnexpectedToken,'ILLEGAL'),a<k&&(b=g[a],(isIdentifierStart(b)||isDecimalDigit(b))&&throwError({},f.UnexpectedToken,'ILLEGAL')),{ type:e.NumericLiteral, value:parseInt(c,8), octal:h, lineNumber:i, lineStart:j, range:[d, a] };}isDecimalDigit(b)&&throwError({},f.UnexpectedToken,'ILLEGAL');}while(a<k){b=g[a];if(!isDecimalDigit(b))break;c+=nextChar();}}if(b==='.'){c+=nextChar();while(a<k){b=g[a];if(!isDecimalDigit(b))break;c+=nextChar();}}if(b==='e'||b==='E'){c+=nextChar(),b=g[a],(b==='+'||b==='-')&&(c+=nextChar()),b=g[a];if(isDecimalDigit(b)){c+=nextChar();while(a<k){b=g[a];if(!isDecimalDigit(b))break;c+=nextChar();}}else b='character '+b,a>=k&&(b='<end>'),throwError({},f.UnexpectedToken,'ILLEGAL');}return a<k&&(b=g[a],isIdentifierStart(b)&&throwError({},f.UnexpectedToken,'ILLEGAL')),{ type:e.NumericLiteral, value:parseFloat(c), lineNumber:i, lineStart:j, range:[d, a] };}function scanStringLiteral(){var c='',    h,    n,    b,    d,    l,    o,    m=!1;
h=g[a],assert(h==='\''||h==='"','String literal must starts with a quote'),n=a,++a;while(a<k){b=nextChar();if(b===h){h='';break;}if(b==='\\'){b=nextChar();if(!isLineTerminator(b))switch(b){case'n':c+='\n';break;case'r':c+='\r';break;case't':c+='\t';break;case'u':case'x':g[a]==='{'?(++a,c+=scanUnicodeCodePointEscape()):(o=a,l=scanHexEscape(b),l?c+=l:(a=o,c+=b));break;case'b':c+='\b';break;case'f':c+='\f';break;case'v':c+='\v';break;default:isOctalDigit(b)?(d='01234567'.indexOf(b),d!==0&&(m=!0),a<k&&isOctalDigit(g[a])&&(m=!0,d=d*8+'01234567'.indexOf(nextChar()),'0123'.indexOf(b)>=0&&a<k&&isOctalDigit(g[a])&&(d=d*8+'01234567'.indexOf(nextChar()))),c+=String.fromCharCode(d)):c+=b;break;}else++i,b==='\r'&&g[a]==='\n'&&++a;}else if(isLineTerminator(b))break;else c+=b;}return h!==''&&throwError({},f.UnexpectedToken,'ILLEGAL'),{ type:e.StringLiteral, value:c, octal:m, lineNumber:i, lineStart:j, range:[n, a] };}function scanTemplate(){var c='',    b,    m,    h,    l,    p,    n,    d,    o;
h=!1,l=!1,m=a,++a;while(a<k){b=nextChar();if(b==='`'){l=!0,h=!0;break;}if(b==='$'){if(g[a]==='{'){++a,h=!0;break;}c+=b;}else if(b==='\\'){b=nextChar();if(!isLineTerminator(b))switch(b){case'n':c+='\n';break;case'r':c+='\r';break;case't':c+='\t';break;case'u':case'x':g[a]==='{'?(++a,c+=scanUnicodeCodePointEscape()):(p=a,n=scanHexEscape(b),n?c+=n:(a=p,c+=b));break;case'b':c+='\b';break;case'f':c+='\f';break;case'v':c+='\v';break;default:isOctalDigit(b)?(d='01234567'.indexOf(b),d!==0&&(o=!0),a<k&&isOctalDigit(g[a])&&(o=!0,d=d*8+'01234567'.indexOf(nextChar()),'0123'.indexOf(b)>=0&&a<k&&isOctalDigit(g[a])&&(d=d*8+'01234567'.indexOf(nextChar()))),c+=String.fromCharCode(d)):c+=b;break;}else++i,b==='\r'&&g[a]==='\n'&&++a;}else isLineTerminator(b)?(++i,b==='\r'&&g[a]==='\n'&&++a):c+=b;}return!h&&throwError({},f.UnexpectedToken,'ILLEGAL'),{type:e.Template,value:{ cooked:c, raw:sliceSource(m+1,a-(l?1:2)) },tail:l,octal:o,lineNumber:i,lineStart:j,range:[m, a]};}function scanTemplateElement(c){var b;
return n=null,skipComment(),b=c.head?'`':'}',g[a]!==b&&throwError({},f.UnexpectedToken,'ILLEGAL'),scanTemplate();}function scanRegExp(){var c='',    b,    i,    j,    d,    l,    h=!1,    e,    m=!1;
n=null,skipComment(),i=a,b=g[a],assert(b==='/','Regular expression literal must start with a slash'),c=nextChar();while(a<k){b=nextChar(),c+=b;if(h)b===']'&&(h=!1);else if(b==='\\')b=nextChar(),isLineTerminator(b)&&throwError({},f.UnterminatedRegExp),c+=b;else if(b==='/'){m=!0;break;}else b==='['?h=!0:isLineTerminator(b)&&throwError({},f.UnterminatedRegExp);}!m&&throwError({},f.UnterminatedRegExp),j=c.substr(1,c.length-2),d='';while(a<k){b=g[a];if(!isIdentifierPart(b))break;++a;if(b==='\\'&&a<k){b=g[a];if(b==='u'){++a,e=a,b=scanHexEscape('u');if(b){d+=b,c+='\\u';for(;e<a;++e)c+=g[e];}else a=e,d+='u',c+='\\u';}else c+='\\';}else d+=b,c+=b;}try{l=new RegExp(j,d);}catch(a){throwError({},f.InvalidRegExp);}return{ literal:c, value:l, range:[i, a] };}function isIdentifierName(a){return a.type===e.Identifier||a.type===e.Keyword||a.type===e.BooleanLiteral||a.type===e.NullLiteral||a.type===e.AtSymbol;}function advance(){var b, c;
skipComment();if(a>=k)return{ type:e.EOF, lineNumber:i, lineStart:j, range:[a, a] };c=scanPunctuator();if(typeof c!=='undefined')return c;b=g[a];if(b==='\''||b==='"')return scanStringLiteral();if(b==='.'||isDecimalDigit(b))return scanNumericLiteral();if(b==='`')return scanTemplate();c=scanIdentifier();if(typeof c!=='undefined')return c;throwError({},f.UnexpectedToken,'ILLEGAL');}function lex(){var b;
return n?(a=n.range[1],i=n.lineNumber,j=n.lineStart,b=n,n=null,b):(n=null,advance());}function lookahead(){var b, c, d;
return n!==null?n:(b=a,c=i,d=j,n=advance(),a=b,i=c,j=d,n);}function lookahead2(){var b, d, e, f, g;
return b=typeof c.advance==='function'?c.advance:advance,d=a,e=i,f=j,n===null&&(n=b()),a=n.range[1],i=n.lineNumber,j=n.lineStart,g=b(),a=d,i=e,j=f,g;}function peekLineTerminator(){var c, b, d, e;
return c=a,b=i,d=j,skipComment(),e=i!==b,a=c,i=b,j=d,e;}function throwError(c,e){var b,    f=Array.prototype.slice.call(arguments,2),    d=e.replace(/%(\d)/g,function(b,a){    return f[a]||'';    });
throw typeof c.lineNumber==='number'?(b=new Error('Line '+c.lineNumber+': '+d),b.index=c.range[0],b.lineNumber=c.lineNumber,b.column=c.range[0]-j+1):(b=new Error('Line '+i+': '+d),b.index=a,b.lineNumber=i,b.column=a-j+1),b;}function throwErrorTolerant(){try{throwError.apply(null,arguments);}catch(a){if(!c.errors)throw a;c.errors.push(a);}}function throwUnexpected(a){a.type===e.EOF&&throwError(a,f.UnexpectedEOS),a.type===e.NumericLiteral&&throwError(a,f.UnexpectedNumber),a.type===e.StringLiteral&&throwError(a,f.UnexpectedString),a.type===e.Identifier&&throwError(a,f.UnexpectedIdentifier);if(a.type===e.Keyword){if(isFutureReservedWord(a.value))throwError(a,f.UnexpectedReserved);else if(l&&isStrictModeReservedWord(a.value)){throwErrorTolerant(a,f.StrictReservedWord);return;}throwError(a,f.UnexpectedToken,a.value);}a.type===e.Template&&throwError(a,f.UnexpectedTemplate,a.value.raw),a.type===e.AtSymbol&&throwError(a,f.UnexpectedIdentifier),throwError(a,f.UnexpectedToken,a.value);}function expect(b){var a=lex();
(a.type!==e.Punctuator||a.value!==b)&&throwUnexpected(a);}function expectKeyword(b){var a=lex();
(a.type!==e.Keyword||a.value!==b)&&throwUnexpected(a);}function match(b){var a=lookahead();
return a.type===e.Punctuator&&a.value===b;}function matchKeyword(b){var a=lookahead();
return a.type===e.Keyword&&a.value===b;}function matchContextualKeyword(b){var a=lookahead();
return a.value===b&&a.type===e.Identifier||a.type===e.AtSymbol;}function matchAssign(){var b=lookahead(),    a=b.value;
return b.type!==e.Punctuator?!1:a==='='||a==='*='||a==='/='||a==='%='||a==='+='||a==='-='||a==='<<='||a==='>>='||a==='>>>='||a==='&='||a==='^='||a==='|=';}function consumeSemicolon(){var b, c;
if(g[a]===';'){lex();return;}c=i,skipComment();if(i!==c)return;if(match(';')){lex();return;}b=lookahead(),b.type!==e.EOF&&!match('}')&&throwUnexpected(b);return;}function isLeftHandSide(a){return a.type===d.Identifier||a.type===d.MemberExpression;}function isAssignableLeftHandSide(a){return isLeftHandSide(a)||a.type===d.ObjectPattern||a.type===d.ArrayPattern;}function parseArrayInitialiser(){var b=[],    c=[],    g=null,    h,    a,    e=!0,    i;
expect('[');while(!match(']')){h=lookahead();switch(token.value){case'for':!e&&throwError({},f.ComprehensionError);matchKeyword('for');a=parseForStatement({ ignore_body:!0 });a.of=a.type===d.ForOfStatement;a.type=d.ComprehensionBlock;a.left.kind&&throwError({},f.ComprehensionError);c.push(a);break;case'if':!e&&throwError({},f.ComprehensionError);expectKeyword('if');expect('(');g=parseExpression();expect(')');break;case',':e=!1;lex();b.push(null);break;default:a=parseSpreadOrAssignmentExpression();b.push(a);a&&a.type===d.SpreadElement?!match(']')&&throwError({},f.ElementAfterSpreadElement):!(match(']')||matchKeyword('for')||matchKeyword('if'))&&(expect(','),e=!1);}}return expect(']'),g&&!c.length&&throwError({},f.ComprehensionRequiresBlock),c.length?(b.length!==1&&throwError({},f.ComprehensionError),{ type:d.ComprehensionExpression, filter:g, blocks:c, body:b[0] }):{ type:d.ArrayExpression, elements:b };}function parsePropertyFunction(a){var e, g, b, c;
return e=l,g=m,m=a.generator,b=a.params||[],c=parseConciseBody(),a.name&&l&&isRestrictedWord(b[0].name)&&throwErrorTolerant(a.name,f.StrictParamName),m&&!q&&throwError({},f.NoYieldInGenerator),l=e,m=g,{type:d.FunctionExpression,id:null,params:b,defaults:a.defaults||[],body:c,rest:a.rest||null,generator:a.generator,expression:c.type!==d.BlockStatement};}function parsePropertyMethodFunction(d){var e, b, a, c, f, g;
return b=l,l=!0,a=parseParams(),a.firstRestricted&&throwError(a.firstRestricted,a.message),a.stricted&&throwErrorTolerant(a.stricted,a.message),c=parsePropertyFunction({ defaults:a.defaults, params:a.params, rest:a.rest, generator:d.generator }),l=b,c;}function parseObjectPropertyKey(){var a=lex();
return a.type===e.StringLiteral||a.type===e.NumericLiteral?(l&&a.octal&&throwErrorTolerant(a,f.StrictOctalLiteral),createLiteral(a)):a.type===e.AtSymbol?a.internal?{ internal:!0, type:d.AtSymbol, name:a.value }:{ type:d.AtSymbol, name:a.value }:{ type:d.Identifier, name:a.value };}function parseObjectProperty(){var a, b, c, f;
a=lookahead();if(a.type===e.Identifier||a.type===e.AtSymbol)return c=parseObjectPropertyKey(),a.value==='get'&&!(match(':')||match('('))?(b=parseObjectPropertyKey(),expect('('),expect(')'),{ type:d.Property, key:b, value:parsePropertyFunction({ generator:!1 }), kind:'get' }):a.value==='set'&&!(match(':')||match('('))?(b=parseObjectPropertyKey(),f=parseParams(),f.name=a,f.generator=!1,{ type:d.Property, key:b, value:parsePropertyFunction(f), kind:'set' }):match(':')?(lex(),{ type:d.Property, key:c, value:parseAssignmentExpression(), kind:'init' }):match('(')?{ type:d.Property, key:c, value:parsePropertyMethodFunction({ generator:!1 }), kind:'init', method:!0 }:{ type:d.Property, key:c, value:c, kind:'init', shorthand:!0 };if(a.type===e.EOF||a.type===e.Punctuator)return!match('*')&&throwUnexpected(a),lex(),c=parseObjectPropertyKey(),!match('(')&&throwUnexpected(lex()),{ type:d.Property, key:c, value:parsePropertyMethodFunction({ generator:!0 }), kind:'init', method:!0 };{b=parseObjectPropertyKey();if(match(':'))return lex(),{ type:d.Property, key:b, value:parseAssignmentExpression(), kind:'init' };if(match('('))return{ type:d.Property, key:b, value:parsePropertyMethodFunction({ generator:!1 }), kind:'init', method:!0 };throwUnexpected(lex());}}function parseObjectInitialiser(){var g=[],    a,    b,    c,    e={},    h=String;
expect('{');while(!match('}'))a=parseObjectProperty(),a.key.type===d.Identifier||a.key.type===d.AtSymbol?b=a.key.name:b=h(a.key.value),c=a.kind==='init'?p.Data:a.kind==='get'?p.Get:p.Set,Object.prototype.hasOwnProperty.call(e,b)?(e[b]===p.Data?l&&c===p.Data?throwErrorTolerant({},f.StrictDuplicateProperty):c!==p.Data&&throwErrorTolerant({},f.AccessorDataProperty):c===p.Data?throwErrorTolerant({},f.AccessorDataProperty):e[b]&c&&throwErrorTolerant({},f.AccessorGetSet),e[b]|=c):e[b]=c,g.push(a),!match('}')&&expect(',');return expect('}'),{ type:d.ObjectExpression, properties:g };}function parseTemplateElement(b){var a=scanTemplateElement(b);
return l&&a.octal&&throwError(a,f.StrictOctalLiteral),{ type:d.TemplateElement, value:{ raw:a.value.raw, cooked:a.value.cooked }, tail:a.tail };}function parseTemplateLiteral(){var a, b, c;
a=parseTemplateElement({ head:!0 }),b=[a],c=[];while(!a.tail)c.push(parseExpression()),a=parseTemplateElement({ head:!1 }),b.push(a);return{ type:d.TemplateLiteral, templates:b, expressions:c };}function parseGroupExpression(){var a;
return expect('('),++h.parenthesizedCount,h.allowArrowFunction=!h.allowArrowFunction,a=parseExpression(),h.allowArrowFunction=!1,a.type!==d.ArrowFunctionExpression&&expect(')'),a;}function parsePrimaryExpression(){var c,    a=lookahead(),    b=a.type;
if(b===e.Identifier)return{ type:d.Identifier, name:lex().value };if(b===e.StringLiteral||b===e.NumericLiteral)return l&&a.octal&&throwErrorTolerant(a,f.StrictOctalLiteral),createLiteral(lex());if(b===e.Keyword){if(matchKeyword('this'))return lex(),{ type:d.ThisExpression };if(matchKeyword('function'))return parseFunctionExpression();if(matchKeyword('class'))return parseClassExpression();if(matchKeyword('super'))return lex(),{ type:d.Identifier, name:'super' };}return b===e.BooleanLiteral?(lex(),a.value=a.value==='true',createLiteral(a)):b===e.NullLiteral?(lex(),a.value=null,createLiteral(a)):match('[')?parseArrayInitialiser():match('{')?parseObjectInitialiser():match('(')?parseGroupExpression():match('/')||match('/=')?createLiteral(scanRegExp()):b===e.Template?parseTemplateLiteral():b===e.AtSymbol?{ internal:a.internal, type:d.AtSymbol, name:lex().value }:throwUnexpected(lex());}function parseArguments(){var c=[],    b;
expect('(');if(!match(')'))while(a<k){b=parseSpreadOrAssignmentExpression(),c.push(b);if(match(')'))break;b.type===d.SpreadElement&&throwError({},f.ElementAfterSpreadElement),expect(',');}return expect(')'),c;}function parseSpreadOrAssignmentExpression(){return match('...')?(lex(),{ type:d.SpreadElement, argument:parseAssignmentExpression() }):parseAssignmentExpression();}function parseNonComputedProperty(){var a=lex();
return!isIdentifierName(a)&&throwUnexpected(a),a.type===e.AtSymbol?{ internal:a.internal, type:d.AtSymbol, name:a.value }:{ type:d.Identifier, name:a.value };}function parseNonComputedMember(){return expect('.'),parseNonComputedProperty();}function parseComputedMember(){var a;
return expect('['),a=parseExpression(),expect(']'),a;}function parseNewExpression(){var a;
return expectKeyword('new'),a={ type:d.NewExpression, callee:parseLeftHandSideExpression(), 'arguments':[] },match('(')&&(a['arguments']=parseArguments()),a;}function parseLeftHandSideExpressionAllowCall(){var a;
a=matchKeyword('new')?parseNewExpression():parsePrimaryExpression();while(match('.')||match('[')||match('(')||lookahead().type===e.Template)match('(')?a={ type:d.CallExpression, callee:a, 'arguments':parseArguments() }:match('[')?a={ type:d.MemberExpression, computed:!0, object:a, property:parseComputedMember() }:match('.')?a={ type:d.MemberExpression, computed:!1, object:a, property:parseNonComputedMember() }:a={ type:d.TaggedTemplateExpression, tag:a, template:parseTemplateLiteral() };return a;}function parseLeftHandSideExpression(){var a;
a=matchKeyword('new')?parseNewExpression():parsePrimaryExpression();while(match('.')||match('[')||lookahead().type===e.Template)match('[')?a={ type:d.MemberExpression, computed:!0, object:a, property:parseComputedMember() }:match('.')?a={ type:d.MemberExpression, computed:!1, object:a, property:parseNonComputedMember() }:a={ type:d.TaggedTemplateExpression, tag:a, template:parseTemplateLiteral() };return a;}function parsePostfixExpression(){var a=parseLeftHandSideExpressionAllowCall(),    b=lookahead();
return b.type!==e.Punctuator?a:((match('++')||match('--'))&&!peekLineTerminator()&&(l&&a.type===d.Identifier&&isRestrictedWord(a.name)&&throwErrorTolerant({},f.StrictLHSPostfix),!isLeftHandSide(a)&&throwError({},f.InvalidLHSInAssignment),a={ type:d.UpdateExpression, operator:lex().value, argument:a, prefix:!1 }),a);}function parseUnaryExpression(){var b, a;
return b=lookahead(),b.type!==e.Punctuator&&b.type!==e.Keyword?parsePostfixExpression():match('++')||match('--')?(b=lex(),a=parseUnaryExpression(),l&&a.type===d.Identifier&&isRestrictedWord(a.name)&&throwErrorTolerant({},f.StrictLHSPrefix),!isLeftHandSide(a)&&throwError({},f.InvalidLHSInAssignment),a={ type:d.UpdateExpression, operator:b.value, argument:a, prefix:!0 },a):match('+')||match('-')||match('~')||match('!')?(a={ type:d.UnaryExpression, operator:lex().value, argument:parseUnaryExpression() },a):matchKeyword('delete')||matchKeyword('void')||matchKeyword('typeof')?(a={ type:d.UnaryExpression, operator:lex().value, argument:parseUnaryExpression() },l&&a.operator==='delete'&&a.argument.type===d.Identifier&&throwErrorTolerant({},f.StrictDelete),a):parsePostfixExpression();}function parseMultiplicativeExpression(){var a=parseUnaryExpression();
while(match('*')||match('/')||match('%'))a={ type:d.BinaryExpression, operator:lex().value, left:a, right:parseUnaryExpression() };return a;}function parseAdditiveExpression(){var a=parseMultiplicativeExpression();
while(match('+')||match('-'))a={ type:d.BinaryExpression, operator:lex().value, left:a, right:parseMultiplicativeExpression() };return a;}function parseShiftExpression(){var a=parseAdditiveExpression();
while(match('<<')||match('>>')||match('>>>'))a={ type:d.BinaryExpression, operator:lex().value, left:a, right:parseAdditiveExpression() };return a;}function parseRelationalExpression(){var a, b;
b=h.allowIn,h.allowIn=!0,a=parseShiftExpression();while(match('<')||match('>')||match('<=')||match('>=')||b&&matchKeyword('in')||matchKeyword('instanceof'))a={ type:d.BinaryExpression, operator:lex().value, left:a, right:parseShiftExpression() };return h.allowIn=b,a;}function parseEqualityExpression(){var a=parseRelationalExpression();
while(!peekLineTerminator()&&(matchContextualKeyword('is')||matchContextualKeyword('isnt'))||match('==')||match('!=')||match('===')||match('!=='))a={ type:d.BinaryExpression, operator:lex().value, left:a, right:parseRelationalExpression() };return a;}function parseBitwiseANDExpression(){var a=parseEqualityExpression();
while(match('&'))lex(),a={ type:d.BinaryExpression, operator:'&', left:a, right:parseEqualityExpression() };return a;}function parseBitwiseXORExpression(){var a=parseBitwiseANDExpression();
while(match('^'))lex(),a={ type:d.BinaryExpression, operator:'^', left:a, right:parseBitwiseANDExpression() };return a;}function parseBitwiseORExpression(){var a=parseBitwiseXORExpression();
while(match('|'))lex(),a={ type:d.BinaryExpression, operator:'|', left:a, right:parseBitwiseXORExpression() };return a;}function parseLogicalANDExpression(){var a=parseBitwiseORExpression();
while(match('&&'))lex(),a={ type:d.LogicalExpression, operator:'&&', left:a, right:parseBitwiseORExpression() };return a;}function parseLogicalORExpression(){var a=parseLogicalANDExpression();
while(match('||'))lex(),a={ type:d.LogicalExpression, operator:'||', left:a, right:parseLogicalANDExpression() };return a;}function parseConditionalExpression(){var a, b, c;
return a=parseLogicalORExpression(),match('?')&&(lex(),b=h.allowIn,h.allowIn=!0,c=parseAssignmentExpression(),h.allowIn=b,expect(':'),a={ type:d.ConditionalExpression, test:a, consequent:c, alternate:parseAssignmentExpression() }),a;}function reinterpretAsAssignmentBindingPattern(a){var b, c, e, g;
if(a.type===d.ObjectExpression){a.type=d.ObjectPattern;for(b=0,c=a.properties.length;b<c;b+=1)e=a.properties[b],e.kind!=='init'&&throwError({},f.InvalidLHSInAssignment),reinterpretAsAssignmentBindingPattern(e.value);}else if(a.type===d.ArrayExpression){a.type=d.ArrayPattern;for(b=0,c=a.elements.length;b<c;b+=1)g=a.elements[b],g&&reinterpretAsAssignmentBindingPattern(g);}else a.type===d.Identifier?isRestrictedWord(a.name)&&throwError({},f.InvalidLHSInAssignment):a.type===d.SpreadElement?(reinterpretAsAssignmentBindingPattern(a.argument),a.argument.type===d.ObjectPattern&&throwError({},f.ObjectPatternAsSpread)):a.type!==d.MemberExpression&&a.type!==d.CallExpression&&a.type!==d.NewExpression&&throwError({},f.InvalidLHSInAssignment);}function reinterpretAsDestructuredParameter(e,a){var b, c, g, h;
if(a.type===d.ObjectExpression||a.type===d.ObjectPattern){a.type=d.ObjectPattern;for(b=0,c=a.properties.length;b<c;b+=1)g=a.properties[b],g.kind!=='init'&&throwError({},f.InvalidLHSInFormalsList),reinterpretAsDestructuredParameter(e,g.value);}else if(a.type===d.ArrayExpression||a.type===d.ArrayPattern){a.type=d.ArrayPattern;for(b=0,c=a.elements.length;b<c;b+=1)h=a.elements[b],h&&reinterpretAsDestructuredParameter(e,h);}else a.type===d.Identifier?validateParam(e,a,a.name):a.type!==d.MemberExpression&&throwError({},f.InvalidLHSInFormalsList);}function reinterpretAsCoverFormalsList(j){var c, h, a, e, b, i, g;
e=[],g=[],i=null,b={ paramSet:{} };for(c=0,h=j.length;c<h;c+=1){a=j[c],a.type===d.AssignmentExpression&&a.operator==='='?(g.push(a.right),a=a.left):g.length&&a.type!==d.SpreadElement&&throwErrorTolerant({},f.DefaultsNotLast);if(a.type===d.Identifier)e.push(a),validateParam(b,a,a.name);else if(a.type===d.ObjectPattern||a.type===d.ArrayPattern)reinterpretAsDestructuredParameter(b,a),e.push(a);else if(a.type===d.ObjectExpression||a.type===d.ArrayExpression)reinterpretAsDestructuredParameter(b,a),e.push(a);else if(a.type===d.SpreadElement)c!==h-1&&throwErrorTolerant({},f.ParameterAfterRestParameter),reinterpretAsDestructuredParameter(b,a.argument),i=a.argument;else return null;}return b.firstRestricted&&throwError(b.firstRestricted,b.message),b.stricted&&throwErrorTolerant(b.stricted,b.message),{ params:e, rest:i, defaults:g };}function parseArrowFunctionExpression(a){var c, e, b;
return expect('=>'),c=l,e=m,l=!0,m=!1,b=parseConciseBody(),l=c,m=e,{type:d.ArrowFunctionExpression,id:null,params:a.params,defaults:a.defaults||[],body:b,rest:a.rest,generator:!1,expression:b.type!==d.BlockStatement};}function parseAssignmentExpression(){var a, b, g, c, i;
if(matchKeyword('yield'))return parseYieldExpression();c=h.parenthesizedCount;if(match('(')){b=lookahead2();if(b.type===e.Punctuator&&b.value===')'||b.value==='...')return g=parseParams(),!match('=>')&&throwUnexpected(lex()),parseArrowFunctionExpression(g);}return b=lookahead(),a=parseConditionalExpression(),match('=>')&&a.type===d.Identifier&&(h.parenthesizedCount===c||h.parenthesizedCount===c+1)?(isRestrictedWord(a.name)&&throwError({},f.StrictParamName),parseArrowFunctionExpression({ params:[a], rest:null })):(matchAssign()&&(l&&a.type===d.Identifier&&isRestrictedWord(a.name)&&throwErrorTolerant(b,f.StrictLHSAssignment),match('=')&&(a.type===d.ObjectExpression||a.type===d.ArrayExpression)?reinterpretAsAssignmentBindingPattern(a):!isLeftHandSide(a)&&throwError({},f.InvalidLHSInAssignment),a={ type:d.AssignmentExpression, operator:lex().value, left:a, right:parseAssignmentExpression() }),a);}function parseExpression(){var b, c, e, i, g;
b=parseAssignmentExpression();if(match(',')){c={ type:d.SequenceExpression, expressions:[b] };while(a<k){if(!match(','))break;lex(),b=parseSpreadOrAssignmentExpression(),c.expressions.push(b);if(b.type===d.SpreadElement){i=!0,!match(')')&&throwError({},f.ElementAfterSpreadElement);break;}}}if(h.allowArrowFunction&&match(')')){g=lookahead2();if(g.value==='=>'){lex(),h.allowArrowFunction=!1,b=c?c.expressions:[b],e=reinterpretAsCoverFormalsList(b);if(e)return parseArrowFunctionExpression(e);throwUnexpected(g);}}return i&&throwError({},f.IllegalSpread),c||b;}function parseStatementList(){var c=[],    b;
while(a<k){if(match('}'))break;b=parseSourceElement();if(typeof b==='undefined')break;c.push(b);}return c;}function parseBlock(){var a;
return expect('{'),a=parseStatementList(),expect('}'),{ type:d.BlockStatement, body:a };}function parseVariableIdentifier(){var a=lex();
return a.type!==e.Identifier&&throwUnexpected(a),{ type:d.Identifier, name:a.value };}function parseVariableDeclaration(c){var a,    b=null;
return match('{')?(a=parseObjectInitialiser(),reinterpretAsAssignmentBindingPattern(a)):match('[')?(a=parseArrayInitialiser(),reinterpretAsAssignmentBindingPattern(a)):(a=parseVariableIdentifier(),l&&isRestrictedWord(a.name)&&throwErrorTolerant({},f.StrictVarName)),c==='const'?(!match('=')&&throwError({},f.NoUnintializedConst),expect('='),b=parseAssignmentExpression()):match('=')&&(lex(),b=parseAssignmentExpression()),{ type:d.VariableDeclarator, id:a, init:b };}function parseVariableDeclarationList(c){var b=[];
while(a<k){b.push(parseVariableDeclaration(c));if(!match(','))break;lex();}return b;}function parseVariableStatement(){var a;
return expectKeyword('var'),a=parseVariableDeclarationList(),consumeSemicolon(),{ type:d.VariableDeclaration, declarations:a, kind:'var' };}function parseConstLetDeclaration(a){var b;
return expectKeyword(a),b=parseVariableDeclarationList(a),consumeSemicolon(),{ type:d.VariableDeclaration, declarations:b, kind:a };}function parseAtSymbol(){var a=lex();
return a.type!==e.AtSymbol&&throwUnexpected(a),{ internal:a.internal, type:d.AtSymbol, name:a.value };}function parsePrivateStatement(){var a;
return expectKeyword('private'),a=parseSymbolDeclarationList(),consumeSemicolon(),{ type:d.SymbolDeclaration, declarations:a, kind:'private' };}function parseSymbolStatement(){var a;
return matchContextualKeyword('symbol'),lex(),a=parseSymbolDeclarationList(),consumeSemicolon(),{ type:d.SymbolDeclaration, declarations:a, kind:'symbol' };}function parseSymbolDeclarationList(){var b=[];
while(a<k){b.push(parseSymbolDeclaration());if(!match(','))break;lex();}return b;}function parseSymbolDeclaration(){var a,    b=null;
return a=parseAtSymbol(),match('=')&&(lex(),b=parseAssignmentExpression()),{ type:d.SymbolDeclarator, id:a, init:b };}function parsePath(){var a, b;
a={ type:d.Path, body:[] };while(!0){lookahead().type===e.AtSymbol?b=parseAtSymbol():b=parseVariableIdentifier(),a.body.push(b);if(!match('.'))break;lex();}return a;}function parseGlob(){return expect('*'),{ type:d.Glob };}function parseModuleDeclaration(){var a, c, b;
return lex(),a=parseVariableIdentifier(),match('{')?{ type:d.ModuleDeclaration, id:a, body:parseModuleBlock() }:(expect('='),c=lookahead(),c.type===e.StringLiteral?b={ type:d.ModuleDeclaration, id:a, from:parsePrimaryExpression() }:b={ type:d.ModuleDeclaration, id:a, from:parsePath() },consumeSemicolon(),b);}function parseExportSpecifierSetProperty(){var a;
return a={ type:d.ExportSpecifier, id:parseVariableIdentifier(), from:null },match(':')&&(lex(),a.from=parsePath()),a;}function parseExportSpecifier(){var a, b;
if(match('{')){lex(),b=[];do b.push(parseExportSpecifierSetProperty());while(match(',')&&lex());return expect('}'),{ type:d.ExportSpecifierSet, specifiers:b };}return match('*')?(a={ type:d.ExportSpecifier, id:parseGlob(), from:null },matchContextualKeyword('from')&&(lex(),a.from=parsePath())):a={ type:d.ExportSpecifier, id:parseVariableIdentifier(), from:null },a;}function parseExportDeclaration(){var b, f, g, c;
expectKeyword('export'),b=lookahead();if(b.type===e.Keyword||b.type===e.Identifier&&b.value==='module'){switch(token.value){case'function':return{ type:d.ExportDeclaration, declaration:parseFunctionDeclaration() };case'module':return{ type:d.ExportDeclaration, declaration:parseModuleDeclaration() };case'let':case'const':return{ type:d.ExportDeclaration, declaration:parseConstLetDeclaration(b.value) };case'var':return{ type:d.ExportDeclaration, declaration:parseStatement() };case'class':return{ type:d.ExportDeclaration, declaration:parseClassDeclaration() };}throwUnexpected(lex());}if(b.type===e.Identifier&&b.value==='get'||b.value==='set')return lex(),g=parseObjectPropertyKey(),b.value==='get'?(expect('('),expect(')'),{ type:d.ExportDeclaration, kind:'get', key:g, value:parsePropertyFunction({ generator:!1 }) }):(c=parseParams(),c.name=b,c.generator=!1,{ type:d.ExportDeclaration, kind:'set', key:g, value:parsePropertyFunction(c) });f=[parseExportSpecifier()];if(match(','))while(a<k){if(!match(','))break;lex(),f.push(parseExportSpecifier());}return consumeSemicolon(),{ type:d.ExportDeclaration, specifiers:f };}function parseImportDeclaration(){var a, b;
expectKeyword('import');if(match('*'))a=[parseGlob()];else if(match('{')){lex(),a=[];do a.push(parseImportSpecifier());while(match(',')&&lex());expect('}');}else a=[parseVariableIdentifier()];return!matchContextualKeyword('from')&&throwError({},f.NoFromAfterImport),lex(),lookahead().type===e.StringLiteral?b=parsePrimaryExpression():b=parsePath(),consumeSemicolon(),{ type:d.ImportDeclaration, specifiers:a, from:b };}function parseImportSpecifier(){var a, b;
return lookahead().type===e.AtSymbol?a=parseAtSymbol():a=parseVariableIdentifier(),b={ type:d.ImportSpecifier, id:a, from:null },match(':')&&(lex(),b.from=parsePath()),b;}function parseEmptyStatement(){return expect(';'),{ type:d.EmptyStatement };}function parseExpressionStatement(){var a=parseExpression();
return consumeSemicolon(),{ type:d.ExpressionStatement, expression:a };}function parseIfStatement(){var b, c, a;
return expectKeyword('if'),expect('('),b=parseExpression(),expect(')'),c=parseStatement(),matchKeyword('else')?(lex(),a=parseStatement()):a=null,{ type:d.IfStatement, test:b, consequent:c, alternate:a };}function parseDoWhileStatement(){var a, b, c;
return expectKeyword('do'),c=h.inIteration,h.inIteration=!0,a=parseStatement(),h.inIteration=c,expectKeyword('while'),expect('('),b=parseExpression(),expect(')'),match(';')&&lex(),{ type:d.DoWhileStatement, body:a, test:b };}function parseWhileStatement(){var a, b, c;
return expectKeyword('while'),expect('('),a=parseExpression(),expect(')'),c=h.inIteration,h.inIteration=!0,b=parseStatement(),h.inIteration=c,{ type:d.WhileStatement, test:a, body:b };}function parseForVariableDeclaration(){var a=lex();
return{ type:d.VariableDeclaration, declarations:parseVariableDeclarationList(), kind:a.value };}function parseForStatement(l){var a, j, k, c, e, i, g, m;
return a=j=k=null,expectKeyword('for'),matchContextualKeyword('each')&&lex(),expect('('),match(';')?lex():(matchKeyword('var')||matchKeyword('let')||matchKeyword('const')?(h.allowIn=!1,a=parseForVariableDeclaration(),h.allowIn=!0,a.declarations.length===1&&(matchKeyword('in')||matchContextualKeyword('of'))&&(g=lookahead(),!((g.value==='in'||a.kind!=='var')&&a.declarations[0].init)&&(lex(),c=a,e=parseExpression(),a=null))):(h.allowIn=!1,a=parseExpression(),h.allowIn=!0,matchContextualKeyword('of')?(g=lex(),c=a,e=parseExpression(),a=null):matchKeyword('in')&&(!isAssignableLeftHandSide(a)&&throwError({},f.InvalidLHSInForIn),g=lex(),c=a,e=parseExpression(),a=null)),typeof c==='undefined'&&expect(';')),typeof c==='undefined'&&(!match(';')&&(j=parseExpression()),expect(';'),!match(')')&&(k=parseExpression())),expect(')'),m=h.inIteration,h.inIteration=!0,!(l!==b&&l.ignore_body)&&(i=parseStatement()),h.inIteration=m,typeof c==='undefined'?{ type:d.ForStatement, init:a, test:j, update:k, body:i }:g.value==='in'?{ type:d.ForInStatement, left:c, right:e, body:i, each:!1 }:{ type:d.ForOfStatement, left:c, right:e, body:i };}function parseContinueStatement(){var c,    b=null;
return expectKeyword('continue'),g[a]===';'?(lex(),!h.inIteration&&throwError({},f.IllegalContinue),{ type:d.ContinueStatement, label:null }):peekLineTerminator()?(!h.inIteration&&throwError({},f.IllegalContinue),{ type:d.ContinueStatement, label:null }):(c=lookahead(),c.type===e.Identifier&&(b=parseVariableIdentifier(),!Object.prototype.hasOwnProperty.call(h.labelSet,b.name)&&throwError({},f.UnknownLabel,b.name)),consumeSemicolon(),b===null&&!h.inIteration&&throwError({},f.IllegalContinue),{ type:d.ContinueStatement, label:b });}function parseBreakStatement(){var c,    b=null;
return expectKeyword('break'),g[a]===';'?(lex(),!(h.inIteration||h.inSwitch)&&throwError({},f.IllegalBreak),{ type:d.BreakStatement, label:null }):peekLineTerminator()?(!(h.inIteration||h.inSwitch)&&throwError({},f.IllegalBreak),{ type:d.BreakStatement, label:null }):(c=lookahead(),c.type===e.Identifier&&(b=parseVariableIdentifier(),!Object.prototype.hasOwnProperty.call(h.labelSet,b.name)&&throwError({},f.UnknownLabel,b.name)),consumeSemicolon(),b===null&&!(h.inIteration||h.inSwitch)&&throwError({},f.IllegalBreak),{ type:d.BreakStatement, label:b });}function parseReturnStatement(){var c,    b=null;
return expectKeyword('return'),!h.inFunctionBody&&throwErrorTolerant({},f.IllegalReturn),g[a]===' '&&isIdentifierStart(g[a+1])?(b=parseExpression(),consumeSemicolon(),{ type:d.ReturnStatement, argument:b }):peekLineTerminator()?{ type:d.ReturnStatement, argument:null }:(!match(';')&&(c=lookahead(),!match('}')&&c.type!==e.EOF&&(b=parseExpression())),consumeSemicolon(),{ type:d.ReturnStatement, argument:b });}function parseWithStatement(){var a, b;
return l&&throwErrorTolerant({},f.StrictModeWith),expectKeyword('with'),expect('('),a=parseExpression(),expect(')'),b=parseStatement(),{ type:d.WithStatement, object:a, body:b };}function parseSwitchCase(){var b,    e=[],    c;
matchKeyword('default')?(lex(),b=null):(expectKeyword('case'),b=parseExpression()),expect(':');while(a<k){if(match('}')||matchKeyword('default')||matchKeyword('case'))break;c=parseSourceElement();if(typeof c==='undefined')break;e.push(c);}return{ type:d.SwitchCase, test:b, consequent:e };}function parseSwitchStatement(){var b, c, e, i, g;
expectKeyword('switch'),expect('('),b=parseExpression(),expect(')'),expect('{');if(match('}'))return lex(),{ type:d.SwitchStatement, discriminant:b };c=[],i=h.inSwitch,h.inSwitch=!0,g=!1;while(a<k){if(match('}'))break;e=parseSwitchCase(),e.test===null&&(g&&throwError({},f.MultipleDefaultsInSwitch),g=!0),c.push(e);}return h.inSwitch=i,expect('}'),{ type:d.SwitchStatement, discriminant:b, cases:c };}function parseThrowStatement(){var a;
return expectKeyword('throw'),peekLineTerminator()&&throwError({},f.NewlineAfterThrow),a=parseExpression(),consumeSemicolon(),{ type:d.ThrowStatement, argument:a };}function parseCatchClause(){var a;
return expectKeyword('catch'),expect('('),!match(')')&&(a=parseExpression(),l&&a.type===d.Identifier&&isRestrictedWord(a.name)&&throwErrorTolerant({},f.StrictCatchVariable)),expect(')'),{ type:d.CatchClause, param:a, body:parseBlock() };}function parseTryStatement(){var c,    a=[],    b=null;
return expectKeyword('try'),c=parseBlock(),matchKeyword('catch')&&a.push(parseCatchClause()),matchKeyword('finally')&&(lex(),b=parseBlock()),a.length===0&&!b&&throwError({},f.NoCatchOrFinally),{ type:d.TryStatement, block:c, guardedHandlers:[], handlers:a, finalizer:b };}function parseDebuggerStatement(){return expectKeyword('debugger'),consumeSemicolon(),{ type:d.DebuggerStatement };}function parseStatement(){var b=lookahead(),    a,    c;
b.type===e.EOF&&throwUnexpected(b);if(b.type===e.Punctuator)switch(token.value){case';':return parseEmptyStatement();case'{':return parseBlock();case'(':return parseExpressionStatement();default:break;}if(b.type===e.Keyword)switch(token.value){case'break':return parseBreakStatement();case'continue':return parseContinueStatement();case'debugger':return parseDebuggerStatement();case'do':return parseDoWhileStatement();case'for':return parseForStatement();case'function':return parseFunctionDeclaration();case'class':return parseClassDeclaration();case'if':return parseIfStatement();case'private':return parsePrivateStatement();case'return':return parseReturnStatement();case'switch':return parseSwitchStatement();case'throw':return parseThrowStatement();case'try':return parseTryStatement();case'var':return parseVariableStatement();case'while':return parseWhileStatement();case'with':return parseWithStatement();default:break;}return b.type===e.Identifier&&b.value==='symbol'&&lookahead2().type===e.AtSymbol?parseSymbolStatement():(a=parseExpression(),a.type===d.Identifier&&match(':')?(lex(),Object.prototype.hasOwnProperty.call(h.labelSet,a.name)&&throwError({},f.Redeclaration,'Label',a.name),h.labelSet[a.name]=!0,c=parseStatement(),delete h.labelSet[a.name],{ type:d.LabeledStatement, label:a, body:c }):(consumeSemicolon(),{ type:d.ExpressionStatement, expression:a }));}function parseConciseBody(){return match('{')?parseFunctionSourceElements():parseAssignmentExpression();}function parseFunctionSourceElements(){var c,    i=[],    b,    j,    g,    n,    o,    p,    q,    m;
expect('{');while(a<k){b=lookahead();if(b.type!==e.StringLiteral)break;c=parseSourceElement(),i.push(c);if(c.expression.type!==d.Literal)break;j=sliceSource(b.range[0]+1,b.range[1]-1),j==='use strict'?(l=!0,g&&throwErrorTolerant(g,f.StrictOctalLiteral)):!g&&b.octal&&(g=b);}n=h.labelSet,o=h.inIteration,p=h.inSwitch,q=h.inFunctionBody,m=h.parenthesizedCount,h.labelSet={},h.inIteration=!1,h.inSwitch=!1,h.inFunctionBody=!0,h.parenthesizedCount=0;while(a<k){if(match('}'))break;c=parseSourceElement();if(typeof c==='undefined')break;i.push(c);}return expect('}'),h.labelSet=n,h.inIteration=o,h.inSwitch=p,h.inFunctionBody=q,h.parenthesizedCount=m,{ type:d.BlockStatement, body:i };}function validateParam(a,c,b){l?(isRestrictedWord(b)&&(a.stricted=c,a.message=f.StrictParamName),Object.prototype.hasOwnProperty.call(a.paramSet,b)&&(a.stricted=c,a.message=f.StrictParamDupe)):!a.firstRestricted&&(isRestrictedWord(b)?(a.firstRestricted=c,a.message=f.StrictParamName):isStrictModeReservedWord(b)?(a.firstRestricted=c,a.message=f.StrictReservedWord):Object.prototype.hasOwnProperty.call(a.paramSet,b)&&(a.firstRestricted=c,a.message=f.StrictParamDupe)),a.paramSet[b]=!0;}function parseParam(a){var c, d, b;
return c=lookahead(),c.value==='...'&&(c=lex(),d=!0),match('[')?(b=parseArrayInitialiser(),reinterpretAsDestructuredParameter(a,b)):match('{')?(d&&throwError({},f.ObjectPatternAsRestParameter),b=parseObjectInitialiser(),reinterpretAsDestructuredParameter(a,b)):(b=parseVariableIdentifier(),validateParam(a,c,c.value)),d?(!match(')')&&throwError({},f.ParameterAfterRestParameter),a.rest=b,!1):(match('=')?(lex(),a.defaults.push(parseAssignmentExpression())):a.defaults.length&&throwError({},f.DefaultsNotLast),a.params.push(b),!match(')'));}function parseParams(c){var b;
b={ params:[], defaults:[], rest:null, firstRestricted:c },expect('(');if(!match(')')){b.paramSet={};while(a<k){if(!parseParam(b))break;expect(',');}}return expect(')'),b;}function parseFunctionDeclaration(){var h, n, b, a, c, e, j, k, g, i;
return expectKeyword('function'),g=!1,match('*')&&(lex(),g=!0),b=lookahead(),h=parseVariableIdentifier(),l?isRestrictedWord(b.value)&&throwErrorTolerant(b,f.StrictFunctionName):isRestrictedWord(b.value)?(c=b,e=f.StrictFunctionName):isStrictModeReservedWord(b.value)&&(c=b,e=f.StrictReservedWord),a=parseParams(c),c=a.firstRestricted,a.message&&(e=a.message),j=l,k=m,m=g,i=!match('{'),n=parseConciseBody(),l&&c&&throwError(c,e),l&&a.stricted&&throwErrorTolerant(a.stricted,e),m&&!q&&throwError({},f.NoYieldInGenerator),l=j,m=k,{type:d.FunctionDeclaration,id:h,params:a.params,defaults:a.defaults,body:n,rest:a.rest,generator:g,expression:i};}function parseFunctionExpression(){var b,    n=null,    c,    e,    a,    i,    j,    k,    g,    h;
return expectKeyword('function'),g=!1,match('*')&&(lex(),g=!0),!match('(')&&(b=lookahead(),n=parseVariableIdentifier(),l?isRestrictedWord(b.value)&&throwErrorTolerant(b,f.StrictFunctionName):isRestrictedWord(b.value)?(c=b,e=f.StrictFunctionName):isStrictModeReservedWord(b.value)&&(c=b,e=f.StrictReservedWord)),a=parseParams(c),c=a.firstRestricted,a.message&&(e=a.message),j=l,k=m,m=g,h=!match('{'),i=parseConciseBody(),l&&c&&throwError(c,e),l&&a.stricted&&throwErrorTolerant(a.stricted,e),m&&!q&&throwError({},f.NoYieldInGenerator),l=j,m=k,{type:d.FunctionExpression,id:n,params:a.params,defaults:a.defaults,body:i,rest:a.rest,generator:g,expression:h};}function parseYieldExpression(){var a, b, c;
return expectKeyword('yield'),!m&&throwErrorTolerant({},f.IllegalYield),a=!1,match('*')&&(lex(),a=!0),c=m,m=!1,b=parseAssignmentExpression(),m=c,q=!0,{ type:d.YieldExpression, argument:b, delegate:a };}function parseMethodDefinition(){var b, a, c;
return match('*')?(lex(),{type:d.MethodDefinition,key:parseObjectPropertyKey(),value:parsePropertyMethodFunction({ generator:!0 }),kind:''}):(b=lookahead(),a=parseObjectPropertyKey(),b.value==='get'&&!match('(')?(a=parseObjectPropertyKey(),expect('('),expect(')'),{ type:d.MethodDefinition, key:a, value:parsePropertyFunction({ generator:!1 }), kind:'get' }):b.value==='set'&&!match('(')?(a=parseObjectPropertyKey(),c=parseParams(),c.name=b,c.generator=!1,{ type:d.MethodDefinition, key:a, value:parsePropertyFunction(c), kind:'set' }):{ type:d.MethodDefinition, key:a, value:parsePropertyMethodFunction({ generator:!1 }), kind:'' });}function parseClassElement(){if(match(';')){lex();return;}else return lookahead().value==='private'&&lookahead2().type===e.AtSymbol?parsePrivateStatement():lookahead().value==='symbol'&&lookahead2().type===e.AtSymbol?parseSymbolStatement():parseMethodDefinition();}function parseClassBody(){var b,    c=[];
expect('{');while(a<k){if(match('}'))break;b=parseClassElement(),typeof b!=='undefined'&&c.push(b);}return expect('}'),{ type:d.ClassBody, body:c };}function parseClassExpression(){var a, b, c, e;
return expectKeyword('class'),!matchKeyword('extends')&&!match('{')&&(a=parseVariableIdentifier()),matchKeyword('extends')&&(expectKeyword('extends'),c=m,m=!1,e=parseAssignmentExpression(),m=c),b=parseClassBody(),{ id:a, type:d.ClassExpression, body:b, superClass:e };}function parseClassDeclaration(){var f, a, b, c, e;
return expectKeyword('class'),f=lookahead(),a=parseVariableIdentifier(),matchKeyword('extends')&&(expectKeyword('extends'),c=m,m=!1,e=parseAssignmentExpression(),m=c),b=parseClassBody(),{ id:a, type:d.ClassDeclaration, body:b, superClass:e };}function parseSourceElement(){var a=lookahead();
if(a.type===e.Keyword)switch(token.value){case'const':case'let':return parseConstLetDeclaration(a.value);case'function':return parseFunctionDeclaration();default:return parseStatement();}if(a.type!==e.EOF)return parseStatement();}function parseProgramElement(){var a=lookahead(),    b;
if(a.type===e.Keyword)switch(token.value){case'export':return parseExportDeclaration();case'import':return parseImportDeclaration();}if(a.value==='module'&&a.type===e.Identifier){b=a.lineNumber,a=lookahead2();if(a.type===e.Identifier&&a.lineNumber===b)return parseModuleDeclaration();}return parseSourceElement();}function parseProgramElements(){var b,    h=[],    c,    i,    g;
while(a<k){c=lookahead();if(c.type!==e.StringLiteral)break;b=parseProgramElement(),h.push(b);if(b.expression.type!==d.Literal)break;i=sliceSource(c.range[0]+1,c.range[1]-1),i==='use strict'?(l=!0,g&&throwErrorTolerant(g,f.StrictOctalLiteral)):!g&&c.octal&&(g=c);}while(a<k){b=parseProgramElement();if(typeof b==='undefined')break;h.push(b);}return h;}function parseModuleElement(){return parseProgramElement();}function parseModuleElements(){var c=[],    b;
while(a<k){if(match('}'))break;b=parseModuleElement();if(typeof b==='undefined')break;c.push(b);}return c;}function parseModuleBlock(){var a;
return expect('{'),a=parseModuleElements(),expect('}'),{ type:d.BlockStatement, body:a };}function parseProgram(){var a;
return l=!1,m=!1,q=!1,a={ type:d.Program, body:parseProgramElements() },a;}function addComment(b,d,a,e,f){assert(typeof a==='number','Comment must have valid position');if(c.comments.length>0&&c.comments[c.comments.length-1].range[1]>a)return;c.comments.push({ type:b, value:d, range:[a, e], loc:f });}function scanComment(){var c, b, d, e, l, h;
c='',l=!1,h=!1;while(a<k){b=g[a];if(h)b=nextChar(),isLineTerminator(b)?(d.end={ line:i, column:a-j-1 },h=!1,addComment('Line',c,e,a-1,d),b==='\r'&&g[a]==='\n'&&++a,++i,j=a,c=''):a>=k?(h=!1,c+=b,d.end={ line:i, column:k-j },addComment('Line',c,e,k,d)):c+=b;else if(l)isLineTerminator(b)?(b==='\r'&&g[a+1]==='\n'?(++a,c+='\r\n'):c+=b,++i,++a,j=a,a>=k&&throwError({},f.UnexpectedToken,'ILLEGAL')):(b=nextChar(),a>=k&&throwError({},f.UnexpectedToken,'ILLEGAL'),c+=b,b==='*'&&(b=g[a],b==='/'&&(c=c.substr(0,c.length-1),l=!1,++a,d.end={ line:i, column:a-j },addComment('Block',c,e,a,d),c='')));else if(b==='/'){b=g[a+1];if(b==='/')d={ start:{ line:i, column:a-j } },e=a,a+=2,h=!0,a>=k&&(d.end={ line:i, column:a-j },h=!1,addComment('Line',c,e,a,d));else if(b==='*')e=a,a+=2,l=!0,d={ start:{ line:i, column:a-j-2 } },a>=k&&throwError({},f.UnexpectedToken,'ILLEGAL');else break;}else if(isWhiteSpace(b))++a;else if(isLineTerminator(b))++a,b==='\r'&&g[a]==='\n'&&++a,++i,j=a;else break;}}function filterCommentLocation(){var b,    a,    d,    e=[];
for(b=0;b<c.comments.length;++b)a=c.comments[b],d={ type:a.type, value:a.value },c.range&&(d.range=a.range),c.loc&&(d.loc=a.loc),e.push(d);c.comments=e;}function collectToken(){var h, d, b, f, g;
return skipComment(),h=a,d={ start:{ line:i, column:a-j } },b=c.advance(),d.end={ line:i, column:a-j },b.type!==e.EOF&&(f=[b.range[0], b.range[1]],g=sliceSource(b.range[0],b.range[1]),c.tokens.push({ type:o[b.type], value:g, range:f, loc:d })),b;}function collectRegex(){var d, e, f, b;
return skipComment(),d=a,e={ start:{ line:i, column:a-j } },f=c.scanRegExp(),e.end={ line:i, column:a-j },c.tokens.length>0&&(b=c.tokens[c.tokens.length-1],b.range[0]===d&&b.type==='Punctuator'&&((b.value==='/'||b.value==='/=')&&c.tokens.pop())),c.tokens.push({ type:'RegularExpression', value:f.literal, range:[d, a], loc:e }),f;}function filterTokenLocation(){var b,    a,    d,    e=[];
for(b=0;b<c.tokens.length;++b)a=c.tokens[b],d={ type:a.type, value:a.value },c.range&&(d.range=a.range),c.loc&&(d.loc=a.loc),e.push(d);c.tokens=e;}function createLiteral(a){return{ type:d.Literal, value:a.value };}function createRawLiteral(a){return{ type:d.Literal, value:a.value, raw:sliceSource(a.range[0],a.range[1]) };}function createLocationMarker(){var b={};
return b.range=[a, a],b.loc={ start:{ line:i, column:a-j }, end:{ line:i, column:a-j } },b.end=function(){this.range[1]=a,this.loc.end.line=i,this.loc.end.column=a-j;},b.applyGroup=function(a){c.range&&(a.groupRange=[this.range[0], this.range[1]]),c.loc&&(a.groupLoc={start:{ line:this.loc.start.line, column:this.loc.start.column },end:{ line:this.loc.end.line, column:this.loc.end.column }});},b.apply=function(a){if(a===!0||a===!1)return;c.range&&(a.range=[this.range[0], this.range[1]]),c.loc&&(a.loc={start:{ line:this.loc.start.line, column:this.loc.start.column },end:{ line:this.loc.end.line, column:this.loc.end.column }});},b;}function trackGroupExpression(){var a, b;
return skipComment(),a=createLocationMarker(),expect('('),++h.parenthesizedCount,h.allowArrowFunction=!h.allowArrowFunction,b=parseExpression(),h.allowArrowFunction=!1,b.type==='ArrowFunctionExpression'?(a.end(),a.apply(b)):(expect(')'),a.end(),a.applyGroup(b)),b;}function trackLeftHandSideExpression(){var b, a;
skipComment(),b=createLocationMarker(),a=matchKeyword('new')?parseNewExpression():parsePrimaryExpression();while(match('.')||match('[')||lookahead().type===e.Template)match('[')?(a={ type:d.MemberExpression, computed:!0, object:a, property:parseComputedMember() },b.end(),b.apply(a)):match('.')?(a={ type:d.MemberExpression, computed:!1, object:a, property:parseNonComputedMember() },b.end(),b.apply(a)):(a={ type:d.TaggedTemplateExpression, tag:a, template:parseTemplateLiteral() },b.end(),b.apply(a));return a;}function trackLeftHandSideExpressionAllowCall(){var b, a;
skipComment(),b=createLocationMarker(),a=matchKeyword('new')?parseNewExpression():parsePrimaryExpression();while(match('.')||match('[')||match('(')||lookahead().type===e.Template)match('(')?(a={ type:d.CallExpression, callee:a, 'arguments':parseArguments() },b.end(),b.apply(a)):match('[')?(a={ type:d.MemberExpression, computed:!0, object:a, property:parseComputedMember() },b.end(),b.apply(a)):match('.')?(a={ type:d.MemberExpression, computed:!1, object:a, property:parseNonComputedMember() },b.end(),b.apply(a)):(a={ type:d.TaggedTemplateExpression, tag:a, template:parseTemplateLiteral() },b.end(),b.apply(a));return a;}function filterGroup(c){var d, a, b;
d=Object.prototype.toString.apply(c)==='[object Array]'?[]:{};for(a in c)c.hasOwnProperty(a)&&a!=='groupRange'&&a!=='groupLoc'&&(b=c[a],b===null||typeof b!=='object'||b instanceof RegExp?d[a]=b:d[a]=filterGroup(b));return d;}function wrapTrackingFunction(a,b){return function(c){function isBinary(a){return a.type===d.LogicalExpression||a.type===d.BinaryExpression;}function visit(c){var d, e;
isBinary(c.left)&&visit(c.left),isBinary(c.right)&&visit(c.right),a&&(c.left.groupRange||c.right.groupRange?(d=c.left.groupRange?c.left.groupRange[0]:c.left.range[0],e=c.right.groupRange?c.right.groupRange[1]:c.right.range[1],c.range=[d, e]):typeof c.range==='undefined'&&(d=c.left.range[0],e=c.right.range[1],c.range=[d, e])),b&&(c.left.groupLoc||c.right.groupLoc?(d=c.left.groupLoc?c.left.groupLoc.start:c.left.loc.start,e=c.right.groupLoc?c.right.groupLoc.end:c.right.loc.end,c.loc={ start:d, end:e }):typeof c.loc==='undefined'&&(c.loc={ start:c.left.loc.start, end:c.right.loc.end }));}return function(){var e, d;
return skipComment(),e=createLocationMarker(),d=c.apply(null,arguments),e.end(),a&&typeof d.range==='undefined'&&e.apply(d),b&&typeof d.loc==='undefined'&&e.apply(d),isBinary(d)&&visit(d),d;};};}function patch(){var a;
c.comments&&(c.skipComment=skipComment,skipComment=scanComment),c.raw&&(c.createLiteral=createLiteral,createLiteral=createRawLiteral),(c.range||c.loc)&&(c.parseGroupExpression=parseGroupExpression,c.parseLeftHandSideExpression=parseLeftHandSideExpression,c.parseLeftHandSideExpressionAllowCall=parseLeftHandSideExpressionAllowCall,parseGroupExpression=trackGroupExpression,parseLeftHandSideExpression=trackLeftHandSideExpression,parseLeftHandSideExpressionAllowCall=trackLeftHandSideExpressionAllowCall,a=wrapTrackingFunction(c.range,c.loc),c.parseAdditiveExpression=parseAdditiveExpression,c.parseAssignmentExpression=parseAssignmentExpression,c.parseAtSymbol=parseAtSymbol,c.parseBitwiseANDExpression=parseBitwiseANDExpression,c.parseBitwiseORExpression=parseBitwiseORExpression,c.parseBitwiseXORExpression=parseBitwiseXORExpression,c.parseBlock=parseBlock,c.parseFunctionSourceElements=parseFunctionSourceElements,c.parseCatchClause=parseCatchClause,c.parseComputedMember=parseComputedMember,c.parseConditionalExpression=parseConditionalExpression,c.parseConstLetDeclaration=parseConstLetDeclaration,c.parseEqualityExpression=parseEqualityExpression,c.parseExportDeclaration=parseExportDeclaration,c.parseExportSpecifier=parseExportSpecifier,c.parseExportSpecifierSetProperty=parseExportSpecifierSetProperty,c.parseExpression=parseExpression,c.parseForVariableDeclaration=parseForVariableDeclaration,c.parseFunctionDeclaration=parseFunctionDeclaration,c.parseFunctionExpression=parseFunctionExpression,c.parseParam=parseParam,c.parseGlob=parseGlob,c.parseImportDeclaration=parseImportDeclaration,c.parseImportSpecifier=parseImportSpecifier,c.parseLogicalANDExpression=parseLogicalANDExpression,c.parseLogicalORExpression=parseLogicalORExpression,c.parseMultiplicativeExpression=parseMultiplicativeExpression,c.parseModuleDeclaration=parseModuleDeclaration,c.parseModuleBlock=parseModuleBlock,c.parseNewExpression=parseNewExpression,c.parseNonComputedProperty=parseNonComputedProperty,c.parseObjectProperty=parseObjectProperty,c.parseObjectPropertyKey=parseObjectPropertyKey,c.parseParam=parseParam,c.parsePath=parsePath,c.parsePostfixExpression=parsePostfixExpression,c.parsePrimaryExpression=parsePrimaryExpression,c.parsePrivateStatement=parsePrivateStatement,c.parseProgram=parseProgram,c.parsePropertyFunction=parsePropertyFunction,c.parseRelationalExpression=parseRelationalExpression,c.parseSpreadOrAssignmentExpression=parseSpreadOrAssignmentExpression,c.parseSymbolStatement=parseSymbolStatement,c.parseSymbolDeclarationList=parseSymbolDeclarationList,c.parseSymbolDeclaration=parseSymbolDeclaration,c.parseTemplateElement=parseTemplateElement,c.parseTemplateLiteral=parseTemplateLiteral,c.parseStatement=parseStatement,c.parseShiftExpression=parseShiftExpression,c.parseSwitchCase=parseSwitchCase,c.parseUnaryExpression=parseUnaryExpression,c.parseVariableDeclaration=parseVariableDeclaration,c.parseVariableIdentifier=parseVariableIdentifier,c.parseMethodDefinition=parseMethodDefinition,c.parseClassDeclaration=parseClassDeclaration,c.parseClassExpression=parseClassExpression,c.parseClassBody=parseClassBody,parseAdditiveExpression=a(c.parseAdditiveExpression),parseAssignmentExpression=a(c.parseAssignmentExpression),parseAtSymbol=a(c.parseAtSymbol),parseBitwiseANDExpression=a(c.parseBitwiseANDExpression),parseBitwiseORExpression=a(c.parseBitwiseORExpression),parseBitwiseXORExpression=a(c.parseBitwiseXORExpression),parseBlock=a(c.parseBlock),parseFunctionSourceElements=a(c.parseFunctionSourceElements),parseCatchClause=a(c.parseCatchClause),parseComputedMember=a(c.parseComputedMember),parseConditionalExpression=a(c.parseConditionalExpression),parseConstLetDeclaration=a(c.parseConstLetDeclaration),parseExportDeclaration=a(parseExportDeclaration),parseExportSpecifier=a(parseExportSpecifier),parseExportSpecifierSetProperty=a(parseExportSpecifierSetProperty),parseEqualityExpression=a(c.parseEqualityExpression),parseExpression=a(c.parseExpression),parseForVariableDeclaration=a(c.parseForVariableDeclaration),parseFunctionDeclaration=a(c.parseFunctionDeclaration),parseFunctionExpression=a(c.parseFunctionExpression),parseParam=a(c.parseParam),parseGlob=a(c.parseGlob),parseImportDeclaration=a(c.parseImportDeclaration),parseImportSpecifier=a(c.parseImportSpecifier),parseLogicalANDExpression=a(c.parseLogicalANDExpression),parseLogicalORExpression=a(c.parseLogicalORExpression),parseMultiplicativeExpression=a(c.parseMultiplicativeExpression),parseModuleDeclaration=a(c.parseModuleDeclaration),parseModuleBlock=a(c.parseModuleBlock),parseNewExpression=a(c.parseNewExpression),parseNonComputedProperty=a(c.parseNonComputedProperty),parseObjectProperty=a(c.parseObjectProperty),parseObjectPropertyKey=a(c.parseObjectPropertyKey),parseParam=a(c.parseParam),parsePath=a(c.parsePath),parsePostfixExpression=a(c.parsePostfixExpression),parsePrivateStatement=a(c.parsePrivateStatement),parsePrimaryExpression=a(c.parsePrimaryExpression),parseProgram=a(c.parseProgram),parsePropertyFunction=a(c.parsePropertyFunction),parseSymbolStatement=a(c.parseSymbolStatement),parseSymbolDeclarationList=a(c.parseSymbolDeclarationList),parseSymbolDeclaration=a(c.parseSymbolDeclaration),parseTemplateElement=a(c.parseTemplateElement),parseTemplateLiteral=a(c.parseTemplateLiteral),parseRelationalExpression=a(c.parseRelationalExpression),parseSpreadOrAssignmentExpression=a(c.parseSpreadOrAssignmentExpression),parseStatement=a(c.parseStatement),parseShiftExpression=a(c.parseShiftExpression),parseSwitchCase=a(c.parseSwitchCase),parseUnaryExpression=a(c.parseUnaryExpression),parseVariableDeclaration=a(c.parseVariableDeclaration),parseVariableIdentifier=a(c.parseVariableIdentifier),parseMethodDefinition=a(c.parseMethodDefinition),parseClassDeclaration=a(c.parseClassDeclaration),parseClassExpression=a(c.parseClassExpression),parseClassBody=a(c.parseClassBody)),typeof c.tokens!=='undefined'&&(c.advance=advance,c.scanRegExp=scanRegExp,advance=collectToken,scanRegExp=collectRegex);}function unpatch(){typeof c.skipComment==='function'&&(skipComment=c.skipComment),c.raw&&(createLiteral=c.createLiteral),(c.range||c.loc)&&(parseAdditiveExpression=c.parseAdditiveExpression,parseAssignmentExpression=c.parseAssignmentExpression,parseAtSymbol=c.parseAtSymbol,parseBitwiseANDExpression=c.parseBitwiseANDExpression,parseBitwiseORExpression=c.parseBitwiseORExpression,parseBitwiseXORExpression=c.parseBitwiseXORExpression,parseBlock=c.parseBlock,parseFunctionSourceElements=c.parseFunctionSourceElements,parseCatchClause=c.parseCatchClause,parseComputedMember=c.parseComputedMember,parseConditionalExpression=c.parseConditionalExpression,parseConstLetDeclaration=c.parseConstLetDeclaration,parseEqualityExpression=c.parseEqualityExpression,parseExportDeclaration=c.parseExportDeclaration,parseExportSpecifier=c.parseExportSpecifier,parseExportSpecifierSetProperty=c.parseExportSpecifierSetProperty,parseExpression=c.parseExpression,parseForVariableDeclaration=c.parseForVariableDeclaration,parseFunctionDeclaration=c.parseFunctionDeclaration,parseFunctionExpression=c.parseFunctionExpression,parseParam=c.parseParam,parseGlob=c.parseGlob,parseImportDeclaration=c.parseImportDeclaration,parseImportSpecifier=c.parseImportSpecifier,parseGroupExpression=c.parseGroupExpression,parseLeftHandSideExpression=c.parseLeftHandSideExpression,parseLeftHandSideExpressionAllowCall=c.parseLeftHandSideExpressionAllowCall,parseLogicalANDExpression=c.parseLogicalANDExpression,parseLogicalORExpression=c.parseLogicalORExpression,parseMultiplicativeExpression=c.parseMultiplicativeExpression,parseModuleDeclaration=c.parseModuleDeclaration,parseModuleBlock=c.parseModuleBlock,parseNewExpression=c.parseNewExpression,parseNonComputedProperty=c.parseNonComputedProperty,parseObjectProperty=c.parseObjectProperty,parseObjectPropertyKey=c.parseObjectPropertyKey,parsePath=c.parsePath,parsePostfixExpression=c.parsePostfixExpression,parsePrimaryExpression=c.parsePrimaryExpression,parsePrivateStatement=c.parsePrivateStatement,parseProgram=c.parseProgram,parsePropertyFunction=c.parsePropertyFunction,parseTemplateElement=c.parseTemplateElement,parseTemplateLiteral=c.parseTemplateLiteral,parseRelationalExpression=c.parseRelationalExpression,parseSpreadOrAssignmentExpression=c.parseSpreadOrAssignmentExpression,parseStatement=c.parseStatement,parseShiftExpression=c.parseShiftExpression,parseSymbolStatement=c.parseSymbolStatement,parseSymbolDeclarationList=c.parseSymbolDeclarationList,parseSymbolDeclaration=c.parseSymbolDeclaration,parseSwitchCase=c.parseSwitchCase,parseUnaryExpression=c.parseUnaryExpression,parseVariableDeclaration=c.parseVariableDeclaration,parseVariableIdentifier=c.parseVariableIdentifier,parseMethodDefinition=c.parseMethodDefinition,parseClassDeclaration=c.parseClassDeclaration,parseClassExpression=c.parseClassExpression,parseClassBody=c.parseClassBody),typeof c.scanRegExp==='function'&&(advance=c.advance,scanRegExp=c.scanRegExp);}function stringToArray(b){var d=b.length,    c=[],    a;
for(a=0;a<d;++a)c[a]=b.charAt(a);return c;}function parse(d,b){var e, f;
f=String,typeof d!=='string'&&!(d instanceof String)&&(d=f(d)),g=d,a=0,i=g.length>0?1:0,j=0,k=g.length,n=null,h={ allowIn:!0, labelSet:{}, parenthesizedCount:0, inFunctionBody:!1, inIteration:!1, inSwitch:!1 },c={},typeof b!=='undefined'&&(c.range=typeof b.range==='boolean'&&b.range,c.loc=typeof b.loc==='boolean'&&b.loc,c.raw=typeof b.raw==='boolean'&&b.raw,typeof b.tokens==='boolean'&&b.tokens&&(c.tokens=[]),typeof b.comment==='boolean'&&b.comment&&(c.comments=[]),typeof b.tolerant==='boolean'&&b.tolerant&&(c.errors=[])),k>0&&typeof g[0]==='undefined'&&(d instanceof String&&(g=d.valueOf()),typeof g[0]==='undefined'&&(g=stringToArray(d))),patch();try{e=parseProgram(),typeof c.comments!=='undefined'&&(filterCommentLocation(),e.comments=c.comments),typeof c.tokens!=='undefined'&&(filterTokenLocation(),e.tokens=c.tokens),typeof c.errors!=='undefined'&&(e.errors=c.errors),(c.range||c.loc)&&(e.body=filterGroup(e.body));}catch(a){throw a;}finally{unpatch(),c={};}return e;}'use strict';var e, o, d, p, f, s, g, l, m, q, a, i, j, k, n, h, c;
e={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,Template:9,AtSymbol:10},o={},o[e.BooleanLiteral]='Boolean',o[e.EOF]='<end>',o[e.Identifier]='Identifier',o[e.Keyword]='Keyword',o[e.NullLiteral]='Null',o[e.NumericLiteral]='Numeric',o[e.Punctuator]='Punctuator',o[e.StringLiteral]='String',o[e.AtSymbol]='AtSymbol',d={ArrayExpression:'ArrayExpression',ArrayPattern:'ArrayPattern',ArrowFunctionExpression:'ArrowFunctionExpression',AssignmentExpression:'AssignmentExpression',AtSymbol:'AtSymbol',BinaryExpression:'BinaryExpression',BlockStatement:'BlockStatement',BreakStatement:'BreakStatement',CallExpression:'CallExpression',CatchClause:'CatchClause',ClassBody:'ClassBody',ClassDeclaration:'ClassDeclaration',ClassExpression:'ClassExpression',ClassHeritage:'ClassHeritage',ComprehensionBlock:'ComprehensionBlock',ComprehensionExpression:'ComprehensionExpression',ConditionalExpression:'ConditionalExpression',ContinueStatement:'ContinueStatement',DebuggerStatement:'DebuggerStatement',DoWhileStatement:'DoWhileStatement',EmptyStatement:'EmptyStatement',ExportDeclaration:'ExportDeclaration',ExportSpecifier:'ExportSpecifier',ExportSpecifierSet:'ExportSpecifierSet',ExpressionStatement:'ExpressionStatement',ForInStatement:'ForInStatement',ForOfStatement:'ForOfStatement',ForStatement:'ForStatement',FunctionDeclaration:'FunctionDeclaration',FunctionExpression:'FunctionExpression',Glob:'Glob',Identifier:'Identifier',IfStatement:'IfStatement',ImportDeclaration:'ImportDeclaration',ImportSpecifier:'ImportSpecifier',LabeledStatement:'LabeledStatement',Literal:'Literal',LogicalExpression:'LogicalExpression',MemberExpression:'MemberExpression',MethodDefinition:'MethodDefinition',ModuleDeclaration:'ModuleDeclaration',NewExpression:'NewExpression',ObjectExpression:'ObjectExpression',ObjectPattern:'ObjectPattern',Path:'Path',Program:'Program',Property:'Property',ReturnStatement:'ReturnStatement',SequenceExpression:'SequenceExpression',SpreadElement:'SpreadElement',SwitchCase:'SwitchCase',SwitchStatement:'SwitchStatement',SymbolDeclaration:'SymbolDeclaration',SymbolDeclarator:'SymbolDeclarator',TaggedTemplateExpression:'TaggedTemplateExpression',TemplateElement:'TemplateElement',TemplateLiteral:'TemplateLiteral',ThisExpression:'ThisExpression',ThrowStatement:'ThrowStatement',TryStatement:'TryStatement',UnaryExpression:'UnaryExpression',UpdateExpression:'UpdateExpression',VariableDeclaration:'VariableDeclaration',VariableDeclarator:'VariableDeclarator',WhileStatement:'WhileStatement',WithStatement:'WithStatement',YieldExpression:'YieldExpression'},p={ Data:1, Get:2, Set:4 },f={UnexpectedToken:'Unexpected token %0',UnexpectedNumber:'Unexpected number',UnexpectedString:'Unexpected string',UnexpectedIdentifier:'Unexpected identifier',UnexpectedReserved:'Unexpected reserved word',UnexpectedTemplate:'Unexpected template %0',UnexpectedEOS:'Unexpected end of input',NewlineAfterThrow:'Illegal newline after throw',InvalidRegExp:'Invalid regular expression',UnterminatedRegExp:'Invalid regular expression: missing /',InvalidLHSInAssignment:'Invalid left-hand side in assignment',InvalidLHSInFormalsList:'Invalid left-hand side in formals list',InvalidLHSInForIn:'Invalid left-hand side in for-in',MultipleDefaultsInSwitch:'More than one default clause in switch statement',NoCatchOrFinally:'Missing catch or finally after try',UnknownLabel:'Undefined label \'%0\'',Redeclaration:'%0 \'%1\' has already been declared',IllegalContinue:'Illegal continue statement',IllegalBreak:'Illegal break statement',IllegalReturn:'Illegal return statement',IllegalYield:'Illegal yield expression',IllegalSpread:'Illegal spread element',StrictModeWith:'Strict mode code may not include a with statement',StrictCatchVariable:'Catch variable may not be eval or arguments in strict mode',StrictVarName:'Variable name may not be eval or arguments in strict mode',StrictParamName:'Parameter name eval or arguments is not allowed in strict mode',StrictParamDupe:'Strict mode function may not have duplicate parameter names',ParameterAfterRestParameter:'Rest parameter must be final parameter of an argument list',ElementAfterSpreadElement:'Spread must be the final element of an element list',ObjectPatternAsRestParameter:'Invalid rest parameter',ObjectPatternAsSpread:'Invalid spread argument',StrictFunctionName:'Function name may not be eval or arguments in strict mode',StrictOctalLiteral:'Octal literals are not allowed in strict mode.',StrictDelete:'Delete of an unqualified identifier in strict mode.',StrictDuplicateProperty:'Duplicate data property in object literal not allowed in strict mode',AccessorDataProperty:'Object literal may not have data and accessor property with the same name',AccessorGetSet:'Object literal may not have multiple get/set accessors with the same name',StrictLHSAssignment:'Assignment to eval or arguments is not allowed in strict mode',StrictLHSPostfix:'Postfix increment/decrement may not have eval or arguments operand in strict mode',StrictLHSPrefix:'Prefix increment/decrement may not have eval or arguments operand in strict mode',StrictReservedWord:'Use of future reserved word in strict mode',NoFromAfterImport:'Missing from after import',NoYieldInGenerator:'Missing yield in generator',NoUnintializedConst:'Const must be initialized',ComprehensionRequiresBlock:'Comprehension must have at least one block',ComprehensionError:'Comprehension Error',EachNotAllowed:'Each is not supported',DefaultsNotLast:'Default parameters must come last'},s={NonAsciiIdentifierStart:new RegExp('[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]'),NonAsciiIdentifierPart:new RegExp('[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0\u08a2-\u08ac\u08e4-\u08fe\u0900-\u0963\u0966-\u096f\u0971-\u0977\u0979-\u097f\u0981-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09e6-\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1\u0cf2\u0d02\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191c\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19d9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1d00-\u1de6\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200c\u200d\u203f\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua697\ua69f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua827\ua840-\ua873\ua880-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua900-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a\uaa7b\uaa80-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabea\uabec\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]')},typeof'esprima'[0]==='undefined'&&(sliceSource=function sliceArraySource(a,b){return g.slice(a,b).join('');}),r.version='1.1.0-dev-harmony',r.parse=parse,r.Syntax=function(){var a,    b={};
typeof Object.create==='function'&&(b=Object.create(null));for(a in d)d.hasOwnProperty(a)&&(b[a]=d[a]);return typeof Object.freeze==='function'&&Object.freeze(b),b;}();}),a;}({}),c.functions=function(a){function toArray(a){var b=a.length;
if(!b)return[];if(b===1)return[a[0]];if(b===2)return[a[0], a[1]];if(b===3)return[a[0], a[1], a[2]];if(b>9)return h.call(a);if(b===4)return[a[0], a[1], a[2], a[3]];if(b===5)return[a[0], a[1], a[2], a[3], a[4]];if(b===6)return[a[0], a[1], a[2], a[3], a[4], a[5]];if(b===7)return[a[0], a[1], a[2], a[3], a[4], a[5], a[6]];if(b===8)return[a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7]];if(b===9)return[a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]];}function slice(a,b,c){return a.length?!c&&!b?toArray(a):h.call(a,b,c):[];}function partial(d){var a=[],    e=0,    b=0;
for(var c=1;c<arguments.length;c++)arguments[c]===j&&b++,a[e++]=arguments[c];return b?function(){var h=arguments.length>b?arguments.length-b:0,    f=[],    g=0;
for(var c=0;c<e;c++)f[c]=a[c]===j?arguments[g++]:a[c];while(h--)f[c++]=arguments[g++];return d.apply(this,f);}:e?function(){return d.apply(this,i.apply(a,arguments));}:function(){return d.apply(this,arguments);};}function bind(b,c){var d=[],    e=0;
for(var a=2;a<arguments.length;a++)d[e++]=arguments[a];return e?function(){return b.apply(c,i.apply(d,arguments));}:function(){return b.apply(c,arguments);};}var h=[].slice,    i=[].concat,    t=[].push;
a.toArray=toArray,a.slice=slice;var c, f, d;
typeof Function.prototype.bind==='function'&&!('prototype'in Function.prototype.bind)?(d=Function.prototype.bind,c=Function.prototype.call,f=Function.prototype.apply):void function(){var construct=function(){var a=new Array(6),    b=['return function(F,_,$){ return new F(', ') }'];
return void function(){var e='';
for(var c=0;c<6;c++){var f='';
a[c]=new Array(6);for(var d=0;d<6;d++)a[c][d]=new Function(b[0]+(e+f).slice(0,-1)+b[1])(),f+='$['+d+'],';e+='_['+c+'],';}}(),function construct(k,h,i){var d=h.length,    e=i.length,    f=d in a?a[d]:a[d]=[];
if(e in f)var j=f[e];
else{var g='';
for(var c=0;c<d;c++)g+='_['+c+'],';for(var c=0;c<e;c++)g+='$['+c+'],';var j=f[e]=new Function(b[0]+g.slice(0,-1)+b[1])();
}return j(k,h,i);};}();
var a=document.createElement('iframe');
a.style.display='none',document.body.appendChild(a),a.src='javascript:',c=a.contentWindow.Function.prototype.call,f=c.apply,a=null,d=function bind(e){if(typeof this!=='function')throw new TypeError('Function.prototype.bind called on non-callable');var a=this,    b=toArray(arguments);
var d=function(){if(this instanceof d)return construct(a,b,arguments);var e=toArray(b);
for(var f=0;f<arguments.length;f++)e[e.length]=arguments[f];return c.apply(a,e);};
return d;};}();var j=partial.__={};
a.partial=partial,a.bind=bind;var l=a.bindbind=bind(d,d),    e=a.callbind=partial(bind,c),    m=a.applybind=partial(bind,f),    n=a.bindapply=m(d),    r=a.call=e(c),    s=a.apply=e(f);
var o=[null];
a.applyNew=function applyNew(a,b){return new(n(a,o.concat(b)))();},a.pushable=l([].push);var p=e({}.hasOwnProperty),    q=e(function(){    }.toString);
var k={ configurable:!0, enumerable:!1, writable:!0, value:b };
var g=Object.getOwnPropertyNames&&!('prototype'in Object.getOwnPropertyNames)?Object.defineProperty:function g(a,b,c){    a[b]=c.value;    };
return a.fname=function(){return Function.name==='Function'?function fname(a){return a?a.name||'':'';}:function fname(a){if(typeof a!=='function')return'';if(!p(a,'name')){var b=q(a).match(/^\n?function\s?([\w\$]*)?_?\(/);
b&&(k.value=b[1],g(a,'name',k));}return a.name||'';};}(),a;}(typeof d!=='undefined'?d.exports:{}),c.objects=function(c){function getBrandOf(a){return a===null?'Null':a===b?'Undefined':t(a).slice(8,-1);}function ensureObject(b,a){if(typeof a==='object'?a===null:typeof a!=='function')throw new TypeError(b+' called with non-object '+getBrandOf(a));}function is(a,b){return a===b?a!==0||1/a===1/b:a!==a&&b!==b;}function isObject(a){var b=typeof a;
return b==='object'?a!==null:b==='function';}function enumerate(b){var a=[],    c=0;
for(a[c++]in b);return a;}function copy(a){return assign(h(m(a)),a);}function define(h,a,k){switch(typeof p){case'function':k=a;a=e(k);case'string':d.value=k;f(h,a,d);break;case'object':if(a instanceof Array)for(var c=0;c<a.length;c++){var g=a[c];
if(typeof g==='function')var l=e(g);
else if(typeof g==='string'&&typeof a[c+1]!=='function'||!e(a[c+1])){var l=g;
g=a[c+1];}l&&(d.value=g,f(h,l,d));}else if(a){var m=j(a);
for(var c=0;c<m.length;c++){var i=n(a,m[c]);
i&&(i.enumerable='get'in i,f(h,m[c],i));}}}return d.value=b,h;}function safeDefine(h,a,k){try{switch(typeof p){case'function':k=a;a=e(k);case'string':d.value=k;f(h,a,d);break;case'object':if(a instanceof Array)for(var c=0;c<a.length;c++){var g=a[c];
if(typeof g==='function')var l=e(g);
else if(typeof g==='string'&&typeof a[c+1]!=='function'||!e(a[c+1])){var l=g;
g=a[c+1];}if(l){d.value=g;try{f(h,l,d);}catch(a){}}}else if(a){var m=j(a);
for(var c=0;c<m.length;c++)try{var i=n(a,m[c]);
i&&(i.enumerable='get'in i,f(h,m[c],i));}catch(a){}}}}catch(a){}return d.value=b,h;}function assign(d,a,i){switch(typeof p){case'function':d[e(a)]=a;break;case'string':d[a]=i;break;case'object':if(a instanceof Array)for(var b=0;b<a.length;b++){var c=a[b];
if(typeof c==='function'&&e(c))var f=e(c);
else if(typeof c==='string'&&typeof a[b+1]!=='function'||!e(a[b+1])){var f=c;
c=a[b+1];}f&&(d[f]=c);}else if(a){var g=j(a);
for(var b=0;b<g.length;b++){var h=g[b];
d[h]=a[h];}}}return d;}function assignAll(b,c){for(var a=0;a<c.length;a++)assign(b,c[a]);return b;}function inherit(a,b,c,d){return define(a,'inherits',b),a.prototype=h(b.prototype),define(a.prototype,'constructor',a),c&&define(a.prototype,c),d&&define(a.prototype,d),a;}function Hash(){}var k=a('./functions'),    r=k.callbind,    u=k.bind,    e=k.fname;
var t=r({}.toString),    l=r({}.hasOwnProperty);
c.hasOwn=l;var o={ __proto__:[] }instanceof Array,    g=!(!Object.getOwnPropertyNames||'prototype'in Object.getOwnPropertyNames);
var d={ configurable:!0, enumerable:!1, writable:!0, value:b };
c.getBrandOf=getBrandOf,c.is=is,c.isObject=isObject;if(g)var h=c.create=Object.create;
else{var i=function(){};
var p=[    'constructor',    'hasOwnProperty',    'propertyIsEnumerable',    'isPrototypeOf',    'toLocaleString',    'toString',    'valueOf'    ];
var h=c.create=function(b){var a=document.createElement('iframe');
a.style.display='none',document.body.appendChild(a),a.src='javascript:',i.prototype=a.contentWindow.Object.prototype,document.body.removeChild(a);while(p.length)delete i.prototype[p.pop()];return function h(a){return a===null?new i():(b.prototype=a,a=new b(),b.prototype=null,a);};}(function(){});
}var j=c.keys=function(){return g?Object.keys:function keys(a){var b=[],    d=0;
for(var c in a)l(a,c)&&(b[d++]=c);return b;};}();
var m=c.getPrototypeOf=function(){return g?Object.getPrototypeOf:o?function m(a){return ensureObject('getPrototypeOf',a),a.__proto__;}:function m(a){ensureObject('getPrototypeOf',a);var b=a.constructor;
if(typeof b==='function'){var c=b.prototype;
if(a!==c)return c;else if(b._super)return b._super.prototype;else{delete a.constructor;var d=b._super=a.constructor;
return a.constructor=b,d?d.prototype:a instanceof Object?Object.prototype:null;}}if(a instanceof i)return null;if(a instanceof Object)return Object.prototype;};}();
var s=c.setPrototypeOf=function(){return o?function s(a,b){ensureObject('setPrototypeOf',a),a.__proto__=b;}:function s(a,b){};}();
var f=c.defineProperty=function(){return g?Object.defineProperty:function f(a,b,c){try{a[b]=c.value;}catch(a){}return a;};}();
var n=c.describeProperty=function(){return g?Object.getOwnPropertyDescriptor:function getOwnPropertyDescriptor(a,b){ensureObject('getOwnPropertyDescriptor',a);if(l(a,b))return{ value:a[b] };};}();
var v=c.properties=g?Object.getOwnPropertyNames:j;
c.isExtensible=g?Object.isExtensible:function isExtensible(){return!0;},c.enumerate=enumerate,c.copy=copy,c.define=define,c.safeDefine=safeDefine,c.assign=assign,c.assignAll=assignAll;var q=c.hide=function(){if(g){var a={ enumerable:!1 };
return function q(b,c){f(b,c,a);};}return function q(){};}();
return c.inherit=inherit,c.Hash=Hash,Hash.prototype=h(null),c;}(typeof d!=='undefined'?d.exports:{}),c.iteration=function(c){function Iterator(){}function Item(a,b){this[0]=a,this[1]=b;}function createItem(a,b){return new Item(a,b);}function iterate(a,e,c){if(a==null)return;var f=typeof a;
c=c||a;if(f==='number'||f==='boolean')e.call(c,new Item(0,a));else{a=Object(a);var i=a.__iterator__||a.iterator;
if(typeof i==='function'){var g=i.call(a);
if(g&&typeof g.next==='function')try{while(1)e.call(c,g.next());}catch(a){if(a===h)return;throw a;}}if(f!=='function'&&a.length)try{for(var b=0;b<a.length;b++)e.call(c,new Item(b,a[b]));}catch(a){if(a===h)return;throw a;}else{var j=d(a);
try{for(var b=0;b<j.length;b++){var k=j[b];
e.call(c,new Item(k,a[k]));}}catch(a){if(a===h)return;throw a;}}}}function each(a,h,i){if(!a)return;if(i===b){if(typeof a==='object'&&'length'in a)for(var c=0;c<a.length;c++)h(a[c],c,a);else if(f(a)){var e=d(a);
for(var c=0;c<e.length;c++){var g=e[c];
h(a[g],g,a);}}}else if(typeof a==='object'&&'length'in a)for(var c=0;c<a.length;c++)h.call(i,a[c],c,a);else if(f(a)){var e=d(a);
for(var c=0;c<e.length;c++){var g=e[c];
h.call(i,a[g],g,a);}}}function filter(a,j,k){if(!a)return;if(k===b){if(typeof a==='object'&&'length'in a){var g=[];
for(var c=0;c<a.length;c++){var e=a[c];
j(e,c,a)&&g.push(e);}}else if(f(a)){var i=d(a),    g={};
for(var c=0;c<i.length;c++){var h=i[c],    e=a[h];
j(e,h,a)&&(g[h]=e);}}}else if(typeof a==='object'&&'length'in a){var g=[];
for(var c=0;c<a.length;c++){var e=a[c];
j.call(k,a[c],c,a)&&g.push(e);}}else if(f(a)){var i=d(a),    g={};
for(var c=0;c<i.length;c++){var h=i[c],    e=a[h];
j.call(k,e,h,a)&&(g[h]=e);}}return g;}function map(c,h,i){if(i===b){if(typeof c==='object'&&'length'in c){var e=new Array(c.length);
for(var a=0;a<c.length;a++)e[a]=h(c[a],a,c);}else if(f(c)){var e=d(c);
for(var a=0;a<e.length;a++){var g=e[a];
e[a]=h(c[g],g,c);}}}else if(typeof c==='object'&&'length'in c){var e=new Array(c.length);
for(var a=0;a<c.length;a++)e[a]=h.call(i,c[a],a,c);}else if(f(c)){var e=d(c);
for(var a=0;a<e.length;a++){var g=e[a];
e[a]=h.call(i,c[g],g,c);}}return e;}function fold(b,c,d){if(d)var e=c,    a=0;
else{typeof c==='string'?d=fold[c]:d=c;var e=b[0],    a=1;
}for(;a<b.length;a++)e=d(e,b[a],a,b);return e;}function repeat(d,b,c){if(typeof b==='function'){c=b;for(var a=0;a<d;a++)c();}else for(var a=0;a<d;a++)c.apply(this,b);}function generate(b,d){var c=new Array(b);
for(var a=0;a<b;a++)c[a]=d(a,b,c);return c;}var g=a('./objects'),    i=a('./functions');
var j=g.define,    d=g.keys,    f=g.isObject,    k=i.call,    l=i.apply;
var h=c.StopIteration=e.StopIteration||{};
return j(Iterator.prototype,[function __iterator__(){return this;}]),c.Iterator=Iterator,c.Item=Item,j(Item.prototype,{ isItem:!0, length:2 },[function toString(){return this[0]+'';}, function valueOf(){return this[1];}]),c.createItem=createItem,c.iterate=iterate,c.each=each,c.filter=filter,c.map=map,c.fold=fold,fold['+']=function(a,b){return a+b;},fold['*']=function(a,b){return a-b;},fold['-']=function(a,b){return a*b;},fold['/']=function(a,b){return a/b;},c.repeat=repeat,c.generate=generate,c;}(typeof d!=='undefined'?d.exports:{}),c.utility=function(c){var e=a('./objects'),    f=a('./functions');
var g=e.Hash,    h=f.applybind;
var i=Math.random().toString(36).slice(2),    j=Math.random()*(1<<30)|0;
c.uid=function uid(){return i+j++;};var k=0;
c.tag=function tag(a){a&&a.id===b&&(a.id=k++);},c.pushAll=h([].push,[]),c.nextTick=typeof process!=='undefined'?process.nextTick:function nextTick(a){setTimeout(a,1);},c.numbers=function(a){return function numbers(b,c){!isFinite(c)&&(c=b,b=0);var d=c-b,    e;
if(c>a.length)while(d--)a[e=d+b]=''+e;return a.slice(b,c);};}([]),c.quotes=function quotes(a){a=(''+a).replace(/\\/g,'\\\\').replace(/\n/g,'\\n');var c=0,    d=0,    b=a.length;
while(b--)a[b]==='"'?d++:a[b]==='\''&&c++;return c>d?'"'+a.replace(/"/g,'\\"')+'"':'\''+a.replace(/'/g,'\\\'')+'\'';},c.unique=function unique(b){var c=new g(),    d=[];
for(var a=0;a<b.length;a++)!(b[a]in c)&&(c[b[a]]=!0,d.push(b[a]));return d;};var d=9007199254740992;
return c.toInteger=function toInteger(a){return a===Infinity?d:a===-Infinity?-d:a-0>>0;},c.isNaN=function isNaN(a){return a!==a;},c.isFinite=function isFinite(a){return typeof value==='number'&&value===value&&value<Infinity&&value>-Infinity;},c.isInteger=function isInteger(a){return typeof a==='number'&&a===a&&a>-d&&a<d&&a>>0===a;},c;}(typeof d!=='undefined'?d.exports:{}),c.Queue=function(h){function QueueIterator(a){this.queue=a,this.index=a.index;}function Queue(a){this.index=this.length=0,a!=null?a instanceof Queue?(this.items=a.items.slice(a.front),this.length=this.items.length):(this.items=[],j(a,this.push,this)):this.items=[];}var b=a('./objects'),    d=a('./functions'),    c=a('./iteration');
var m=b.isObject,    e=b.define,    i=b.inherit,    l=d.toArray,    k=d.pushable,    j=c.iterate,    g=c.Iterator,    f=c.StopIteration;
return i(QueueIterator,g,[function next(){if(this.index===this.queue.items.length)throw f;return this.queue.items[this.index++];}]),e(Queue.prototype,[function push(a){return this.items[this.items.length]=a,this.length++,this;},function shift(){if(this.length){var a=this.items[this.index];
return this.items[this.index++]=null,this.length--,this.index===500&&(this.items=this.items.slice(this.index),this.index=0),a;}},function empty(){return this.length=0,this.index=0,this.items=[],this;},function front(){return this.items[this.index];},function item(a){return this.items[this.index+a];},function __iterator__(){return new QueueIterator(this);}]),h.exports=Queue;}(typeof d!=='undefined'?d:{}),c.traversal=function(d){var c=a('./objects'),    m=a('./functions'),    B=a('./utility'),    i=a('./iteration'),    v=a('./Queue'),    E=a('./Stack');
var j=c.isObject,    s=c.hasOwn,    r=c.create,    p=c.define,    l=c.keys,    w=c.properties,    z=c.getPrototypeOf,    C=c.Hash,    e=i.each,    t=i.iterate,    u=i.Item,    q=i.StopIteration,    k=B.uid,    x=m.toArray,    y=m.fname,    D=m.call;
var A={}.hasOwnProperty;
d.clone=function clone(d,f){function recurse(c,d,b){try{var e=c[b];
if(!j(e))return d[b]=e;if(c[b]===e){if(s(c[b],a))return d[b]=c[b][a];d[b]=enqueue(c[b]);}}catch(a){}}function enqueue(d){var f=d instanceof Array?[]:r(z(d));
return c.push(d),e(g(d),function(a){b.push([d, f, a]);}),d[a]=f,f;}var b=new v(),    a=k(),    c=[],    g=f?w:l,    h=enqueue(d);
while(b.length)recurse.apply(this,b.shift());return e(c,function(b){delete b[a];}),h;};var f=d.walk=function(){return typeof Set!=='undefined'&&typeof Set.prototype.add==='function'?function f(m,n){var i=[[m]],    c=1,    g=new Set();
do{var b=i[--c],    j=l(b),    k=j.length;
for(var d=0;d<k;d++){var a=b[j[d]];
if(a&&typeof a==='object'&&!g.has(a)){g.add(a);var e=n(a,b);
if(e===h)i[c++]=a;else if(e===o)return;}}}while(c);}:function f(q,r){var i=[[q]],    j=[],    b=1,    d=0,    c=k();
do{var g=i[--b],    n=l(g),    p=n.length;
for(var e=0;e<p;e++){var a=g[n[e]];
if(a&&typeof a==='object'&&!A.call(a,c)){a[c]=!0,j[d++]=a;var m=r(a,g);
if(m===h)i[b++]=a;else if(m===o){b=0;break;}}}}while(b);while(d--)delete j[d][c];};}();
var o=f.BREAK=0,    n=f.CONTINUE=1,    h=f.RECURSE=2;
d.collector=function(){function path(){var a=x(arguments);
for(var b=0;b<a.length;b++)if(typeof a[b]==='function')return function(b){for(var c=0;c<a.length;c++){var d=a[c],    e=typeof d;
e==='string'?b=b[d]:e==='function'&&(b=d(b));}return b;};return function(b){for(var c=0;c<a.length;c++)b=b[a[c]];return b;};}function collector(c){var d=new C();
for(var a in c)c[a]instanceof Array?d[a]=path(c[a]):typeof c[a]==='function'?d[a]=c[a]:d[a]=c[a];return function(c){function walker(e){if('length'in e)return h;var c=d[e.type];
if(c===!0)a[a.length]=e;else if(c===h||c===n)return c;else if(typeof c==='string')e[c]&&f(e[c],walker);else if(typeof c==='function'){var g=c(e);
g!==b&&(a[a.length]=g);}return n;}var a=[];
return f(c,walker),a;};}return collector;}();var g=d.Visitor=function(){function VisitorHandlers(a){var b=this;
a instanceof Array?e(a,function(a){b[y(a)]=a;}):j(a)&&e(a,function(a,c){b[c]=a;});}function VisitorState(a,b,c){var d=this.stack=[[c]];
this.dispatcher=a,this.handlers=b,this.branded=[],this.tag=k(),this.context={ push:function push(a){d.push(a);} };}function g(b,a){a instanceof VisitorHandlers?this.handlers=a:this.handlers=new VisitorHandlers(a),this.dispatcher=b;}return VisitorHandlers.prototype=r(null),p(VisitorState.prototype,[function cleanup(){e(this.branded,function(a){delete a[this.tag];},this),this.branded=[],this.tag=k();},function next(a){a instanceof u&&(a=a[1]);if(j(a)&&!s(a,this.tag)){p(a,this.tag,!0),this.branded.push(a);if(a instanceof Array)e(a.slice().reverse(),this.context.push);else{var b=this.dispatcher(a);
if(b===n)return;if(b in this.handlers)var c=this.handlers[b].call(this.context,a);
else if(this.handlers.__noSuchHandler__)var c=this.handlers.__noSuchHandler__.call(this.context,a);
if(c==o)throw q;if(c===h){var d=[];
t(a,d.push,d),e(d.reverse(),this.context.push);}}}}]),p(g.prototype,[function visit(b){if(b instanceof VisitorState)var a=b;
else var a=new VisitorState(this.dispatcher,this.handlers,b);
try{while(a.stack.length)a.next(a.stack.pop());a.cleanup();}catch(b){if(b!==q)throw b;var d=this;
var c=function(){return c=function(){},d.visit(a);};
return function resume(){return c();};}}]),g;}();
return d.createVisitor=function createVisitor(a){return new g(a);},d.visit=function visit(a,b){return new g(b).visit(a);},d.jsonify=function jsonify(a,b){b||(b='');if(!j(a))return a;if(typeof a.toJSON==='function')return jsonify(a.toJSON(b),b);var c=a instanceof Array?[]:{};
return e(a,function(a,b){a&&typeof a.toJSON==='function'&&(a=a.toJSON(b)),c[b]=a;}),c;},d;}(typeof d!=='undefined'?d.exports:{}),c.Stack=function(h){function StackIterator(a){this.stack=a,this.index=a.length;}function Stack(a){this.empty(),a!=null&&k(a,this.push,this);}var d=a('./objects'),    f=a('./functions'),    c=a('./iteration');
var e=d.define,    i=d.inherit,    l=f.toArray,    k=c.iterate,    j=c.Iterator,    g=c.StopIteration;
return i(StackIterator,j,[function next(){if(!this.index)throw g;return this.stack[--this.index];}]),e(Stack.prototype,[function push(a){return this.items.push(a),this.length++,this.top=a,this;},function pop(){return this.length--,this.top=this.items[this.length-1],this.items.pop();},function empty(){this.length=0,this.items=[],this.top=b;},function find(c,b){var a=this.length;
b||(b=this);while(a--)if(c.call(b,this.items[a],a,this))return this.items[a];},function filter(d,b){var a=this.length,    c=new Stack();
b||(b=this);for(var a=0;a<this.length;a++)d.call(b,this[a],a,this)&&c.push(this[a]);return c;},function __iterator__(){return new StackIterator(this);}]),h.exports=Stack;}(typeof d!=='undefined'?d:{}),c.LinkedList=function(g){function LinkedListIterator(a){this.item=a.sentinel,this.sentinel=a.sentinel;}function Item(a){this.data=a;}function Sentinel(){this.next=null;}function find(a,c){if(a.lastFind&&a.lastFind.next.data===c)return a.lastFind;var b=a.tail,    d=0;
while((b=b.next)!==a.sentinel)if(b.next.data===c)return a.lastFind=b;}function LinkedList(){var a=new Sentinel();
this.size=0,c(this,{ sentinel:a, tail:a, lastFind:null });}var d=a('./objects'),    e=a('./iteration');
var c=d.define,    f=d.inherit,    h=e.Iterator,    i=e.StopIteration;
return f(LinkedListIterator,h,[function next(){this.item=this.item.next;if(this.item===this.sentinel)throw i;return this.item.data;}]),c(Item.prototype,[function link(a){return a.next=this,a;},function unlink(){var a=this.next;
return this.next=a.next,a.next=null,this;},function clear(){var a=this.data;
return this.data=b,this.next=null,a;}]),f(Sentinel,Item,[function unlink(){return this;}, function clear(){}]),c(LinkedList.prototype,[function push(a){return this.tail=this.tail.link(new Item(a)),++this.size;},function pop(){var a=this.tail,    c=a.data;
return this.tail=a.next,a.next=null,a.data=b,c;},function insert(c,d){var a=find(this,d);
if(a){var b=new Item(c);
return b.next=a.next,a.next=b,++this.size;}return!1;},function remove(b){var a=find(this,b);
return a?(a.unlink(),--this.size):!1;},function replace(c,d){var a=find(this,c);
if(a){var b=new Item(d);
return b.next=a.next.next,a.next.next=null,a.next=b,!0;}return!1;},function has(a){return!!find(this,a);},function items(){var a=this.tail,    b=[];
while(a!==this.sentinel)b.push(a.data),a=a.next;return b;},function clear(){var b,    a=this.tail;
while(a!==this.sentinel)b=a.next,a.clear(),a=b;return this.tail=this.sentinel,this.size=0,this;},function clone(){var a=this.items(),    b=new LinkedList(),    c=a.length;
while(c--)b.push(a[c]);return b;},function __iterator__(){return new LinkedListIterator(this);}]),g.exports=LinkedList;}(typeof d!=='undefined'?d:{}),c.DoublyLinkedList=function(f){function DoublyLinkedListIterator(a){this.item=a.sentinel,this.sentinel=a.sentinel;}function Item(a,b){this.data=a,this.after(b);}function Sentinel(a){this.next=this,this.prev=this;}function find(a,c){if(a.lastFind&&a.lastFind.data===c)return a.lastFind;var b=a.sentinel,    d=0;
while((b=b.next)!==a.sentinel)if(b.data===c)return a.lastFind=b;}function DoublyLinkedList(){this.size=0,b(this,{ sentinel:new Sentinel(), lastFind:null });}var c=a('../lib/objects'),    d=a('../lib/iteration');
var b=c.define,    e=c.inherit,    g=d.Iterator,    h=d.StopIteration;
return e(DoublyLinkedListIterator,g,[function next(){this.item=this.item.next;if(this.item===this.sentinel)throw h;return this.item.data;}]),b(Item.prototype,[function after(a){return this.relink(a),this;},function before(a){return this.prev.relink(a),this;},function relink(a){return this.next&&(this.next.prev=this.prev,this.prev.next=this.next),this.prev=a,this.next=a.next,a.next.prev=this,a.next=this,this;},function unlink(){return this.next&&(this.next.prev=this.prev),this.prev&&(this.prev.next=this.next),this.prev=this.next=null,this;},function clear(){var a=this.data;
return this.next=this.prev=this.data=null,a;}]),e(Sentinel,Item,[function unlink(){return this;}]),b(DoublyLinkedList.prototype,[function first(){return this.sentinel.next.data;},function last(){return this.sentinel.prev.data;},function unshift(a){var b=new Item(a,this.sentinel);
return this.size++;},function push(a){var b=new Item(a,this.sentinel.prev);
return this.size++;},function insert(b,c){var a=find(this,c);
return a?(a=new Item(b,a),this.size++):!1;},function replace(b,c){var a=find(this,b);
return a?(new Item(c,a),a.unlink(),!0):!1;},function insertBefore(b,c){var a=find(this,c);
return a?(a=new Item(b,a.prev),this.size++):!1;},function pop(){if(this.size)return this.size--,this.sentinel.prev.unlink().data;},function shift(){if(this.size)return this.size--,this.sentinel.next.unlink().data;},function remove(b){var a=find(this,b);
return a?(a.unlink(),!0):!1;},function has(a){return!!find(this,a);},function items(){var a=this.sentinel,    b=[];
while((a=a.next)!==this.sentinel)b.push(a.data);return b;},function clear(){var b,    a=this.sentinel.next;
while(a!==this.sentinel)b=a.next,a.clear(),a=b;return this.lastFind=null,this.size=0,this;},function clone(){var a=this.sentinel,    b=new DoublyLinkedList();
while((a=a.next)!==this.sentinel)b.push(a.data);return b;},function __iterator__(){return new DoublyLinkedListIterator(this);}]),f.exports=DoublyLinkedList;}(typeof d!=='undefined'?d:{}),c.HashMap=function(m){function HashMapIterator(a,b){this.item=a.list.sentinel,this.sentinel=a.list.sentinel,this.type=b||'items';}function HashMap(a){f(this,'list',new k()),this.clear(),a!=null&&e(a,function(a){a&&typeof a==='object'&&a.length===2&&this.set(a[0],a[1]);},this);}var c=a('./objects'),    h=a('./functions'),    i=a('./iteration'),    k=a('./DoublyLinkedList');
var f=c.define,    l=c.inherit,    j=c.assign,    d=c.Hash,    g=h.bind,    e=h.iterate,    n=i.Iterator,    o=i.StopIteration;
var b=j(new d(),{ 'string':'strings', 'number':'numbers', 'undefined':'others', 'boolean':'others', 'object':'others' });
return l(HashMapIterator,n,[function next(){var a=this.item=this.item.next;
if(a===this.sentinel)throw o;else return this.type==='key'?a.key:this.type==='value'?a.data:[a.key, a.data];}]),f(HashMap.prototype,[function get(a){var c=this[b[typeof a]][a];
if(c)return c.data;},function set(c,d){var e=this[b[typeof c]],    a=e[c];
return a?a.data=d:(this.list.push(d),a=this.list.sentinel.prev,a.key=c,e[c]=a),this.size=this.list.size,d;},function has(a){return a in this[b[typeof a]];},function remove(a){var c=this[b[typeof a]];
return a in c?(c[a].unlink(),delete c[a],this.size=this.list.size,!0):!1;},function clear(){f(this,{ strings:new d(), numbers:new d(), others:new d() }),this.list.clear(),this.size=0;},function keys(){var a=[];
return e(this.__iterator__('key'),g(_push,a)),a;},function values(){var a=[];
return e(this.__iterator__('value'),g(_push,a)),a;},function items(){var a=[];
return e(this,g(_push,a)),a;},function __iterator__(a){return new HashMapIterator(this,a);}]),m.exports=HashMap;}(typeof d!=='undefined'?d:{}),c.HashSet=function(i){function HashSetIterator(a){this.item=a.list.sentinel,this.sentinel=a.list.sentinel;}function HashSet(){e(this,'list',new k()),this.clear();}var b=a('./objects'),    f=a('./functions'),    g=a('./iteration'),    k=a('./DoublyLinkedList');
var e=b.define,    h=b.inherit,    j=b.assign,    c=b.Hash,    l=f.bind,    m=f.iterate,    n=g.Iterator,    o=g.StopIteration;
var d=j(new c(),{ 'string':'strings', 'number':'numbers', 'undefined':'others', 'boolean':'others', 'object':'others' });
return h(HashSetIterator,n,[function next(){var a=this.item=this.item.next;
if(a===this.sentinel)throw o;else return a.data;}]),e(HashSet.prototype,[function add(a){var b=this[d[typeof a]],    c=b[a];
return!c&&(this.list.push(a),b[a]=this.list.sentinel.prev,this.size=this.list.size),a;},function has(a){return a in this[d[typeof a]];},function remove(a){var b=this[d[typeof a]];
return a in b?(b[a].unlink(),delete b[a],this.size=this.list.size,!0):!1;},function clear(){e(this,{ strings:new c(), numbers:new c(), others:new c() }),this.list.clear(),this.size=0;},function values(){var a=[];
return m(this,l(_push,a)),a;},function __iterator__(){return new HashSetIterator(this);}]),i.exports=HashSet;}(typeof d!=='undefined'?d:{}),c.ObjectMap=function(j){function ObjectMapIterator(a,b){this.item=a.list.sentinel,this.sentinel=a.list.sentinel,this.type=b||'items';}function tag(a,c){if(l(c,a.tag))return c[a.tag];var d=h();
try{b(c,a.tag,d);}catch(b){var e=a.frozenKeys.indexOf(c);
if(~e)return a.frozenIds[e];a.frozenIds[e]=d;}return d;}function ObjectMap(a){b(this,{ list:new o(), tag:h() }),this.clear(),a!=null&&d(a,function(a){a&&typeof a==='object'&&a.length===2&&this.set(a[0],a[1]);},this);}var c=a('./objects'),    f=a('./functions'),    g=a('./iteration'),    n=a('./utility'),    o=a('./DoublyLinkedList');
var b=c.define,    i=c.inherit,    q=c.assign,    l=c.hasOwn,    m=c.Hash,    h=n.uid,    e=f.bind,    d=f.iterate,    k=g.Iterator,    p=g.StopIteration;
return i(ObjectMapIterator,k,[function next(){var a=this.item=this.item.next;
if(a===this.sentinel)throw p;else return this.type==='key'?a.key:this.type==='value'?a.data:[a.key, a.data];}]),b(ObjectMap.prototype,[function get(b){var a=this.objects[tag(this,b)];
if(a)return a.data;},function set(c,b){var d=tag(this,c),    a=this.objects[d];
return a?a.data=b:(this.list.push(b),a=this.list.sentinel.prev,a.key=c,this.objects[d]=a),this.size=this.list.size,b;},function has(a){return!!this.objects[tag(this,a)];},function remove(c){var a=tag(this,c),    b=this.objects[a];
return b?(b.unlink(),this.objects[a]=null,this.size=this.list.size,!0):!1;},function clear(){b(this,'objects',new m()),b(this,'frozenKeys',[]),b(this,'frozenIds',[]),this.list.clear(),this.size=0;},function forEach(c,b){var a=this.list.sentinel,    d=a;
b=b||this;while(a.next!==d)a=a.next,c.call(b,a.data,a.key,this);},function keys(){var a=[];
return d(this.__iterator__('key'),e(_push,a)),a;},function values(){var a=[];
return d(this.__iterator__('value'),e(_push,a)),a;},function items(){var a=[];
return d(this,e(_push,a)),a;},function __iterator__(a){return new ObjectMapIterator(this,a);}]),j.exports=ObjectMap;}(typeof d!=='undefined'?d:{}),c.Emitter=function(e){function Emitter(){'_events'in this||c(this,'_events',new h());}var b=a('./objects'),    f=a('./iteration'),    i=a('./utility'),    g=a('./ObjectMap');
var c=b.define,    h=b.Hash,    d=f.each;
return c(Emitter.prototype,[function on(c,e,a){var b=this._events;
a=a||this,d(c.split(/\s+/),function(c){!(c in b)&&(b[c]=new g()),b[c].set(e,a);});},function off(b,c){var a=this._events;
d(b.split(/\s+/),function(b){b in a&&a[b].remove(c);});},function once(b,c,a){a=a||this,this.on(b,function one(){this.off(b,one),c.apply(a,arguments);});},function emit(b,c,d,e,f){var a=this._events['*'];
a&&a.forEach(function(a,g){g.call(a,b,c,d,e,f);}),a=this._events[b],a&&a.forEach(function(a,b){b.call(a,c,d,e,f);});}]),e.exports=Emitter;}(typeof d!=='undefined'?d:{}),c.Feeder=function(b){function Feeder(b,c,e){var a=this;
this.queue=new d(),this.active=!1,this.pace=e||5,this.feeder=function feeder(){var d=Math.min(a.pace,a.queue.length);
while(a.active&&d--)b.call(c,a.queue.shift());a.queue.length?a.active&&setTimeout(feeder,15):a.active=!1;};}var c=a('./objects'),    d=a('./Queue');
var e=c.define;
return e(Feeder.prototype,[function push(a){return this.queue.push(a),!this.active&&(this.active=!0,setTimeout(this.feeder,15)),this;},function pause(){this.active=!1;}]),b.exports=Feeder;}(typeof d!=='undefined'?d.exports:{}),c.PropertyList=function(g){function PropertyList(){this.hash=new e(),this.props=[],this.holes=0,this.length=0;}var c=a('./objects'),    f=a('./iteration');
var h=c.isObject,    d=c.define,    i=c.inherit,    e=c.Hash,    j=f.Iterator,    k=f.StopIteration;
var PropertyListIterator=function(){function PropertyListIterator(c,b){this.list=c,this.type=b?a[b]:'items',this.index=0;}var a={ keys:0, values:1, attributes:2 };
return i(PropertyListIterator,j,[function next(){var b=this.list.props,    a;
while(!a){if(this.index>=b.length)throw k;a=b[this.index++];}return this.type==='items'?a:a[this.type];}]),PropertyListIterator;}();
return d(PropertyList.prototype,[function get(c){var a=this.hash['$'+c];
if(a!==b)return this.props[a][1];},function set(c,d){if(c==null)throw new TypeError('Provided null or undefined key to PropertyList#set');var e='$'+c,    a=this.hash[e];
return a===b?(a=this.hash[e]=this.props.length,this.props[a]=[c, d, 7],this.length++):this.props[a][1]=d,!0;},function query(c){var a=this.hash['$'+c];
return a===b?null:this.props[a][2];},function update(c,d){var a=this.hash['$'+c];
return a!==b?(this.props[a][2]=d,!0):!1;},function describe(c){var a=this.hash['$'+c];
return a===b?null:this.props[a];},function(){return function d(c,e,f){if(c==null)throw new TypeError('Provided null or undefined key to PropertyList#define');var g='$'+c,    a=this.hash[g];
if(a===b)a=this.hash[g]=this.props.length,this.props[a]=[c, e, f],this.length++;else{var h=this.props[a];
h[1]=e,h[2]=f;}return this;};}(),function remove(d){var a='$'+d,    c=this.hash[a];
return c!==b?(this.hash[a]=b,this.props[c]=b,this.length--,!0):!1;},function has(a){return this.hash['$'+a]!==b;},function setProperty(a){if(a[0]==null)throw new TypeError('Provided null or undefined key to PropertyList#setProperty');var d='$'+a[0],    c=this.hash[d];
c===b&&(c=this.hash[d]=this.props.length,this.length++),this.props[c]=a;},function hasAttribute(b,c){var a=this.query('$'+b);
if(a!==null)return(a&c)>0;},function compact(){var c=this.props,    f=c.length,    d=0,    a;
this.hash=new e(),this.props=[],this.holes=0;for(var b=0;b<f;b++)(a=c[b])&&(this.props[d]=a,this.hash['$'+a[0]]=d++);},function each(d,a){var e=this.props.length,    f=0,    c;
a||(a=this);for(var b=0;b<e;b++)(c=this.props[b])&&d.call(a,c);},function map(e,a){var c=[],    f=this.props.length,    g=0,    d;
a||(a=this);for(var b=0;b<f;b++)(d=this.props[b])&&(c[g]=e.call(a,d));return c;},function translate(d,b){var a=new PropertyList(),    c=0;
return a.length=this.length,b||(b=this),this.each(function(e){e=d.call(b,e),a.props[c++]=e,a.hash['$'+e[0]]=c;}),a;},function filter(d,a){var b=new PropertyList(),    c=0;
return a||(a=this),this.each(function(e){d.call(a,e)&&(b.props[c]=e,b.hash['$'+e[0]]=c++);}),b;},function clone(a){return this.translate(function(b){return a?b.slice():b;});},function keys(){return this.map(function(a){return a[0];});},function values(){return this.map(function(a){return a[1];});},function items(){return this.map(function(a){return a.slice();});},function merge(a){iterate(a,this.define,this);},function __iterator__(a){return new PropertyListIterator(this,a);}]),a('util')&&void function(){function Token(a){this.value=a+'';}var b=a('util').inspect;
Token.prototype.inspect=function(){return this.value;},d(PropertyList.prototype,function inspect(){var a=new e();
return this.each(function(b){var c=[];
if(typeof b[0]==='string'){var d=b[0];
!(b[2]&1)&&c.push('hidden');}else{var d='_@_@'+b[0].Name;
b[0].Private&&c.push('private');}!(b[2]&2)&&c.push('frozen'),b[2]&8?c.push('accessor'):!(b[2]&4)&&c.push('readonly'),a[d]=new Token(c.join('/')+' '+(h(b[1])?b[1].BuiltinBrand:b[1]));}),b(a).replace(/'_@_@(\w+)'/g,'@$1');});}(),g.exports=PropertyList;}(typeof d!=='undefined'?d:{}),c.buffers=function(i,g){function DataView(a,c,d){if(!(a instanceof h))throw new TypeError('DataView must be initialized with an ArrayBuffer');this.byteOffset=c===b?a.byteOffset|0:c>>>0,this.byteLength=d===b?a.byteLength-this.byteOffset|0:d>>>0,this.buffer=a;}function boundsCheck(a,b,c){if(a<0)throw new RangeError('Tried to write to a negative index');if(a+b>c)throw new RangeError('Tried to write '+b+' bytes past the end of a buffer at index '+a+' of '+c);}function readFloat(h,i,o,f,k){var b,    c,    l=k*8-f-1,    m=(1<<l)-1,    n=m>>1,    a=-7,    d=o?k-1:0,    j=o?-1:1,    g=h[i+d];
d+=j,b=g&(1<<-a)-1,g>>=-a,a+=l;for(;a>0;b=b*256+h[i+d],d+=j,a-=8);c=b&(1<<-a)-1,b>>=-a,a+=f;for(;a>0;c=c*256+h[i+d],d+=j,a-=8);if(b===0)b=1-n;else if(b===m)return c?NaN:g?-Infinity:Infinity;else c+=e(2,f),b-=n;return(g?-1:1)*c*e(2,b-f);}function writeFloat(m,k,a,r,c,p){var b,    d,    g,    i=p*8-c-1,    j=(1<<i)-1,    f=j>>1,    q=c===23?e(2,-24)-e(2,-77):0,    h=r?0:p-1,    l=r?1:-1,    s=a<0||a===0&&1/a<0?1:0;
a<0&&(a=-a),isNaN(a)||a===Infinity?(d=isNaN(a)?1:0,b=j):(b=n(a)/o|0,a*(g=e(2,-b))<1&&(b--,g*=2),b+f>=1?a+=q/g:a+=q*e(2,1-f),a*g>=2&&(b++,g/=2),b+f>=j?(d=0,b=j):b+f>=1?(d=(a*g-1)*e(2,c),b+=f):(d=a*e(2,f-1)*e(2,c),b=0));for(;c>=8;m[k+h]=d&255,h+=l,d/=256,c-=8);b=b<<c|d,i+=c;for(;i>0;m[k+h]=b&255,h+=l,b/=256,i-=8);m[k+h-l]|=s*128;}if('DataView'in i)return g.DataView=i.DataView,g.ArrayBuffer=i.ArrayBuffer,g;var k=a('./objects'),    l=k.define,    q=k.create,    m=k.hide;
var n=Math.log,    e=Math.pow,    o=Math.LN2,    p=[].slice,    j=String.fromCharCode;
var f={    little:{ 1:[0], 2:[1, 0], 4:[3, 2, 1, 0], 8:[7, 6, 5, 4, 3, 2, 1, 0] },    big:{ 1:[0], 2:[0, 1], 4:[0, 1, 2, 3], 8:[0, 1, 2, 3, 4, 5, 6, 7] }    };
var c=q(null),    d=[];
void function(a){for(a=0;a<256;++a)c[d[a]=j(a)]=a,a>=128&&(c[j(63232+a)]=a);}(),g.DataView=DataView,l(DataView.prototype,[function getUint8(a){var b=this.buffer._data,    c=a+this.byteOffset;
return b[c];},function getUint16(d,e){var a=this.buffer._data,    b=(e?f.little:f.big)[2],    c=d+this.byteOffset;
return a[c+b[1]]<<8|a[c+b[0]];},function getUint32(d,e){var a=this.buffer._data,    b=(e?f.little:f.big)[4],    c=d+this.byteOffset;
return((a[c+b[3]]<<8|a[c+b[2]])<<8|a[c+b[1]])<<8|a[c+b[0]];},function getInt8(b){var a=this.getUint8(b);
return a&128?a-256:a;},function getInt16(b,c){var a=this.getUint16(b,c);
return a&32768?a-65536:a;},function getInt32(b,c){var a=this.getUint32(b,c);
return a&2147483648?a-4294967296:a;},function getFloat32(a,b){return readFloat(this.buffer._data,this.byteOffset+a,b,23,4);},function getFloat64(a,b){return readFloat(this.buffer._data,this.byteOffset+a,b,52,8);},function setUint8(c,d){var a=this.buffer._data,    b=c+this.byteOffset;
boundsCheck(b,1,a.length),a[b]=d&255;},function setUint16(e,c,g){var a=this.buffer._data,    d=(g?f.little:f.big)[2],    b=e+this.byteOffset;
boundsCheck(b,2,a.length),a[b+d[0]]=c&255,a[b+d[1]]=(c&65280)>>>8;},function setUint32(e,c,g){var a=this.buffer._data,    d=(g?f.little:f.big)[4],    b=e+this.byteOffset;
boundsCheck(b,4,a.length),a[b+d[0]]=c&255,a[b+d[1]]=(c&65280)>>>8,a[b+d[2]]=(c&16711680)>>>16,a[b+d[3]]=(c&4278190080)>>>24;},function setInt8(b,a){a<0&&(a|=256),this.setUint8(b,a);},function setInt16(b,a,c){a<0&&(a|=65536),this.setUint16(b,a,c);},function setInt32(b,a,c){a<0&&(a|=4294967296),this.setUint32(b,a,c);},function setFloat32(a,b,c){writeFloat(this.buffer._data,this.byteOffset+a,b,c,23,4);},function setFloat64(a,b,c){writeFloat(this.buffer._data,this.byteOffset+a,b,c,52,8);}]);var h=g.ArrayBuffer=function(){function readString(a){var d=[],    e=a.length%8,    b=0;
while(e--)d[b]=c[a[b++]];e=a.length>>3;while(e--)d.push(c[a[b++]],c[a[b++]],c[a[b++]],c[a[b++]],c[a[b++]],c[a[b++]],c[a[b++]],c[a[b++]]);return d;}function writeString(a){try{return j.apply(null,a);}catch(a){}var c='',    e=a.length%8,    b=0;
while(e--)c+=d[a[b++]];e=a.length>>3;while(e--)c+=d[a[b++]]+d[a[b++]]+d[a[b++]]+d[a[b++]]+d[a[b++]]+d[a[b++]]+d[a[b++]]+d[a[b++]];return c;}function zerodArray(a){var b=new Array(a);
while(a--)b[a]=0;return b;}function h(a){if(a==null)this._data=[];else{var b=typeof a;
b==='number'?this._data=zerodArray(a):b==='string'?this._data=readString(a):b==='object'&&(a instanceof h?this._data=a._data.slice():a.length?this._data=p.call(a):(a/=1)>0&&(this._data=zerodArray(a)));}if(!this._data)throw new TypeError('unable to convert input to size or buffer');m(this,'_data'),this.byteLength=this._data.length;}return l(h.prototype,[function slice(a,b){a==null?a=0:a<0?(a+=this.byteLength,a<0&&(a=0)):a>=this.byteLength&&(a=this.byteLength),b==null?b=this.byteLength:b<0?(b+=this.byteLength,b<0&&(b=0)):b>=this.byteLength&&(b=this.byteLength);var c=new h(0);
return c._data=this._data.slice(a,b),c.byteLength=c._data.length,c;}]),h;}();
return g;}(this,typeof d!=='undefined'?c:{}),c.constants=function(b){function Constants(b){this.hash=new j();for(var a=0;a<b.length;a++)this.hash[b[a]]=a;this.array=b;}function Token(a){this.name=a;}function BuiltinBrand(a){this.name=a,this.brand='[object '+a+']';}'use strict';var g=a('./lib/objects');
var k=g.create,    h=g.define,    i=g.keys,    j=g.Hash;
h(Constants.prototype,[function getIndex(a){return this.hash[a];}, function getKey(a){return this.array[a];}]),h(Token.prototype,[function toString(){return this.name;}, function inspect(){return'['+this.name+']';}]),h(BuiltinBrand.prototype,[function toString(){return this.name;}, function inspect(){return this.name;}]),b.BINARYOPS=new Constants(['instanceof','in','==','!=','===','!==','<','>','<=','>=','*','/','%','+','-','<<','>>','>>>','|','&','^','string+']),b.UNARYOPS=new Constants(['delete', 'void', 'typeof', '+', '-', '~', '!']),b.FUNCTYPE=new Constants(['NORMAL', 'METHOD', 'ARROW']),b.SCOPE=new Constants(['EVAL', 'FUNCTION', 'GLOBAL', 'MODULE']),b.SYMBOLS={Break:new Token('Break'),Pause:new Token('Pause'),Throw:new Token('Throw'),Empty:new Token('Empty'),Resume:new Token('Resume'),Return:new Token('Return'),Normal:new Token('Normal'),Abrupt:new Token('Abrupt'),Builtin:new Token('Builtin'),Continue:new Token('Continue'),Reference:new Token('Reference'),Completion:new Token('Completion'),Uninitialized:new Token('Uninitialized')};var c=1,    d=2,    f=4,    e=8;
return b.ATTRIBUTES={ENUMERABLE:c,CONFIGURABLE:d,WRITABLE:f,ACCESSOR:e,___:0,E__:c,_C_:d,EC_:c|d,__W:f,E_W:c|f,_CW:d|f,ECW:c|d|f,__A:e,E_A:c|e,_CA:d|e,ECA:c|d|e},b.AST=new Constants(i(a('esprima').Syntax)),b;}(typeof d!=='undefined'?d.exports:{}),c.errors=function(f,c,b){function Exception(d,g,e){var h={},    f=[],    b='';
for(var c=0;c<e.length;c++){var a=e[c];
a[0]==='$'?(!h.hasOwnProperty(a)&&f.push(a),b+='+'+a):b+='+"'+a.replace(/["\\\n]/g,'\\$0')+'"';}return this.name=d,this.type=g,new Function('e','return function '+d+'('+f.join(', ')+'){ return '+b.slice(1)+'; }')(this);}function Completion(a,b,c){this.type=a,this.value=b,this.target=c;}function AbruptCompletion(a,b,c){this.type=a,this.value=b,this.target=c;}function $$MakeException(c,a){!(a instanceof Array)&&(a=[a]);var d=f[c];
return b.createError(d.name,c,d.apply(null,a));}function $$ThrowException(a,b){return new AbruptCompletion('throw',$$MakeException(a,b));}'use strict';var g=a('./lib/objects'),    j=a('./constants');
var h=g.define,    i=g.inherit;
for(var d in c)for(var e in c[d])f[e]=new Exception(d,e,c[d][e]);return b.Completion=Completion,h(Completion.prototype,{ Completion:!0 }),h(Completion.prototype,[function toString(){return this.value;}, function valueOf(){return this.value;}]),i(AbruptCompletion,Completion,{ Abrupt:!0 }),b.AbruptCompletion=AbruptCompletion,b.$$MakeException=$$MakeException,b.$$ThrowException=$$ThrowException,b;}({},{TypeError:{assertion_failed:['$0', ' failed'],bad_argument:['$0', ' received a bad argument, expecting a ', '$1'],cyclic_proto:['Cyclic __proto__ value'],incompatible_method_receiver:['Method ', '$0', ' called on incompatible receiver ', '$1'],invalid_lhs_in_assignment:['Invalid left-hand side in assignment'],invalid_lhs_in_for_in:['Invalid left-hand side in for-in'],invalid_lhs_in_postfix_op:['Invalid left-hand side expression in postfix operation'],invalid_lhs_in_prefix_op:['Invalid left-hand side expression in prefix operation'],redeclaration:['$0', ' \'', '$1', '\' has already been declared'],uncaught_exception:['Uncaught ', '$0'],stack_trace:['Stack Trace:\n', '$0'],called_non_callable:['$0', ' is not a function'],property_not_function:['Property \'', '$0', '\' is not a function'],not_constructor:['$0', ' is not a constructor'],construct_non_constructor:['Cannot construct non-function ', '$0'],cannot_convert_to_primitive:['Cannot convert object to primitive value'],cannot_convert_to_primitive2:['$0', ' cannot convert object to primitive value'],with_expression:['$0', ' has no properties'],illegal_invocation:['Illegal invocation'],invalid_in_operator_use:['Cannot use \'in\' operator to search for \'', '$0', '\' in ', '$1'],instanceof_function_expected:['Expecting a function in instanceof check, but got ', '$0'],instanceof_nonobject_proto:['Function has non-object prototype \'', '$0', '\' in instanceof check'],construct_nonobject_proto:['Function has non-object prototype ', '$0'],null_to_object:['Cannot convert null to object'],undefined_to_object:['Cannot convert undefined to object'],object_not_coercible:['$0', ' cannot convert ', '$1', ' to an object'],reduce_no_initial:['Reduce of empty array with no initial value'],callback_must_be_callable:['$0', ' requires a function callback'],getter_must_be_callable:['Getter must be a function: ', '$0'],setter_must_be_callable:['Setter must be a function: ', '$0'],value_and_accessor:['A property cannot both have accessors and be writable or have a value, ', '$0'],proto_object_or_null:['Object prototype may only be an Object or null'],property_desc_object:['Property description must be an object: ', '$0'],redefine_disallowed:['Cannot redefine property: ', '$0'],apply_wrong_args:['Invalid arguments used in apply'],define_disallowed:['Cannot define property:', '$0', ', object is not extensible.'],non_extensible_proto:['$0', ' is not extensible'],invalid_weakmap_key:['Invalid value used as weak map key'],invalid_json:['String \'', '$0', '\' is not valid JSON'],circular_structure:['Converting circular structure to JSON'],called_on_non_function:['$0', ' called on non-function'],called_on_non_object:['$0', ' called on non-object'],called_on_null_or_undefined:['$0', ' called on null or undefined'],delete_array_index:['$0', ' cannot delete index \'', '$1', '\''],strict_delete_property:['Cannot delete property \'', '$0', '\' of ', '$1', ' in strict mode'],super_delete_property:['Cannot delete property \'', '$0', '\' from super'],strict_cannot_assign:['Cannot assign to read only property \'', '$0', '\' in strict mode'],delete_property_or_throw:['$0', ' cannot delete property \'', '$1', '\''],put_property_or_throw:['$0', ' cannot assign to read only property \'', '$1', '\''],strict_poison_pill:['\'caller\', \'callee\', and \'arguments\' properties may not be accessed on strict mode functions or the arguments objects for calls to them'],object_not_extensible:['Can\'t add property ', '$0', ', object is not extensible'],proxy_prototype_inconsistent:['Cannot report a prototype value that is inconsistent with target prototype value'],proxy_extensibility_inconsistent:['Cannot report a non-extensible object as extensible or vice versa'],proxy_configurability_inconsistent:['Cannot report innacurate configurability for property \'', '$0'],proxy_enumerate_properties:['Enumerate trap failed to include non-configurable enumerable property \'', '$0', '\''],proxy_non_callable_trap:['Proxy trap for ', '$0', ' is not a function'],proxy_incompatible_descriptor:['Proxy trap ', '$0', ' returned an incompatible descriptor'],proxy_inconsistent:['Proxy trap ', '$0', ' returned an invalid value for a non-configurable property'],proxy_non_extensible:['Proxy trap ', '$0', ' returned an invalid value for a non-extensible object'],proxy_duplicate:['Proxy trap ', '$0', ' returned duplicate property'],proxy_non_object_result:['Proxy trap ', '$0', ' returned non-object result'],missing_fundamental_trap:['Proxy handler is missing fundamental trap ', '$0'],non_object_superclass:['non-object super class'],non_object_superproto:['non-object super prototype'],invalid_super_binding:['object has no super binding'],not_generic:['$0', ' is not generic and was called on an invalid target'],spread_non_object:['Expecting an object as spread argument, but got ', '$0'],called_on_incompatible_object:['$0', ' called on incompatible object'],double_initialization:['Initializating an already initialized ', '$0'],construct_arrow_function:['Arrow functions cannot be constructed'],generator_executing:['\'', '$0', '\' called on executing generator'],generator_closed:['\'', '$0', '\' called on closed generator'],generator_send_newborn:['Sent value into newborn generator'],unnamed_symbol:['Symbol must have a name'],symbol_redefine:['Symbol \'', '$0', '\' defined multiple times'],missing_fundamental_handler:['Exotic object missing fundamental handler for \'', '$0', '\''],buffer_unaligned_offset:['$0', ' was called with an unalign offset'],buffer_out_of_bounds:['$0', ' was was called with an out of bounds length and/or offset'],buffer_unaligned_length:['$0', ' was called with an unaligned length'],import_not_symbol:['Imported object is not a symbol ', '$0']},ReferenceError:{unknown_internal_function:['Referenced non-existent internal function ', '$0'],unknown_wellknown_symbol:['Referenced unknown well known symbol ', '$0'],undefined_symbol:['Referenced undefined symbol @', '$0'],unknown_label:['Undefined label \'', '$0', '\''],undefined_method:['Object ', '$1', ' has no method \'', '$0', '\''],not_defined:['$0', ' is not defined'],uninitialized_const:['$0', ' is not initialized'],non_object_property_load:['Cannot read property \'', '$0', '\' of ', '$1'],non_object_property_store:['Cannot set property \'', '$0', '\' of ', '$1'],non_object_property_call:['Cannot call method \'', '$0', '\' of ', '$1'],no_setter_in_callback:['Cannot set property ', '$0', ' of ', '$1', ' which has only a getter']},RangeError:{invalid_array_length:['Invalid array length'],invalid_repeat_count:['Invalid repeat count'],stack_overflow:['Maximum call stack size exceeded'],invalid_time_value:['Invalid time value']},SyntaxError:{multiple_defaults_in_switch:['More than one default clause in switch statement'],newline_after_throw:['Illegal newline after throw'],no_catch_or_finally:['Missing catch or finally after try'],malformed_regexp:['Invalid regular expression: /', '$0', '/: ', '$1'],unterminated_regexp:['Invalid regular expression: missing /'],regexp_flags:['Cannot supply flags when constructing one RegExp from another'],unexpected_token:['Unexpected token ', '$0'],unexpected_token_number:['Unexpected number'],unexpected_token_string:['Unexpected string'],unexpected_token_identifier:['Unexpected identifier'],unexpected_reserved:['Unexpected reserved word'],unexpected_strict_reserved:['Unexpected strict mode reserved word'],unexpected_eos:['Unexpected end of input'],invalid_regexp_flags:['Invalid flags supplied to RegExp constructor \'', '$0', '\''],invalid_regexp:['Invalid RegExp pattern /', '$0', '/'],illegal_break:['Illegal break statement'],illegal_continue:['Illegal continue statement'],illegal_return:['Illegal return statement'],illegal_let:['Illegal let declaration outside extended mode'],illegal_access:['Illegal access'],strict_mode_with:['Strict mode code may not include a with statement'],strict_catch_variable:['Catch variable may not be eval or arguments in strict mode'],strict_param_name:['Parameter name eval or arguments is not allowed in strict mode'],strict_param_dupe:['Strict mode function may not have duplicate parameter names'],strict_var_name:['Variable name may not be eval or arguments in strict mode'],strict_function_name:['Function name may not be eval or arguments in strict mode'],strict_octal_literal:['Octal literals are not allowed in strict mode.'],strict_duplicate_property:['Duplicate data property in object literal not allowed in strict mode'],accessor_data_property:['Object literal may not have data and accessor property with the same name'],accessor_get_set:['Object literal may not have multiple get/set accessors with the same name'],strict_lhs_assignment:['Assignment to eval or arguments is not allowed in strict mode'],strict_lhs_postfix:['Postfix increment/decrement may not have eval or arguments operand in strict mode'],strict_lhs_prefix:['Prefix increment/decrement may not have eval or arguments operand in strict mode'],strict_reserved_word:['Use of future reserved word in strict mode'],strict_delete:['Delete of an unqualified identifier in strict mode.'],strict_caller:['Illegal access to a strict mode caller function.'],const_assign:['Assignment to constant variable.'],invalid_module_path:['Module does not export \'', '$0', '\', or export is not itself a module'],module_type_error:['Module \'', '$0', '\' used improperly']}},typeof d!=='undefined'?d.exports:{}),c.assembler=function(L){function StandardOpCode(b,c){var a=this.creator();
return this.id=a.id=a$++,this.params=a.params=b,this.name=a.opname=c,a.opcode=this,a;}function InternedOpCode(a,b){return StandardOpCode.call(this,a,b);}function macro(c){var d=[],    b=[];
var e=t(arguments,function(a,e){if(!e)return'';a instanceof Array||(a=[a]);var c=a.shift();
return b.push(c),c.opname+'('+b0(c.params,function(b){if(b in a)return typeof a[b]==='string'?b3(a[b]):a[b]+'';else{var c='$'+String.fromCharCode(e+96)+String.fromCharCode(b+97);
return d.push(c),c;}}).join(', ')+');';}).join('');
var f='return function '+c+'('+d.join(', ')+'){'+e+'}';
var a=Function.apply(null,t(b,function(a){return a.opname;}).concat(f)).apply(null,b);
return a.params=a.length,a.opname=c,a;}function serializeLocation(a){if(a)if(a.start)return a.start.line===a.end.line?[a.start.line, a.start.column, a.end.column]:[a.start.line, a.start.column, a.end.line, a.end.column];else if(a.line)return[a.line, a.column];return[];}function isSuperReference(a){return!!a&&a.type==='Identifier'&&a.name==='super';}function isPattern(a){return!!a&&a.type==='ObjectPattern'||a.type==='ArrayPattern';}function isLexicalDeclaration(a){return!!a&&a.type==='VariableDeclaration'&&a.kind!=='var';}function isFunction(a){return a.type==='FunctionExpression'||a.type==='FunctionDeclaration'||a.type==='ArrowFunctionExpression';}function isDeclaration(a){return a.type==='ClassDeclaration'||a.type==='FunctionDeclaration'||a.type==='VariableDeclaration';}function isAnonymous(a){return!!a&&!(a.id&&a.id.name)&&a.type==='ClassExpression'||a.type==='FunctionExpression'||a.type==='ArrowFunctionExpression';}function isUseStrictDirective(a){return a.type==='ExpressionStatement'&&a.expression.type==='Literal'&&a.expression.value==='use strict';}function isStrict(a){isFunction(a)?a=a.body.body:a.type==='Program'&&(a=a.body);if(a instanceof Array)for(var c=0,    b;b=a[c];c++)if(isUseStrictDirective(b))return!0;else if(b.type!=='EmptyStatement'&&b.type!=='FunctionDeclaration')return!1;return!1;}function isGlobalOrEval(){return c.code.scopeType==='eval'||c.code.scopeType==='global';}function boundNames(a){return aT(a);}function pushNode(a){B&&y.push(B),B=a;}function popNode(){var a=y.pop();
a&&(B=a);}function recurse(a){a&&(pushNode(a),a.type?a1[a.type](a):a.length&&e(a,recurse),popNode());}function loc(){var a=B,    b=y.length;
while(a){if(a.loc)return a.loc;a=y[--b];}return b1;}function range(){var a=B,    b=y.length;
while(a){if(a.range)return a.range;a=y[--b];}return b2;}function intern(a){return a;}function current(){return c.code.ops.length;}function last(){return c.code.ops[c.code.ops.length-1];}function pop(){return c.code.ops.pop();}function adjust(a){if(a)return a[0]=c.code.ops.length;}function initBindingIfNew(a){D(a);var b=v(0);
r(a,!1),o(),l(a),adjust(b);}function createBindingIfNew(a){D(a);var b=v(0);
r(a,!1),adjust(b);}function initFunctionDecl(a){pushNode(a),FunctionDeclaration(a),G(!1,a.id.name,a.code),l(a.id.name),h(),popNode();}function bindingDestructuring(a){pushNode(a),a.type==='Identifier'?initBindingIfNew(a.name):a.type==='ObjectPattern'?e(a.properties,bindingDestructuring):a.type==='Property'?bindingDestructuring(a.value):a.type==='ArrayPattern'&&e(a.elements,bindingDestructuring),popNode();}function TopLevelDeclarationInstantiation(a){var b=a.scopeType==='eval',    c=new n();
pushNode(a.body),e(a.VarScopedDeclarations,function(a){if(a.type==='FunctionDeclaration'){pushNode(a);var d=a.id.name;
c[d]=!0,D(d);var f=v(0);
r(d,b);var g=i();
adjust(f),a8(d);var j=v(0);
o(),aa(d,b),adjust(g),adjust(j),FunctionDeclaration(a),G(!1,a.id.name,a.code),l(a.id.name),h(),popNode();}else e(a.boundNames,function(a){D(a);var c=C(0);
r(a),o(),l(a);var d=i();
adjust(c),a8(a);var e=v(0);
o(),aa(a,b),adjust(d),adjust(e);});}),popNode();}function FunctionDeclarationInstantiation(a){pushNode(a.body);var g=a.VarScopedDeclarations,    i=g.length,    m=a.flags.strict,    j=[],    o=!0;
while(i--){var b=g[i];
pushNode(b);if(b.type==='FunctionDeclaration'){j.push(b),b.boundNames||(b.boundNames=boundNames(b));var f=b.boundNames[0];
f==='arguments'&&(o=!0),D(f);var n=v(0);
r(f,!1),adjust(n);}popNode();}e(a.params,bindingDestructuring),r('arguments',m),e(a.VarDeclaredNames,initBindingIfNew),initLexicalDecls(a.body),e(j,initFunctionDecl),pushNode(a.params),aZ();var k=a.params.length-a.params.defaults.length;
e(a.params,function(b,c){pushNode(b),u(),aq(c);if(c>=k){var e=aI(0);
recurse(a.params.defaults[c-k]),d(),adjust(e);}E(1),E(2),b.type==='Identifier'?l(b.name):(destructure(b,l),h()),E(1),popNode();});var c=a.params.Rest;
c?(pushNode(c),au(a.params.ExpectedArgumentCount),c.type==='Identifier'?l(c.name):(destructure(c,l),h()),popNode()):h(),l('arguments'),popNode(),popNode();}function initLexicalDecls(a){e(lexDecls(a),function(a){pushNode(a),e(a.boundNames,function(b){r(b,a.IsConstantDeclaration);}),popNode();});}function block(b){var a=new ControlTransfer(c.labels);
c.jumps.push(a),c.labels=new n(),pushScope('block'),b(),a.updateBreaks(current()),c.jumps.pop(),c.labels=a.labels,popScope();}function loop(b){var a=new ControlTransfer(c.labels);
c.jumps.push(a),c.labels=new n(),a.updateContinues(b()),a.updateBreaks(current()),c.jumps.pop(),c.labels=a.labels;}function unwinder(a,b){var d=current();
b(),c.code.unwinders.push(new Unwinder(a,d,current()));}function pushScope(a){c.currentScope=scope.create('block',c.currentScope),a4.push(current()),a==='with'?aO():az();}function popScope(){c.currentScope.pop(),c.code.unwinders.push(new Unwinder('scope',a4.pop(),current())),ay();}function iter(a,b){unwinder('iteration',function(){loop(function(){if(isLexicalDeclaration(a.left)){var c=!0;
pushScope('block'),initLexicalDecls(a.left);}recurse(a.right),d(),b(),J('next');var e=current();
return u(),u(),d(),M(),P(),a.left.type==='VariableDeclaration'?VariableDeclaration(a.left,!0):(recurse(a.left),E(1),I(),h()),recurse(a.body),c&&S(),i(e),c&&popScope(),e;});});}function move(b,d,e){if(b.label)var a=c.jumps.find(function(a){return b.label.name in a.labels;});
else var a=c.jumps.find(function(a){return a.continues;});
a&&a[d].push(e);}function args(a){pushNode(a),M(),e(a,function(a,b){pushNode(a),a&&a.type==='SpreadElement'?(recurse(a.argument),d(),aB()):(recurse(a),d(),W()),popNode();}),popNode();}function AssignmentExpression(a){a.operator==='='?isPattern(a.left)?(recurse(a.right),d(),destructure(a.left,aQ)):(recurse(a.left),recurse(a.right),d(),I()):(recurse(a.left),u(),d(),recurse(a.right),d(),O(a.operator.slice(0,-1)),I());}function ArrayExpression(b){a7();var a=0;
e(b.elements,function(b){b?b.type==='SpreadElement'?(recurse(b.argument),d(),aC(a),a=0):(recurse(b),d(),a9(a),a=0):a++;}),aY();}function ArrayPattern(a){}function ArrowFunctionExpression(d,b){q(d.body);var a=new m(d,null,'arrow','function');
return b&&(a.name=b.name||b),c.queue(a),G(!1,null,a),a;}function AtSymbol(a){a.internal?c.code.natives?a5('@'+a.name):c.earlyError('illegal_internal_symbol',['@@'+a.name]):a5(a.name);}function BinaryExpression(a){recurse(a.left),d(),recurse(a.right),d(),O(a.operator);}function BreakStatement(a){move(a,'breaks',i());}function BlockStatement(a){pushNode(a.body),block(function(){initLexicalDecls(a.body),e(lexDecls(a.body),function(a){pushNode(a),e(a.boundNames,function(b){a.type==='FunctionDeclaration'&&(FunctionDeclaration(a),G(!1,a.id.name,a.code),X(a.id.name));}),popNode();});var b=z(a.wrapped);
e(a.body,function(a){b(a),recurse(a);});}),popNode();}function CallExpression(a){isSuperReference(a.callee)?(c.code.scopeType!=='function'&&c.earlyError(a,'illegal_super'),$(c.code.name)):recurse(a.callee),u(),d(),args(a.arguments),a.callee.type==='Identifier'&&a.callee.name==='eval'?av():(a.callee.type==='NativieIdentifier'?aj:P)(!!a.tail);}function CatchClause(a){k(a,a.body),pushNode(a.body),pushScope('block'),pushNode(a.param),c.currentScope.lexDeclare(a.param.name,'catch'),r(a.param.name,!1),X(a.param.name),popNode(),initLexicalDecls(a.body),e(a.body,recurse),popScope(),popNode();}function ClassBody(a){}function ClassDeclaration(a){c.currentScope.lexDeclare(a.id.name,'class'),aW(new ClassDefinition(a));}function ClassExpression(b,c){var a=new ClassDefinition(b,c);
return aV(a),a.ctor;}function ClassHeritage(a){}function comprehension(a,b){var c=a.blocks[b++];
unwinder('iteration',function(){loop(function(){pushScope('block');var e={ type:'VariableDeclaration', declarations:[{ type:'VariableDeclarator', kind:'let', id:c.left }] };
initLexicalDecls(e),recurse(c.right),d(),c.of?ab():a3(),J('next');var f=current();
u(),u(),d(),M(),P(!1),VariableDeclaration(e,!0);if(a.blocks[b])comprehension(a,b);else{if(a.filter){recurse(a.filter),d();var g=C(0);
}s(!1),s(!1),recurse(a.body),d(),a9(0),s(!0),s(!0),a.filter&&adjust(g);}return S(),i(f),popScope(),f;});});}function ComprehensionExpression(a){a7(),s(!0),s(!0),comprehension(a,0),s(!1),s(!1),h();}function ComprehensionBlock(a){}function ConditionalExpression(a){K(a,a.consequent),K(a,a.alternate),e(a,z(a.wrapped)),recurse(a.test),d();var b=C(0);
recurse(a.consequent),d();var c=i();
adjust(b),recurse(a.alternate),d(),adjust(c);}function ContinueStatement(a){move(a,'continues',i());}function DoWhileStatement(a){loop(function(){Q(a.test),Q(a.body),k(a,a.body);var b=current();
recurse(a.body);var c=current();
return recurse(a.test),d(),v(b),c;});}function DebuggerStatement(a){aD();}function EmptyStatement(a){}function ExportSpecifier(a){}function ExportSpecifierSet(a){}function ExportDeclaration(a){a.declaration&&recurse(a.declaration);}function ExpressionStatement(a){k(a,a.expression),recurse(a.expression),d(),isGlobalOrEval()?aw():h();}function ForStatement(a){k(a,a.body),loop(function(){if(a.init)if(a.init.type==='VariableDeclaration'){if(a.init.kind!=='var'){var b=!0;
pushScope('block'),initLexicalDecls(a.init);}recurse(a.init);}else recurse(a.init),d(),h();var c=current();
if(a.test){recurse(a.test),d();var e=C(0);
}return recurse(a.body),b&&S(),a.update&&(recurse(a.update),d()),h(),i(c),adjust(e),b&&popScope(),c;});}function ForInStatement(a){k(a,a.body),iter(a,a3);}function ForOfStatement(a){k(a,a.body),iter(a,ab);}function FunctionDeclaration(a){return q(a.body),!a.code&&(c.currentScope.lexDeclare(a.id.name,'function'),a.code=new m(a,null,'normal','function'),c.queue(a.code)),a.code;}function FunctionExpression(a,d){q(a.body);var b=new m(a,null,'normal','function');
return a.id&&b.scope.varDeclare(a.id.name,'funcname'),d&&(b.name=d.name||d),c.queue(b),G(!0,intern(a.id?a.id.name:''),b),b;}function Glob(a){}function Identifier(a){c.code.natives&&b4.test(a.name)?(a.type='NativeIdentifier',a.name=a.name.slice(3),ad(a.name)):a6(a.name);}function IfStatement(a){k(a,a.consequent),k(a,a.alternate),recurse(a.test),d();var b=C(0);
recurse(a.consequent);if(a.alternate){var c=i();
adjust(b),recurse(a.alternate),adjust(c);}else adjust(b);}function ImportDeclaration(a){}function ImportSpecifier(a){}function Literal(a){a.value instanceof RegExp?at(a.value):typeof a.value==='string'?a0(a.value):Y(a.value);}function LabeledStatement(a){k(a,a.statement),c.labels?label in c.labels&&c.earlyError(a,'duplicate_label'):c.labels=new n(),c.labels[a.label.name]=!0,recurse(a.body),c.labels=null;}function LogicalExpression(a){recurse(a.left),d();var b=a.operator==='||'?al(0):a_(0);
recurse(a.right),d(),adjust(b);}function MemberExpression(a){var b=isSuperReference(a.object);
b?c.code.scopeType!=='function'&&c.earlyError(a,'illegal_super_reference'):(recurse(a.object),d());if(a.computed)recurse(a.property),d(),b?aE():T();else{var e=symbol(a.property);
b?$(e):J(e);}}function MethodDefinition(a){}function ModuleDeclaration(a){if(a.body){e(a.body,q);var b=a.imported.code=new m(a,null,'normal','module');
b.path=c.code.path.concat(a.id.name),c.queue(b);}}function NativeIdentifier(a){ad(a.name);}function NewExpression(a){recurse(a.callee),d(),args(a.arguments),aF();}function ObjectExpression(a){ak(),e(a.properties,recurse);}function ObjectPattern(a){}function Path(a){}function Program(a){pushNode(a.body),e(a.body,function(a){q(a),recurse(a);}),popNode();}function Property(a){var b=a.value;
if(a.kind==='init'){var e=a.key.type==='Identifier'?a.key:a.key.value,    g=e&&e.name||e;
a.method?(pushNode(b),FunctionExpression(b,symbol(a.key)),popNode()):isAnonymous(b)?_[b.type](b,e).flags.writableName=!0:recurse(b),d(),g==='__proto__'?ao():an(symbol(a.key));}else{var f=new m(b,null,'normal','function');
c.queue(f),b5(a.kind,f,symbol(a.key));}}function ReturnStatement(a){a.argument?(a2(!a.wrapped)(a.argument),recurse(a.argument),d()):o(),U();}function SequenceExpression(a){var b=z(a.wrapped);
e(a.expressions,function(a,c,e){b(a),recurse(a),d(),c<e.length-1&&h();}),K(a,a.expressions[a.expressions.length-1]);}function SwitchStatement(a){block(function(){var c=null;
recurse(a.discriminant),d(),pushScope('block');if(a.cases){e(a.cases,initLexicalDecls);var b=[];
e(a.cases,function(a,e){a.test?(recurse(a.test),d(),b.push(aX(0))):(c=e,b.push(0));});if(c!==null)ax(b[c]);else{h();var f=i();
}var g=z(a.wrapped);
e(a.cases,function(a,c){adjust(b[c]),g(a),e(a.consequent,function(a){g(a),recurse(a);});}),f&&adjust(f);}else h();});}function SymbolDeclaration(a){var b=a.AtSymbols=[],    f=a.kind==='symbol';
e(a.declarations,function(a){var e=a.init;
e&&(recurse(e),d());if(a.id.internal)if(!c.code.natives)c.earlyError('illegal_internal_symbol',['@@'+a.id.name]);else var g='@'+a.id.name;
else var g=a.id.name;
aG(g,f,!!e),b.push(g);});}function SymbolDeclarator(a){}function TemplateElement(a){}function TemplateLiteral(a,b){a.quasis&&(a.templates=a.quasis,delete a.quasis),e(a.templates,function(b,c){a0(b.value.raw),!b.tail&&(recurse(a.expressions[c]),d(),O('string+')),c&&O('string+');});}function TaggedTemplateExpression(a){var b=[];
a.quasi&&(a.template=a.quasi,delete a.quasi),e(a.template.templates,function(a){b.push(a.value);}),o(),recurse(a.tag),d(),M(),aH(b),d(),W(),e(a.template.expressions,function(a){recurse(a),d(),W();}),P(!1);}function ThisExpression(a){ai();}function ThrowStatement(a){recurse(a.argument),d(),aJ();}function TryStatement(a){Z(a.block),a.finalizer&&PUSH_FINALLY();var d=current();
unwinder('try',function(){e(a.block.body,recurse);});var b=[i()],    f=z(a.finalizer||a.wrapped);
e(a.handlers,function(a){f(a),recurse(a),b.push(i());}),e(b,adjust),a.finalizer&&(POP_FINALLY(),c.code.unwinders.push(new Unwinder('finally',d,current())),q(a.finalizer),recurse(a.finalizer));}function UnaryExpression(a){recurse(a.argument),aL(a.operator);}function UpdateExpression(a){recurse(a.argument),aN(!!a.prefix|(a.operator==='++')<<1);}function VariableDeclaration(a,f){if(a.kind==='var')var b=function(a){c.currentScope.varDeclare(a,'var'),l(a);};
else{var g=a.kind==='const'?aS:X;
var b=function(b){c.currentScope.lexDeclare(b,a.kind),g(b);};
}e(a.declarations,function(e){a.kind==='var'&&ah(c.code.VarDeclaredNames,boundNames(e.id)),e.init?e.id&&e.id.type==='Identifier'&&isAnonymous(e.init)?(recurse(e.id),_[e.init.type](e.init,e.id.name).flags.writableName=!0):(recurse(e.init),d()):!f&&o(),isPattern(e.id)?(destructure(e.id,b),h()):b(e.id.name);});}function VariableDeclarator(a){}function WhileStatement(a){k(a,a.body),loop(function(){var b=current();
recurse(a.test),d();var c=C(0);
return recurse(a.body),i(b),adjust(c),b;});}function WithStatement(a){k(a,a.object),recurse(a.object),pushScope('with'),recurse(a.body),popScope();}function YieldExpression(a){a.argument?(recurse(a.argument),d()):o(),aP(a.delegate);}'use strict';var ag=a('util');
var j=a('./lib/objects'),    F=a('./lib/functions'),    x=a('./lib/iteration'),    V=a('./lib/utility'),    N=a('./lib/traversal'),    ac=a('./lib/Stack'),    bk=a('./lib/HashMap');
var A=N.walk,    w=N.collector,    aR=N.clone,    bc=N.Visitor,    aM=F.fname,    g=j.define,    bj=j.assign,    am=j.create,    bt=j.copy,    p=j.inherit,    bm=j.keys,    bd=j.hasOwn,    R=j.isObject,    n=j.Hash,    ar=x.Iterator,    as=x.StopIteration,    e=x.each,    bu=x.repeat,    t=x.map,    bx=x.fold,    b0=x.generate,    b3=V.quotes,    b9=V.uid,    ah=V.pushAll;
var ap=A.CONTINUE,    f=A.RECURSE,    ae=A.BREAK;
var bo=Math.random().toString(36).slice(2),    c,    bn=[].push,    a$=0;
g(StandardOpCode.prototype,[function creator(){var a=this;
return function(){return c.code.createDirective(a,arguments);};},function inspect(){return this.name;},function toString(){return this.name;},function valueOf(){return this.id;},function toJSON(){return this.id;}]),p(InternedOpCode,StandardOpCode,[function creator(){var a=this;
return function(b,d,e){return c.code.createDirective(a,[b, d, e]);};}]);var b6=new StandardOpCode(1,'ADD'),    a_=new StandardOpCode(1,'AND'),    a7=new StandardOpCode(0,'ARRAY'),    W=new StandardOpCode(0,'ARG'),    M=new StandardOpCode(0,'ARGS'),    aZ=new StandardOpCode(0,'ARGUMENTS'),    aY=new StandardOpCode(0,'ARRAY_DONE'),    O=new StandardOpCode(1,'BINARY'),    r=new StandardOpCode(2,'BINDING'),    P=new StandardOpCode(1,'CALL'),    aX=new StandardOpCode(1,'CASE'),    aW=new StandardOpCode(1,'CLASS_DECL'),    aV=new StandardOpCode(1,'CLASS_EXPR'),    aU=new StandardOpCode(0,'COMPLETE'),    aS=new StandardOpCode(1,'CONST'),    aF=new StandardOpCode(0,'CONSTRUCT'),    aD=new StandardOpCode(0,'DEBUGGER'),    ax=new StandardOpCode(1,'DEFAULT'),    bs=new StandardOpCode(1,'DEFINE'),    u=new StandardOpCode(0,'DUP'),    T=new StandardOpCode(0,'ELEMENT'),    a3=new StandardOpCode(0,'ENUM'),    b7=new StandardOpCode(1,'EXTENSIBLE'),    av=new StandardOpCode(0,'EVAL'),    bl=new StandardOpCode(1,'FLIP'),    G=new StandardOpCode(3,'FUNCTION'),    d=new StandardOpCode(0,'GET'),    br=new InternedOpCode(1,'GET_GLOBAL'),    D=new StandardOpCode(1,'HAS_BINDING'),    a8=new InternedOpCode(1,'HAS_GLOBAL'),    bw=new StandardOpCode(0,'INC'),    a9=new StandardOpCode(1,'INDEX'),    aq=new InternedOpCode(1,'INTERNAL_MEMBER'),    ab=new StandardOpCode(0,'ITERATE'),    i=new StandardOpCode(1,'JUMP'),    ba=new StandardOpCode(1,'JEQ_NULL'),    bb=new StandardOpCode(1,'JEQ_UNDEFINED'),    C=new StandardOpCode(1,'JFALSE'),    be=new StandardOpCode(2,'JLT'),    bf=new StandardOpCode(2,'JLTE'),    bg=new StandardOpCode(2,'JGT'),    bh=new StandardOpCode(2,'JGTE'),    bi=new StandardOpCode(1,'JNEQ_NULL'),    aI=new StandardOpCode(1,'JNEQ_UNDEFINED'),    v=new StandardOpCode(1,'JTRUE'),    X=new StandardOpCode(1,'LET'),    Y=new StandardOpCode(1,'LITERAL'),    bp=new StandardOpCode(0,'LOG'),    bq=new StandardOpCode(0,'LOOP'),    J=new InternedOpCode(1,'MEMBER'),    b5=new StandardOpCode(3,'METHOD'),    s=new StandardOpCode(1,'MOVE'),    aj=new StandardOpCode(1,'NATIVE_CALL'),    ad=new InternedOpCode(1,'NATIVE_REF'),    ak=new StandardOpCode(0,'OBJECT'),    al=new StandardOpCode(1,'OR'),    h=new StandardOpCode(0,'POP'),    b8=new StandardOpCode(1,'POPN'),    an=new InternedOpCode(1,'PROPERTY'),    ao=new StandardOpCode(0,'PROTO'),    I=new StandardOpCode(0,'PUT'),    aa=new StandardOpCode(2,'PUT_GLOBAL'),    a6=new InternedOpCode(1,'REF'),    a5=new InternedOpCode(1,'REFSYMBOL'),    at=new StandardOpCode(1,'REGEXP'),    au=new StandardOpCode(1,'REST'),    U=new StandardOpCode(0,'RETURN'),    E=new StandardOpCode(1,'ROTATE'),    aw=new StandardOpCode(0,'SAVE'),    S=new StandardOpCode(0,'SCOPE_CLONE'),    ay=new StandardOpCode(0,'SCOPE_POP'),    az=new StandardOpCode(0,'SCOPE_PUSH'),    aA=new StandardOpCode(1,'SPREAD'),    aB=new StandardOpCode(0,'SPREAD_ARG'),    aC=new StandardOpCode(1,'SPREAD_ARRAY'),    a0=new InternedOpCode(1,'STRING'),    aE=new StandardOpCode(0,'SUPER_ELEMENT'),    $=new StandardOpCode(1,'SUPER_MEMBER'),    bv=new StandardOpCode(0,'SWAP'),    aG=new InternedOpCode(3,'SYMBOL'),    aH=new StandardOpCode(1,'TEMPLATE'),    ai=new StandardOpCode(0,'THIS'),    aJ=new StandardOpCode(0,'THROW'),    aK=new StandardOpCode(0,'TO_OBJECT'),    aL=new StandardOpCode(1,'UNARY'),    o=new StandardOpCode(0,'UNDEFINED'),    aN=new StandardOpCode(1,'UPDATE'),    l=new StandardOpCode(1,'VAR'),    aO=new StandardOpCode(0,'WITH'),    aP=new StandardOpCode(1,'YIELD');
var aQ=macro('ASSIGN',a6,[E, 1],I,h);
var m=L.code=function(){function Directives(){this.length=0;}function m(a,f,h,d,i){function Instruction(a,b){Directive.call(this,a,b);}p(Instruction,Directive,{ code:this });var b=a;
this.flags={},a.type==='Program'?(this.flags.topLevel=!0,this.imports=getImports(a),this.scope=scope.create('global')):(this.flags.topLevel=!1,b=b.body,a.type==='ModuleDeclaration'?(this.imports=getImports(b),this.scope=scope.create('module',c.currentScope),b=b.body):d==='eval'?this.scope=scope.create('eval',c.currentScope):this.scope=scope.create('normal',c.currentScope)),g(this,{body:b,source:f==null?c.code.source:f,script:c.script,children:[],createDirective:function(b,c){var a=new Instruction(b,c);
return this.ops.push(a),a;}}),a.id&&(this.name=a.id.name),a.generator&&(this.flags.generator=!0),this.path=[],this.range=a.range,this.loc=a.loc,this.unwinders=[],this.scopeType=d,this.lexicalType=h||'normal',this.flags.usesSuper=referencesSuper(this.body),this.LexicalDeclarations=lexDecls(b),this.VarScopedDeclarations=varDecls(b),this.LexicallyDeclaredNames=[],this.VarDeclaredNames=[],this.flags.strict=i||c.code&&c.code.flags.strict||isStrict(a),d==='module'&&(this.exportedNames=getExports(this.body),this.flags.strict=!0),this.ops=new Directives(),a.params&&(this.params=new Parameters(a),this.scope.varDeclare('arguments','arguments'),e(this.params.boundNames,function(a){this.varDeclare(a,'param');},this.scope));}p(Directives,Array,[function toJSON(){return this.map(function(a){return a.toJSON?a.toJSON():null;});},Array.prototype.forEach||function forEach(c,b){b||(b=this);for(var a=0;a<this.length;a++)c.call(b,this[a],a,this);},Array.prototype.map||function t(d,b){var c=[];
b||(b=this);for(var a=0;a<this.length;a++)c[a]=d.call(b,this[a],a,this);return c;},function inspect(){var a=new Array((''+this.length).length+1).join(' ');
return this.map(function(b,c){return(a+c).slice(-a.length)+' '+b.inspect();}).join('\n');}]);var Directive=function(){function Directive(b,c){this.op=b,this.loc=loc(),this.range=range();for(var a=0;a<b.params;a++)this[a]=c[a];}return g(Directive.prototype,[function toJSON(){var c={ op:this.op.name, range:this.range };
for(var a=0;a<this.op.params;a++){var b=this[a];
c[a]=b&&b.toJSON?b.toJSON():b;}return c;},function inspect(){var b=[];
for(var a=0;a<this.op.params;a++)b.push(ag.inspect(this[a]));return ag.inspect(this.op)+'('+b.join(', ')+')';}]),Directive;}();
var Parameters=function(){function ParametersIterator(a){this.params=a,this.index=0;}function Parameters(a){this.length=0,a.params?(ah(this,a.params),this.boundNames=boundNames(a.params),this.reduced=reducer(a)):(this.reduced=[],this.boundNames=[]),a.rest&&this.boundNames.push(a.rest.name),this.loc=a.loc,this.range=a.range,this.defaults=a.defaults||[],this.Rest=a.rest,this.ExpectedArgumentCount=this.length-this.defaults.length;}return p(ParametersIterator,ar,[function next(){if(this.index>=this.params.length)throw as;return this.params[this.index++];}]),g(Parameters.prototype,[function getIndex(a){return this.boundNames.indexOf(a);},function __iterator__(){return new ParametersIterator(this);}]),Parameters;}();
return g(m.prototype,[function derive(a){a&&(this.strings=a.strings,this.hash=a.hash,this.natives=a.natives,this.natives&&(this.strict=!1));},function lookup(a){return a;}]),m;}();
var ClassDefinition=function(){function ClassDefinition(a,h){var f=this;
this.name=h||(a.id?a.id.name:null),this.methods=[],this.symbols=[[], []],this.scope=scope.create('normal',c.currentScope),a.type==='ClassExpression'&&this.name&&this.scope.varDeclare(this.name),e(a.body.body,function(a){a.type==='SymbolDeclaration'?f.defineSymbols(a):f.defineMethod(a);});if(!this.ctor){var g=aR(b);
a.body.body.push(g),this.defineMethod(g);}this.hasSuper=!!a.superClass,this.hasSuper&&(recurse(a.superClass),d());}var b=a('esprima').parse('class X { constructor(...args){ super(...args) } }').body[0].body.body[0];
return g(ClassDefinition.prototype,[function defineSymbols(a){var c=a.kind!=='private',    b=this;
e(a.declarations,function(a){var d=a.id.name;
b.symbols[0].push(d),b.symbols[1].push(c);});},function defineMethod(b){var a=new m(b.value,c.source,'method','class',c.code.flags.strict),    d=a.name=symbol(b.key);
a.scope.outer=this.scope,a.range=b.range,a.loc=b.loc,c.queue(a),a.displayName=this.name?this.name+'#'+d.join(''):d.join(''),!d[0]&&(d=d[1]),b.kind=b.kind||'method',d==='constructor'?(this.ctor=a,a.classDefinition=this):this.methods.push({ kind:b.kind, code:a, name:d });}]),ClassDefinition;}();
var Unwinder=function(){function Unwinder(a,b,c){this.type=a,this.begin=b,this.end=c;}return g(Unwinder.prototype,[]),Unwinder;}();
var ControlTransfer=function(){function ControlTransfer(a){this.labels=a,this.breaks=[],this.continues=[];}return g(ControlTransfer.prototype,{ labels:null, breaks:null, continues:null }),g(ControlTransfer.prototype,[function updateContinues(a){a!==b&&e(this.continues,function(b){b[0]=a;});},function updateBreaks(a){a!==b&&e(this.breaks,function(b){b[0]=a;});}]),ControlTransfer;}();
var scope=function(){var b=new n();
var a=b.normal=function(){function a(b){this.varNames=new n(),this.lexNames=new n(),this.outer=b;}return g(a.prototype,{ type:'normal' }),g(a.prototype,[function varDeclare(a,b){this.varNames[a]=b;},function lexDeclare(b,a){a==='function'?this.varNames[b]=a:this.lexNames[b]=a;},function has(a){return a in this.varNames||a in this.lexNames;},function pop(){this===c.currentScope&&(c.currentScope=this.outer);}]),a;}();
var e=b.block=function(){function e(a){this.lexNames=new n(),this.outer=a;}return p(e,a,{ type:'block' },[function varDeclare(a,b){this.outer.varDeclare(a,b);},function lexDeclare(a,b){this.lexNames[a]=b;},function has(a){return a in this.lexNames;}]),e;}();
var d=b.global=function(){function d(){a.call(this,null);}return p(d,a,{ type:'global' }),d;}();
var f=b.module=function(){function f(b){a.call(this,b);}return p(f,d,{ type:'module' }),f;}();
var h=b.eval=function(){function h(b){a.call(this,b);}return p(h,a,{ type:'eval' }),h;}();
return g({},[function resolve(a,b){while(a){if(a.has(b))return a;a=a.outer;}},function(){return function am(c,a){var d=new b[c](a);
return a,d;};}()]);}();
var _=g({},[FunctionExpression, ArrowFunctionExpression, ClassExpression]);
var referencesSuper=function(a){function nodeReferencesSuper(b){return b.type==='MemberExpression'?isSuperReference(b.object)?(a=!0,ae):f:b.type==='CallExpression'?isSuperReference(b.callee)?(a=!0,ae):f:isFunction(b)?ap:f;}return function referencesSuper(b){return a=!1,A(b,nodeReferencesSuper),a;};}();
var aT=w({ObjectPattern:'properties',ArrayPattern:'elements',VariableDeclaration:'declarations',BlockStatement:f,Program:f,ForStatement:f,Property:'value',ExportDeclaration:'declaration',ExportSpecifierSet:'specifiers',ImportDeclaration:'specifiers',Identifier:['name'],ImportSpecifier:'id',VariableDeclarator:'id',ModuleDeclaration:'id',SpreadElement:'argument',FunctionDeclaration:'id',ClassDeclaration:'id'});
var lexDecls=function(){var LexicalDeclarations=function(a){return w({ClassDeclaration:a(!1),FunctionDeclaration:a(!1),ExportDeclaration:f,SwitchCase:f,Program:f,VariableDeclaration:a(function(a){return a.kind==='const';})});}(function(a){return typeof a!=='function'&&(a=function(a){return function(){return a;};}(a)),function(b){b.IsConstantDeclaration=a(b),b.boundNames||(b.boundNames=boundNames(b));if(b.kind!=='var')return b;};});
return function lexDecls(a){return a?(!a.LexicalDeclarations&&(a.LexicalDeclarations=LexicalDeclarations(a)),a.LexicalDeclarations):[];};}();
var varDecls=function(){var a=w({VariableDeclaration:function(a){if(a.kind==='var')return a;},BlockStatement:f,CatchClause:f,DoWhileStatement:f,ExportDeclaration:f,ForInStatement:f,ForOfStatement:f,ForStatement:f,IfStatement:f,SwitchCase:f,SwitchStatement:f,TryStatement:f,WhileStatement:f,WithStatement:f});
return function varDecls(b){var c=a(b);
return e(b.body,function(a){a.type==='FunctionDeclaration'&&c.push(a);}),c;};}();
var getExports=function(){var a=w({ Program:f, BlockStatement:f, ExportDeclaration:!0 });
var b=w({ClassDeclaration:!0,ExportDeclaration:f,ExportSpecifier:!0,ExportSpecifierSet:f,FunctionDeclaration:!0,ModuleDeclaration:!0,VariableDeclaration:f,VariableDeclarator:!0});
var c=w({ArrayPattern:'elements',ObjectPattern:'properties',Property:'value',ClassDeclaration:'id',ExportSpecifier:'id',FunctionDeclaration:'id',ModuleDeclaration:'id',VariableDeclarator:'id',Glob:!0,Identifier:['name']});
return function getExports(d){return c(b(a(d)));};}();
var getImports=function(){function Import(b,c,d,a){this.origin=b,this.name=c,this.specifiers=d,a&&(a.imported=this);}var b=w({ Program:f, BlockStatement:f, ImportDeclaration:!0, ModuleDeclaration:!0 });
var a={    AtSymbol:function(a){    return(a.internal?'@@':'@')+a.name;    },    Glob:function(){    return['*', '*'];    },    Path:function(b){    return t(b.body,function(b){    return a[b.type](b);    });    },    ImportSpecifier:function(b){    var c=a[b.id.type](b.id);
    var d=b.from===null?c:a[b.from.type](b.from);
    return[c, d];    },    Identifier:function(a){    return a.name;    },    Literal:function(a){    return a.value;    }    };
return function getImports(d){var f=b(d),    c=[];
return e(f,function(b,i){if(b.body){var d=f=b.id.name;
var h=b;
}else{var d=a[b.from.type](b.from);
if(b.type==='ModuleDeclaration')var f=b.id.name;
else{var g=new n();
e(b.specifiers,function(c){var b=a[c.type](c);
b=typeof b==='string'?[b, b]:b,!(b[1]instanceof Array)&&(b[1]=[b[1]]),g[b[0]]=b[1];});}}c.push(new Import(d,f,g,h));}),c;};}();
var reducer=function(){function convert(a){if(!a)return a;var c=b[a.type];
if(c)return c(a);}function F(a){return{name:convert(a.id),params:t(a.params,convert),defaults:t(a.defaults||[],convert),rest:convert(a.rest)};}function j(b){var a={};
return e(b.properties,function(b){a[convert(b.key)]=convert(b.value);}),a;}function arrays(a){return t(a.elements,convert);}function operation(c,d,e){var b={ operator:e };
return c!==a&&(b.left=convert(c)),d!==a&&(b.right=convert(d)),b;}function binary(a){return{ left:convert(a.left), right:convert(a.right), operator:a.operator };}var a={};
var b={    ArrayExpression:arrays,    ArrayPattern:arrays,    BinaryExpression:binary,    AssignmentExpression:binary,    LogicalExpression:binary,    UnaryExpression:function(b){    return operation(a,b.argument,b.operator);    },    UpdateExpression:function(b){    return b.prefix?operation(a,b.argument,b.operator):operation(b.argument,a,b.operator);    },    Identifier:function(a){    return a.name;    },    Literal:function(a){    return{ value:a.value };    },    ObjectExpression:j,    ObjectPattern:j,    FunctionDeclaration:F,    FunctionExpression:F,    ArrowFunctionExpression:F,    CallExpression:function(a){    return{ callee:convert(a.callee), args:t(a.arguments,convert) };    },    MemberExpression:function(a){    return{ object:convert(a.object), member:convert(a.property) };    },    ThisExpression:function(a){    return'this';    },    SpreadElement:function(a){    return{ spread:convert(a.arguments) };    },    Program:function(b){    var a={ functions:[], vars:[] };
    return e(b.body,function(b){    b.type==='FunctionDeclaration'?a.functions.push(convert(b)):b.type==='VariableDeclaration'&&b.kind==='var'&&e(b.declarations,function(b){    a.vars.push({ binding:convert(b.id), init:convert(b.init) });    });    }),a;    }    };
return convert;}();
var Z, q, af, Q, z, a2, k, K;
void function(){function set(a,b){return function(c){R(c)&&(c[a]=b);};}function either(a,b){return function(c){return c?a:b;};}function copier(a){return function(b,c){R(b)&&R(c)&&(c[a]=b[a]);};}Z=set('wrapped',!0),q=set('wrapped',!1),af=set('tail',!0),Q=set('tail',!1),z=either(Z,q),a2=either(af,Q),k=copier('wrapped'),K=copier('tail');}();var y=[],    B;
var b1={ start:{ line:0, column:0 }, end:{ line:0, column:0 } },    b2=[0, 0];
var symbol=function(){function Symbol(a){this[0]='',a?typeof a==='string'?this[1]=a:a.type==='AtSymbol'?(this[0]='@',this[1]=(a.internal?'@':'')+a.name):a.type==='Literal'?this[1]=''+a.value:this[1]=a.name:this[1]='';}return g(Symbol.prototype,'length',2),g(Symbol.prototype,[Array.prototype.join]),function symbol(a){return new Symbol(a);};}();
var a4=[];
var destructure=function(){var a={    elements:function(a,b){    return a.elements[b];    },    properties:function(a,b){    return a.properties[b].value;    }    };
return function destructure(b,a){var c=b.type==='ArrayPattern'?'elements':'properties';
pushNode(b),aK(),pushNode(b[c]),e(b[c],function(b,c){if(!b)return;pushNode(b),u(),b.type==='Property'?(pushNode(b.key),J(symbol(b.key)),d(),popNode(),pushNode(b.value),isPattern(b.value)?destructure(b.value,a):b.value.type==='Identifier'&&a(b.value.name),popNode()):b.type==='ArrayPattern'?(Y(c),T(),d(),destructure(b,a)):b.type==='Identifier'?(Y(c),T(),d(),a(b.name)):b.type==='SpreadElement'&&(pushNode(b.argument),d(),aA(c),a(b.argument.name),popNode()),popNode();}),popNode(),popNode();};}();
var b4=/^\$__/;
var a1={};
e([ArrayExpression,ArrayPattern,ArrowFunctionExpression,AssignmentExpression,AtSymbol,BinaryExpression,BlockStatement,BreakStatement,CallExpression,CatchClause,ClassBody,ClassDeclaration,ClassExpression,ClassHeritage,ComprehensionExpression,ConditionalExpression,ContinueStatement,DebuggerStatement,DoWhileStatement,EmptyStatement,ExportDeclaration,ExportSpecifier,ExportSpecifierSet,ExpressionStatement,ForInStatement,ForOfStatement,ForStatement,FunctionDeclaration,FunctionExpression,Glob,Identifier,IfStatement,ImportDeclaration,ImportSpecifier,LabeledStatement,Literal,LogicalExpression,MemberExpression,MethodDefinition,ModuleDeclaration,NativeIdentifier,NewExpression,ObjectExpression,ObjectPattern,Path,Program,Property,ReturnStatement,SequenceExpression,SwitchStatement,SymbolDeclaration,SymbolDeclarator,TaggedTemplateExpression,TemplateElement,TemplateLiteral,ThisExpression,ThrowStatement,TryStatement,UnaryExpression,UpdateExpression,VariableDeclaration,VariableDeclarator,WhileStatement,WithStatement,YieldExpression],function(a){a1[aM(a)]=a;});var H=L.Assembler=function(){function annotateParent(b,a){A(b,function(b){return R(b)&&a&&g(b,'parent',a),f;});}function reinterpretNatives(a){A(a,function(a){if(!(a.type==='Identifier'&&/^\$__/.test(a.name)))return f;a.type='NativeIdentifier',a.name=a.name.slice(3);});}function AssemblerOptions(a){a=Object(a);for(var b in this)this[b]=b in a?a[b]:this[b];}function H(a){this.script=new AssemblerOptions(a),g(this,{ strings:[], hash:new n() });}return AssemblerOptions.prototype={ scope:'global', natives:!1, filename:null },g(H.prototype,{ source:null, node:null, code:null, pending:null, jumps:null, labels:null }),g(H.prototype,[function assemble(b,d){c=this,this.pending=new ac(),this.jumps=new ac(),this.labels=null,this.source=d,this.script.scope==='function'&&(b=b.body[0].expression);var a=new m(b,d,'normal',this.script.scope);
g(a,{ strings:this.strings, hash:this.hash }),a.topLevel=!0,this.script.natives&&(a.natives=!0,a.flags.strict=!1),this.queue(a);while(this.pending.length)this.process(this.pending.pop(),this.code);return a;},function process(a,b){this.code=a,this.code.filename=this.filename,b&&a.derive(b),this.currentScope=a.scope,a.params&&FunctionDeclarationInstantiation(a),recurse(a.body);var c=last();
a.scopeType==='global'||a.scopeType==='eval'?aU():c&&c.op.name!=='RETURN'&&(a.lexicalType==='arrow'&&a.body.type!=='BlockStatement'?(d(),U()):(o(),U())),this.currentScope=this.currentScope.outer;},function queue(a){this.code&&this.code.children.push(a),this.pending.push(a);},function intern(a){return a;},function earlyError(b,a){this.code.errors||(this.code.errors=[]),this.code.errors.push(a);}]),H;}();
return L.assemble=function assemble(a){var b=new H(a);
return b.assemble(a.ast,a.source);},L;}(typeof d!=='undefined'?d.exports:{}),c.$Symbol=function(c){function zeroPad(c,d){var a=''+c,    e=a.length,    b=d-e;
return b>0?k[b]+a:a;}var e=a('../lib/objects'),    g=a('../lib/utility');
var h=e.inherit,    f=e.define,    l=e.Hash,    i=g.tag,    j=g.uid;
var k=['', '0', '00', '000', '0000', '00000', '000000', '0000000', '00000000'];
var b=c.$Symbol=function(){function b(a,d){this.Name=a,this.Private=!d,i(this),this.gensym='@@@'+zeroPad(this.id,8)+c;}var c=j();
return f(b.prototype,{ BuiltinBrand:'BuiltinSymbol', Extensible:!1, Private:!0, Name:null, type:'$Symbol' }),f(b.prototype,[,function toStringTag(){return'Symbol';},function each(){},function get(){},function set(){},function describe(){},function remove(){},function has(){return!1;},function toString(){return this.gensym;},function GetInheritance(){return null;},function SetInheritance(a){return!1;},function IsExtensible(){return!1;},function PreventExtensions(){},function HasOwnProperty(){return!1;},function GetOwnProperty(){},function Get(a){},function GetP(c,b){if(b==='toString')return a('../runtime').intrinsics.ObjectToString;},function SetP(a,b,c){return!1;},function Delete(a){return!0;},function DefineOwnProperty(a,b){return!1;},function enumerator(){var c=new(a('./$Object')).$Enumerator([]);
return f(b.prototype,function enumerator(){return c;}),c;},function Keys(){return[];},function OwnPropertyKeys(){return[];},function Enumerate(){return[];},function Freeze(){return!0;},function Seal(){return!0;},function IsFrozen(){return!0;},function IsSealed(){return!0;},function DefaultValue(){return'[object Symbol]';}]),b;}();
var d=c.$WellKnownSymbol=function(){function d(a){b.call(this,'@'+a,!0);}function addWellKnownSymbol(b){return a[b]=new d(b);}var a=c.wellKnownSymbols=new l();
return h(d,b),c.addWellKnownSymbol=addWellKnownSymbol,addWellKnownSymbol('toStringTag'),addWellKnownSymbol('iterator'),addWellKnownSymbol('hasInstance'),addWellKnownSymbol('create'),addWellKnownSymbol('BooleanValue'),addWellKnownSymbol('StringValue'),addWellKnownSymbol('NumberValue'),addWellKnownSymbol('DateValue'),addWellKnownSymbol('ToPrimitive'),d;}();
return c;}(typeof d!=='undefined'?c:{}),c.$Nil=function(c){function Undetectable(a){this.value=a;}function $Nil(){this.value=this,i(this);}var e=a('../lib/objects'),    g=a('../lib/utility');
var h=e.inherit,    d=e.define,    i=g.tag;
var j=a('./$Symbol').wellKnownSymbols.ToPrimitiveSymbol;
d(Undetectable.prototype,{ undetectable:!0 },[function toString(){return'undefined';}, function valueOf(){return NaN;}]),c.Undetectable=Undetectable,c.isUndetectable=function isUndetectable(a){return a instanceof Undetectable;},c.isUndefined=function isUndefined(a){return a===b||a instanceof Undetectable;},c.isNullish=function isNullish(a){return a==null||a instanceof Undetectable;},c.isFalsey=function isFalsey(a){return!a||a instanceof Undetectable;};var k={ Call:function(b,a){    return a[0]==='string'?'':0;    } };
var f={ Writable:!1, Enumerable:!1, Configurable:!1 };
return c.$Nil=$Nil,h($Nil,Undetectable,{ type:'$Nil', BuiltinBrand:'BuiltinNil' },[function toString(){return'';},function valueOf(){return 0;},function toStringTag(){return'Nil';},function each(){},function get(a){return this;},function set(){},function describe(a){return[a, this, 0];},function remove(){},function has(){return!1;},function enumerator(){var b=new(a('./$Object')).$Enumerator([]);
return d($Nil.prototype,function enumerator(){return b;}),b;},function(){return function d(){};}(),function GetInheritance(){return null;},function SetInheritance(){return!0;},function IsExtensible(){return!0;},function PreventExtensions(){return!0;},function HasProperty(){return!1;},function HasOwnProperty(){return!1;},function GetOwnProperty(){return f.Value=this,f;},function Get(a){return a===j?k:this;},function GetP(){return this;},function Put(){return!0;},function SetP(){return!0;},function Delete(){return!0;},function DefineOwnProperty(){return!0;},function Call(){return this;},function Construct(){return this;},function HasInstance(){return!1;},function Keys(){return[];},function OwnPropertyKeys(){return[];},function Enumerate(){return[];}]),c;}(typeof d!=='undefined'?c:{}),c.descriptors=function(c){function $Object(b){return $Object=a('./$Object').$Object,new $Object(b);}function PropertyDescriptor(){}function EmptyDataDescriptor(){}function EmptyAccessorDescriptor(){}function DataDescriptor(b,a){this.Value=b,this.Writable=(a&r)>0,this.Enumerable=(a&l)>0,this.Configurable=(a&k)>0;}function AccessorDescriptor(a,b){this.accessor=a,this.Get=a.Get,this.Set=a.Set,this.Enumerable=(b&l)>0,this.Configurable=(b&k)>0;}function StringIndex(a){this.Value=a;}function Value(a){this.Value=a;}function Accessor(a,b){this.Get=a,this.Set=b,g(this);}function BuiltinAccessor(a,b){g(this),a&&(this.Get={ Call:a }),b&&(this.Set={ Call:b });}function ArgAccessor(a,b){this.name=a,this.env=b,g(this);}function $$IsDescriptor(a){return a?a.isDescriptor===!0:!1;}function $$IsEmptyDescriptor(a){return!('Get'in a||'Set'in a||'Value'in a||'Writable'in a||'Enumerable'in a||'Configurable'in a);}function $$IsAccessorDescriptor(a){return a===b?!1:'Get'in a||'Set'in a;}function $$IsDataDescriptor(a){return a===b?!1:'Value'in a||'Writable'in a;}function $$IsGenericDescriptor(a){return a===b?!1:!('Get'in a||'Set'in a||'Value'in a||'Writable'in a);}function $$IsEquivalentDescriptor(a,b){return a.isDataDescriptor===b.isDataDescriptor&&a.Get===b.Get&&a.Set===b.Set&&a.Writable===b.Writable&&a.Enumerable===b.Enumerable&&a.Configurable===b.Configurable&&p(a.Value,b.Value);}function $$FromPropertyDescriptor(a){if(a){var b=new $Object();
return b.set('enumerable',a.Enumerable),b.set('configurable',a.Configurable),a.isDataDescriptor?(b.set('writable',a.Writable),b.set('value',a.Value)):a.isAccessorDescriptor&&(b.set('get',a.Get),b.set('set',a.Set)),b;}}function $$ToPropertyDescriptor(d){if(typeof d!=='object')return e('property_desc_object',[typeof d]);var a=i(null);
for(var j=0;j<6;j++){var k=h[j];
if(d.HasProperty(k)){var l=a[k]=d.Get(k);
if(l&&l.Abrupt)return l;}}if('get'in a||'set'in a){if('value'in a||'writable'in a)return e('value_and_accessor',[a]);var c=new EmptyAccessorDescriptor();
if('get'in a){var f=c.Get=a.get;
if(f?!f.Call:f!==b)return e('getter_must_be_callable',[typeof f]);}if('set'in a){var g=c.Set=a.set;
if(g?!g.Call:g!==b)return e('setter_must_be_callable',[typeof g]);}}else if('value'in a||'writable'in a){var c=new EmptyDataDescriptor();
'value'in a&&(c.Value=a.value),'writable'in a&&(c.Writable=a.writable);}else var c=new EmptyDataDescriptor();
return'enumerable'in a&&(c.Enumerable=a.enumerable),'configurable'in a&&(c.Configurable=a.configurable),c;}function $$FromGenericPropertyDescriptor(c){if(c===b)return;var d=new $Object();
for(var a=0,    e;a<6;a++)n[a]in c&&d.define(h[a],c[n[a]],u);return d;}function $$ToCompletePropertyDescriptor(c){var a=$$ToPropertyDescriptor(c);
return a&&a.Abrupt?a:('Value'in a||'Writable'in a?('Value'in a||(a.Value=b),'Writable'in a||(a.Writable=!1)):'Get'in a||'Set'in a?('Get'in a||(a.Get=b),'Set'in a||(a.Set=b)):(a.isDataDescriptor=!0,a.Value=b,a.Writable=!1),'Enumerable'in a||(a.Enumerable=!1),'Configurable'in a||(a.Configurable=!1),a);}function $$CopyAttributes(c,e){var d=c.Enumerate(!0,!0);
for(var a=0;a<d.length;a++){var b=d[a];
!(b in m)&&e.set(b,c.Get(b));}}'use strict';var f=a('../lib/objects'),    v=a('../lib/iteration'),    s=a('../errors'),    q=a('../lib/utility');
var p=f.is,    i=f.create,    j=f.define,    d=f.inherit,    o=v.each,    g=q.tag,    e=s.$$ThrowException;
var l=1,    k=2,    r=4,    F=8,    A=0,    t=1,    G=2,    w=3,    x=4,    y=5,    z=6,    u=7,    B=8,    C=9,    D=10,    E=11;
var h=['value', 'writable', 'enumerable', 'configurable', 'get', 'set'],    n=['Value', 'Writable', 'Enumerable', 'Configurable', 'Get', 'Set'],    m=i(null);
return o(h,function(a){m[a]=!0;}),PropertyDescriptor.prototype=j(i(null),{ constructor:PropertyDescriptor, type:'PropertyDescriptor', isDescriptor:!0 }),c.PropertyDescriptor=PropertyDescriptor,c.EmptyDataDescriptor=EmptyDataDescriptor,d(EmptyDataDescriptor,PropertyDescriptor,{ type:'DataDescriptor', isDataDescriptor:!0, isAccessorDescriptor:!1 }),c.EmptyAccessorDescriptor=EmptyAccessorDescriptor,d(EmptyAccessorDescriptor,PropertyDescriptor,{ type:'AccessorDescriptor', isDataDescriptor:!1, isAccessorDescriptor:!0 },[function getAccessor(){return this.accessor?this.accessor:this.accessor=new Accessor(this.Get,this.Set);}]),c.DataDescriptor=DataDescriptor,d(DataDescriptor,EmptyDataDescriptor,{ Writable:b, Value:b }),c.AccessorDescriptor=AccessorDescriptor,d(AccessorDescriptor,EmptyAccessorDescriptor,{ Get:b, Set:b }),c.StringIndex=StringIndex,StringIndex.prototype=new DataDescriptor(b,t),c.Value=Value,d(Value,EmptyDataDescriptor),c.Accessor=Accessor,j(Accessor.prototype,{ Get:b, Set:b }),c.BuiltinAccessor=BuiltinAccessor,d(BuiltinAccessor,Accessor),c.ArgAccessor=ArgAccessor,d(ArgAccessor,Accessor,{type:'ArgAccessor',Get:{ Call:function(){return this.env.GetBindingValue(this.name);} },Set:{ Call:function(a){this.env.SetMutableBinding(this.name,a);} }}),c.$$IsDescriptor=$$IsDescriptor,c.$$IsEmptyDescriptor=$$IsEmptyDescriptor,c.$$IsAccessorDescriptor=$$IsAccessorDescriptor,c.$$IsDataDescriptor=$$IsDataDescriptor,c.$$IsGenericDescriptor=$$IsGenericDescriptor,c.$$IsEquivalentDescriptor=$$IsEquivalentDescriptor,c.$$FromPropertyDescriptor=$$FromPropertyDescriptor,c.$$ToPropertyDescriptor=$$ToPropertyDescriptor,c.$$FromGenericPropertyDescriptor=$$FromGenericPropertyDescriptor,c.$$ToCompletePropertyDescriptor=$$ToCompletePropertyDescriptor,c.$$CopyAttributes=$$CopyAttributes,c;}(typeof d!=='undefined'?c:{}),c.collections=function(e){'use strict';var c=a('../lib/objects'),    n=a('../lib/traversal'),    m=a('../lib/utility'),    k=a('../constants');
var i=c.Hash,    f=c.create,    d=c.define,    o=c.inherit,    l=c.hasOwn,    g=n.jsonify,    j=m.tag,    h=k.Empty;
return e.MapData=function(){function LinkedItem(b,a){this.key=b,this.next=a,this.previous=a.previous,a.previous=a.previous.next=this;}function MapData(){j(this),this.guard=f(LinkedItem.prototype),this.guard.key={},this.reset();}return d(LinkedItem.prototype,[function unlink(){return this.next.previous=this.previous,this.previous.next=this.next,this.next=this.previous=this.value=this.key=null,this.value;}]),MapData.sigil=f(null),d(MapData.prototype,{ type:'MapData' }),d(MapData.prototype,[function toJSON(b){var a=[];
return this.forEach(function(b,c){console.log(b,c),a.push([g(c), g(b)]);}),{ type:'MapData', entries:a };},function reset(){this.size=0,this.numbers=[],this.strings=new i(),this.others=new i(),this.lastLookup=this.guard.next=this.guard.previous=this.guard;},function clone(){var a=new MapData();
return this.forEach(function(b,c){a.set(c,b);}),a;},function forEach(c,b){var a=this.guard.next,    d=0;
b=b||this;while(a!==this.guard)c.call(b,a.value,a.key,this),a=a.next;},function clear(){var b,    a=this.guard.next;
while(a!==this.guard)b=a.next,a.key!==null&&typeof a.key==='object'&&delete a.key.storage[this.id],a.next=a.previous=a.value=a.key=null,a=b;this.reset();},function add(a){return this.size++,new LinkedItem(a,this.guard);},function lookup(a){var c=typeof a;
if(a===this)return this.guard;if(a!==null&&c==='object')return a.storage[this.id];{var b=this.getStorage(a);
if(l(b,a))return b[a];}},function getStorage(a){var b=typeof a;
return b==='string'?this.strings:b==='number'?a===0&&1/a===-Infinity?this.others:this.numbers:this.others;},function set(a,d){var e=typeof a;
if(a!==null&&e==='object')var b=a.storage[this.id]||(a.storage[this.id]=this.add(a));
else var c=this.getStorage(a),    b=c[a]||(c[a]=this.add(a));
b.value=d;},function get(b){var a=this.lookup(b);
if(a)return a.value;},function has(a){return!!this.lookup(a);},function remove(a){if(a!==null&&typeof a==='object'){var b=a.storage[this.id];
b&&delete a.storage[this.id];}else{var c=this.getStorage(a),    b=c[a];
b&&delete c[a];}return b?(b.unlink(),this.size--,!0):!1;},function after(b){if(b===MapData.sigil)var a=this.guard;
else if(b===this.lastLookup.key)var a=this.lastLookup;
else var a=this.lookup(b);
if(a&&a.next!==this.guard)return this.lastLookup=a.next,[a.next.key, a.next.value];}]),MapData;}(),e.WeakMapData=function(){function WeakMapData(){j(this);}return d(WeakMapData.prototype,{ type:'WeakMapData' }),d(WeakMapData.prototype,[function set(c,a){a===b&&(a=h),c.storage[this.id]=a;},function get(b){var a=b.storage[this.id];
if(a!==h)return a;},function has(a){return a.storage[this.id]!==b;},function remove(a){var c=a.storage[this.id];
return c!==b?(a.storage[this.id]=b,!0):!1;}]),WeakMapData;}(),e;}(typeof d!=='undefined'?c:{}),c.operators=function(c){function $$HasPrimitiveBase(b){var a=typeof b.base;
return a==='string'||a==='number'||a==='boolean';}function $$GetValue(a){if(!a||!a.Reference||a.Abrupt)return a;var b=a.base;
if(b==null)return d('not_defined',[a.name]);{var c=typeof b;
if(c!=='object'){if(c==='string'&&a.name==='length'||a.name>=0&&a.name<b.length)return b[a.name];b=$$ToObject(b);}if(b.Get)return'thisValue'in a?b.GetP($$GetThisValue(a),a.name):b.Get(a.name);if(b.GetBindingValue)return b.GetBindingValue(a.name,a.strict);}}function $$PutValue(a,e){if(!a)return d('non_object_property_store',[TYPEOF(a), TYPEOF(e)]);if(a.Abrupt)return a;if(!a.Reference)return d('non_object_property_store',[a.name, a.base]);if(e&&e.Abrupt)return e;var b=a.base;
if(b==null)return a.strict?d('not_defined',[a.name, b]):c.global.Put(a.name,e,!1);typeof b!=='object'&&(b=$$ToObject(b));if(b.Get)return'thisValue'in a?b.SetP(GetThisValue(a),a.name,e,a.strict):b.Put(a.name,e,a.strict);if(b.SetMutableBinding)return b.SetMutableBinding(a.name,e,a.strict);}function $$GetThisValue(a){if(!a||a.Abrupt||!a.Reference)return a;var b=a.base;
return b==null?d('non_object_property_load',[a.name, b]):'thisValue'in a?a.thisValue:b;}function $$ToObject(b){var e=a('./$Object').$Object,    c=a('../runtime');
return $$ToObject=function _$$ToObject(a){switch(typeof argument){case'undefined':return d('undefined_to_object',[]);case'object':return a===null?d('null_to_object',[]):a;case'boolean':var b='%Boolean%';
break;case'number':var b='%Number%';
break;case'string':var b='%String%';
}return c.intrinsics[b].Construct([a]);},$$ToObject(b);}function $$Type(a){if(a===null)return'Null';switch(typeof argument){case'undefined':return'Undefined';case'object':return a.Reference?$$Type($$GetValue(a)):a.Completion?'Completion':f(a)?'Undefined':'Object';case'string':return'String';case'number':return'Number';case'boolean':return'Boolean';}}function $$IsCallable(a){return a&&a.Abrupt?a:!!(a&&typeof a==='object'?a.Call:!1);}function $$ToPrimitive(c,f){if($$Type(c)!=='Object')return c;if(f==='String')var a='string';
else if(f==='Number')var a='number';
else var a='default';
var e=c.Get(B);
if(e!==b){if(!$$IsCallable(e))return d('cannot_convert_to_primitive',[]);var g=e.Call(c,[a]);
return $$Type(g)!=='Object'?g:d('cannot_convert_to_primitive',[]);}return a==='default'&&(a='number'),$$OrdinaryToPrimitive(c,a);}function $$OrdinaryToPrimitive(b,h){if(h==='string')var c='toString',    e='valueOf';
else var c='valueOf',    e='toString';
var f=b.Get(c);
if($$IsCallable(f)){var a=f.Call(b);
if($$Type(a)!=='Object')return a;}var g=b.Get(e);
if($$IsCallable(g)){var a=g.Call(b);
if($$Type(a)!=='Object')return a;}return d('cannot_convert_to_primitive',[]);}function $$ToBoolean(a){return a&&a.Completion?a:!e(a);}function $$ToNumber(a){return!e(a)&&typeof a==='object'?a.Abrupt?a:$$ToNumber($$ToPrimitive(a,'Number')):+a;}function $$ToInteger(a){return a=$$ToNumber(a),a&&a.Abrupt?a:a!==a?0:a===0||a===Infinity||a===-Infinity?a:a>>0;}function $$ToUint32(a){return a=$$ToNumber(a),a&&a.Abrupt?a:a>>>0;}function $$ToInt32(a){return a=$$ToNumber(a),a&&a.Abrupt?a:a>>0;}function $$ToUint16(a){return a=$$ToNumber(a),a&&a.Abrupt?a:a>>>0&65535;}function $$ToPropertyKey(a){if(e(a))return a+'';var b=typeof a;
return b==='string'||b==='object'&&a.Abrupt||a.BuiltinBrand==='BuiltinSymbol'?a:$$ToString(a);}function $$ToString(a){switch(typeof argument){case'string':return a;case'undefined':case'number':case'boolean':return''+a;case'object':return a===null?'null':a.Abrupt?a:j(a)?a.toString():$$ToString($$ToPrimitive(a,'String'));}}function convertAdd(a,b,c,d){if(typeof a!==c){a=d(a);if(a&&a.Abrupt)return a;}else if(typeof b!==c){b=d(b);if(b&&b.Abrupt)return b;}return a+b;}function ADD(a,b){return a=$$ToPrimitive(a),a&&a.Abrupt?a:(b=$$ToPrimitive(b),b&&b.Abrupt?b:typeof a==='string'||typeof b==='string'?convertAdd(a,b,'string',$$ToString):convertAdd(a,b,'number',$$ToNumber));}function STRING_ADD(a,b){return convertAdd(a,b,'string',$$ToString);}function COMPARE(e,f,g){if(g===!1)var a=e,    b=f;
else var a=f,    b=e;
a=$$ToPrimitive(a,'Number');if(a&&a.Abrupt)return a;b=$$ToPrimitive(b,'Number');if(b&&b.Abrupt)return b;var c=typeof a,    d=typeof b;
if(c==='string'||d==='string'){if(c!=='string'){a=$$ToString(a);if(a&&a.Abrupt)return a;}else if(d!=='string'){b=$$ToString(b);if(b&&b.Abrupt)return b;}if(typeof a==='string'&&typeof b==='string')return a<b;}else{if(c!=='number'){a=$$ToNumber(a);if(a&&a.Abrupt)return a;}if(d!=='number'){b=$$ToNumber(b);if(b&&b.Abrupt)return b;}if(typeof a==='number'&&typeof b==='number')return a<b;}}function $$OrdinaryHasInstance(b,c){return $$OrdinaryHasInstance=a('./operations').$$OrdinaryHasInstance,$$OrdinaryHasInstance(b,c);}function $$GetMethod(b,c){return $$GetMethod=a('./operations').$$GetMethod,$$GetMethod(b,c);}function INSTANCE_OF(c,a){var e=$$GetMethod(a,C);
return e!==b?e.Call(a,[c]):!a||!a.Call?d('instanceof_function_expected',[TYPEOF(a)]):$$OrdinaryHasInstance(a,c);}function EQUAL(a,c){return a&&a.Abrupt?a:c&&c.Abrupt?c:a===c?!0:a===b?j(c):c===b?j(a):!1;}function NOT_EQUAL(a,b){return!EQUAL(a,b);}function EQUIVALENT(a,b){if(a&&a.Abrupt)return a;if(b&&b.Abrupt)return b;var c=typeof a,    d=typeof b;
return h(a)?h(b):h(b)?h(a):c===d?EQUAL(a,b):c==='number'||d==='string'?EQUIVALENT(a,$$ToNumber(b)):c==='string'||d==='number'?EQUIVALENT($$ToNumber(a),b):d==='boolean'?EQUIVALENT(a,$$ToNumber(b)):c==='boolean'?EQUIVALENT($$ToNumber(a),b):d==='object'&&c==='number'||c==='string'?EQUIVALENT(a,$$ToPrimitive(b)):c==='object'&&d==='number'||d==='object'?EQUIVALENT($$ToPrimitive(a),b):!1;}function NOT_EQUIVALENT(b,c){var a=EQUIVALENT(b,c);
return typeof a==='boolean'?!a:a;}function VOID(b){var a=$$GetValue(b);
if(a&&a.Abrupt)return a;}function TYPEOF(a){var b=typeof a;
switch(b){case'undefined':case'boolean':case'number':case'string':return b;case'object':return a===null?'object':a.Abrupt?a:a.Reference?f(a.base)?'undefined':TYPEOF($$GetValue(a)):'Call'in a?'function':f(a)?'undefined':'object';}}function POSITIVE(a){return $$ToNumber($$GetValue(a));}function DELETE(a){if(e(a)||!a.Reference)return!0;var b=a.base;
return f(b)?a.strict?d('strict_delete_property',[a.name, b]):!0:b.Delete?'thisValue'in a?d('super_delete_property',a.name):b.Delete(a.name,a.strict):b.DeleteBinding?b.DeleteBinding(a.name):!0;}function IN(a,b){return!b||!b.HasProperty?d('invalid_in_operator_use',[a, TYPEOF(b)]):(a=$$ToPropertyKey(a),a&&a.Abrupt?a:b.HasProperty(a));}function UnaryOperation(b,a){switch(b){case'delete':return DELETE(a);case'void':return VOID(a);case'typeof':return TYPEOF(a);case'+':return POSITIVE(a);case'-':return n(a);case'~':return l(a);case'!':return m(a);}}function BinaryOperation(c,a,b){switch(c){case'instanceof':return INSTANCE_OF(a,b);case'in':return IN(a,b);case'==':return EQUIVALENT(a,b);case'!=':return NOT_EQUIVALENT(a,b);case'===':return EQUAL(a,b);case'!==':return NOT_EQUAL(a,b);case'<':return A(a,b);case'>':return p(a,b);case'<=':return r(a,b);case'>=':return o(a,b);case'*':return q(a,b);case'/':return k(a,b);case'%':return s(a,b);case'+':return ADD(a,b);case'string+':return STRING_ADD(a,b);case'-':return t(a,b);case'<<':return x(a,b);case'>>':return y(a,b);case'>>>':return z(a,b);case'|':return u(a,b);case'&':return v(a,b);case'^':return w(a,b);}}'use strict';var F=a('../constants'),    g=a('./$Nil'),    i=a('./$Symbol').wellKnownSymbols,    d=a('../errors').$$ThrowException;
var C=i.hasInstance,    E=i.create,    B=i.ToPrimitive;
var e=g.isFalsey,    h=g.isNullish,    f=g.isUndefined,    j=g.isUndetectable;
c.$$HasPrimitiveBase=$$HasPrimitiveBase,c.$$GetValue=$$GetValue,c.$$PutValue=$$PutValue,c.$$GetThisValue=$$GetThisValue;var D;
c.$$ToObject=$$ToObject,c.$$Type=$$Type,c.$$IsCallable=$$IsCallable,c.$$ToPrimitive=$$ToPrimitive,c.$$OrdinaryToPrimitive=$$OrdinaryToPrimitive,c.$$ToBoolean=$$ToBoolean,c.$$ToNumber=$$ToNumber,c.$$ToInteger=$$ToInteger,c.$$ToUint32=$$ToUint32,c.$$ToInt32=$$ToInt32,c.$$ToUint16=$$ToUint16,c.$$ToPropertyKey=$$ToPropertyKey,c.$$ToString=$$ToString,void function(a){c.PRE_INC=a(!0,1),c.POST_INC=a(!1,1),c.PRE_DEC=a(!0,-1),c.POST_DEC=a(!1,-1);}(function(a,b){return function(e){var c=$$ToNumber($$GetValue(e));
if(c&&c.Abrupt)return c;var f=c+b,    d=$$PutValue(e,f);
return d&&d.Abrupt?d:a?f:c;};});var q, k, s, t, u, v, w;
void function(a){c.MUL=q=a(function(a,b){return a*b;}),c.DIV=k=a(function(a,b){return a/b;}),c.MOD=s=a(function(a,b){return a%b;}),c.SUB=t=a(function(a,b){return a-b;}),c.BIT_AND=v=a(function(a,b){return a&b;}),c.BIT_OR=u=a(function(a,b){return a|b;}),c.BIT_XOR=w=a(function(a,b){return a^b;});}(function(a){return function(b,c){return b=$$ToNumber(b),b&&b.Abrupt?b:(c=$$ToNumber(c),c&&c.Abrupt?c:a(b,c));};}),c.ADD=ADD,c.STRING_ADD=STRING_ADD;var x, y, z;
void function(a){c.SHL=x=a(function(a,b){return a<<b;}),c.SHR=y=a(function(a,b){return a>>b;}),c.SAR=z=a(function(a,b){return a>>>b;});}(function(a){return function(b,c){return b=$$ToInt32(b),b&&b.Abrupt?b:(c=$$ToUint32(c),c&&c.Abrupt?c:a(b,c&31));};});var A, p, r, o;
void function(a){c.LT=A=a(!0,!1),c.GT=p=a(!1,!1),c.LTE=r=a(!0,!0),c.GTE=o=a(!1,!0);}(function(b,a){return function(d,e){if(b){var g=d;
d=e,e=g;}var c=COMPARE(e,d,a);
return c&&c.Abrupt?c:f(c)?!1:a?!c:c;};}),c.INSTANCE_OF=INSTANCE_OF,c.EQUAL=EQUAL,c.NOT_EQUAL=NOT_EQUAL,c.EQUIVALENT=EQUIVALENT,c.NOT_EQUAL=NOT_EQUAL,c.VOID=VOID,c.TYPEOF=TYPEOF,c.POSITIVE=POSITIVE;var n, l, m;
return void function(a){c.NEGATIVE=n=a($$ToNumber,function(a){return-a;}),c.BIT_NOT=l=a($$ToInt32,function(a){return~a;}),c.NOT=m=a($$ToBoolean,function(a){return e(a);});}(function(b,a){return function(c){if(e(c)||typeof c!=='object')return a(c);var d=b($$GetValue(c));
return d&&d.Abrupt?d:a(d);};}),c.DELETE=DELETE,c.IN=IN,c.UnaryOperation=UnaryOperation,c.BinaryOperation=BinaryOperation,c;}(typeof d!=='undefined'?d.exports:{}),c.environments=function(f,c){'use strict';var e=a('../lib/objects');
var b=e.Hash,    r=e.isObject,    p=e.keys,    n=e.define,    i=e.inherit,    o=e.hide,    q=a('../lib/iteration').each,    h=a('../lib/utility').tag;
var d=a('../errors').$$ThrowException,    m=a('../constants').SYMBOLS.Uninitialized;
var l={ Configurable:!0, Enumerable:!0, Writable:!0, Value:c };
var g=f.EnvironmentRecord=function(){function g(a,c){this.bindings=a,this.outer=c||null,this.cache=new b(),h(this);}return n(g.prototype,{ bindings:null, withBase:c, type:'Env', Environment:!0 }),n(g.prototype,[function EnumerateBindings(){},function HasBinding(a){},function GetBindingValue(a,b){},function SetMutableBinding(a,b,c){},function DeleteBinding(a){},function WithBaseObject(){return this.withBase;},function HasThisBinding(){return!1;},function HasSuperBinding(){return!1;},function GetThisBinding(){},function GetSuperBase(){},function HasSymbolBinding(a){return this.symbols?a in this.symbols:!1;},function InitializeSymbolBinding(a,c){if(!this.symbols)this.symbols=new b();else if(a in this.symbols)return d('symbol_redefine',a);this.symbols[a]=c;},function GetSymbol(a){return this.symbols&&a in this.symbols?this.symbols[a]:d('symbol_not_defined',a);}]),g;}();
var j=f.DeclarativeEnvironmentRecord=function(){function j(a){this.outer=a||null,this.bindings=new b(),this.consts=new b(),this.deletables=new b(),this.cache=new b(),h(this);}return i(j,g,{ type:'DeclarativeEnv' },[function destroy(){this.destroy=null;for(var a in this.bindings)this.bindings[a]&&this.bindings[a].destroy&&this.bindings[a].destroy();},function EnumerateBindings(){return p(this.bindings);},function HasBinding(a){return a in this.bindings;},function CreateMutableBinding(a,b){this.bindings[a]=c,b&&(this.deletables[a]=!0);},function InitializeBinding(a,b){this.bindings[a]=b;},function GetBindingValue(a,c){if(a in this.bindings){var b=this.bindings[a];
return b===m?d('uninitialized_const',a):b;}else return c?d('not_defined',a):!1;},function SetMutableBinding(a,b,c){if(a in this.consts){if(this.bindings[a]===m)return d('uninitialized_const',a);else if(c)return d('const_assign',a);}else this.bindings[a]=b;},function CreateImmutableBinding(a){this.bindings[a]=m,this.consts[a]=!0;},function DeleteBinding(a){return a in this.bindings?a in this.deletables?(delete this.bindings[a],delete this.deletables[names],!0):!1:!0;}]),j;}();
var k=f.ObjectEnvironmentRecord=function(){function k(a,c){this.bindings=a,this.outer=c||null,this.cache=new b(),h(this);}return i(k,g,{ type:'ObjectEnv' },[function destroy(){this.destroy=null,this.bindings.destroy&&this.bindings.destroy();},function EnumerateBindings(){return this.bindings.Enumerate(!1,!1);},function HasBinding(a){return this.bindings.HasProperty(a);},function CreateMutableBinding(a,b){return this.bindings.DefineOwnProperty(a,l,!0);},function InitializeBinding(a,b){l.Value=b;var d=this.bindings.DefineOwnProperty(a,l,!0);
return l.Value=c,d;},function GetBindingValue(a,b){if(this.bindings.HasProperty(a))return this.bindings.Get(a);if(b)return d('not_defined',a);},function SetMutableBinding(a,b,c){return this.bindings.Put(a,b,c);},function DeleteBinding(a){return this.bindings.Delete(a,!1);}]),k;}();
return f.FunctionEnvironmentRecord=function(){function FunctionEnvironmentRecord(c,a){this.outer=a.Scope,this.bindings=new b(),this.consts=new b(),this.deletables=new b(),this.cache=new b(),this.thisValue=c,this.HomeObject=a.HomeObject,this.MethodName=a.MethodName,h(this);}return i(FunctionEnvironmentRecord,j,{ HomeObject:c, MethodName:c, thisValue:c, type:'FunctionEnv' },[function HasThisBinding(){return!0;},function HasSuperBinding(){return this.HomeObject!==c;},function GetThisBinding(){return this.thisValue;},function GetSuperBase(){return this.HomeObject?this.HomeObject.GetInheritance():c;},function GetMethodName(){return this.MethodName;}]),FunctionEnvironmentRecord;}(),f.GlobalEnvironmentRecord=function(){function GlobalEnvironmentRecord(a){this.thisValue=this.bindings=a,this.outer=null,this.cache=new b(),a.env=this,o(a,'env'),h(this);}return i(GlobalEnvironmentRecord,k,{ outer:null, type:'GlobalEnv' },[function GetThisBinding(){return this.bindings;},function HasThisBinding(){return!0;},function inspect(){return'[GlobalEnvironmentRecord]';}]),GlobalEnvironmentRecord;}(),f;}(typeof d!=='undefined'?d.exports:{}),c.operations=function(c){function $Object(b){return $Object=a('./$Object').$Object,new $Object(b);}function $Array(b){return $Array=a('./$Array').$Array,new $Array(b);}function $$CheckObjectCoercible(a){return a===null?d('null_to_object'):a===b?d('undefined_to_object'):a;}function $$IsArrayIndex(a){var b=a>>>0;
return''+b===a&&b!==4294967295;}function $$IsPropertyReference(b){var a=typeof b.base;
return a==='string'||a==='number'||a==='boolean'||a==='object'&&!!b.base.GetP;}function $$GetIdentifierReference(a,c,d){while(a){if(a.HasBinding(c))return new e(a,c,d);a=a.outer;}return new e(b,c,d);}function $$GetSymbol(c,b){var a=c.LexicalEnvironment;
while(a){if(a.HasSymbolBinding(b))return a.GetSymbol(b);a=a.outer;}}function $$Element(b,f,c){var d=$$CheckObjectCoercible(c);
if(d.Abrupt)return d;var a=q(f);
return a&&a.Abrupt?a:new e(c,a,b.callee?b.callee.Strict:b.code.flags.strict);}function $$SuperReference(a,f){var b=$$GetThisEnvironment(a);
if(!b.HasSuperBinding())return d('invalid_super_binding');if(f===null)return b;var g=b.GetSuperBase(),    h=$$CheckObjectCoercible(g);
if(h.Abrupt)return h;var c=q(f);
if(c&&c.Abrupt)return c;var i=new e(g,c,a.callee?a.callee.Strict:a.code.flags.strict);
return i.thisValue=b.GetThisBinding(),i;}function $$GetThisEnvironment(b){var a=b.LexicalEnvironment;
while(a){if(a.HasThisBinding())return a;a=a.outer;}}function $$ThisResolution(a){return $$GetThisEnvironment(a).GetThisBinding();}function $$IdentifierResolution(a,b){return $$GetIdentifierReference(a.LexicalEnvironment,b,a.callee?a.callee.Strict:a.code.flags.strict);}function $$IsCallable(a){return a&&a.Abrupt?a:!!(a&&typeof a==='object'?a.Call:!1);}function $$IsConstructor(a){return a&&a.Abrupt?a:!!(a&&typeof a==='object'?a.Construct:!1);}function $$EvaluateConstruct(a,b){return typeof a!=='object'?d('not_constructor',a):$$IsConstructor(a)?(a.constructCount=(a.constructCount||0)+1,a.Construct(b)):d('not_constructor',a);}function $$EvaluateCall(a,b,c,f){if(!b||!b.Call)return d('called_non_callable',[a&&a.name]);if(a&&a.Reference)var e=$$IsPropertyReference(a)?u(a):a.base.WithBaseObject();
return b.Call(e,c);}function $$GetMethod(b,c){var a=b.GetP(b,c);
return!s(a)&&!$$IsCallable(a)?d('called_non_callable',[c]):a;}function $$Invoke(c,e,f){var b=n(c);
if(b&&b.Abrupt)return b;var a=$$GetMethod(b,e);
return a&&a.Abrupt?a:s(a)?d('property_not_function',[e]):a.Call(c,f||D);}function $$SpreadArguments(e,f){var a=n(f);
if(a&&a.Abrupt)return a;var b=o(a.Get('length'));
if(b&&b.Abrupt)return b;var g=e.length;
for(var c=0;c<b;c++){var d=a.Get(c);
if(d&&d.Abrupt)return d;e[c+g]=d;}}function $$SpreadInitialization(f,b,g){var a=n(g);
if(a&&a.Abrupt)return a;var c=o(a.Get('length'));
if(c&&c.Abrupt)return c;for(var e=b;e<c;e++){var d=a.Get(e);
if(d&&d.Abrupt)return d;f.set(b++ +'',d);}return f.define('length',b,t),b;}function $$SpreadDestructuring(i,f,g){var c=new $Array(0);
if(v(f))return c;var a=n(f);
if(a&&a.Abrupt)return a;var d=o(a.Get('length'));
if(d&&d.Abrupt)return d;var h=d-g;
for(var b=0;b<h;b++){var e=a.Get(g+b);
if(e&&e.Abrupt)return e;c.set(b+'',e);}return c.define('length',b,t),c;}function $$GetTemplateCallSite(i,a){!('id'in a)&&($$GetTemplateCallSite.count=($$GetTemplateCallSite.count||0)+1,a.id=$$GetTemplateCallSite.count);if(a.id in h.templates)return i.Realm.templates[a.id];var d=[],    e=[];
x(a,function(a,b){d[b]=a.cooked,e[b]=a.raw;});var c=new $Array(d),    f=new $Array(e);
return c.set('raw',f),g.freeze.Call(b,[c]),g.freeze.Call(b,[f]),h.templates[a.id]=c,c;}function $$EnqueueChangeRecord(a,b){b.forEach(function(b){var c=b.PendingChangeRecords||(b.PendingChangeRecords=[]);
c.push(a);});}function $$CreateChangeRecord(d,e,b,c){var a=new $Object();
return a.define('type',d,m),a.define('object',e,m),b!==null&&a.define('name',b,m),y(c)&&a.define('oldValue',c.Value,m),a.PreventExtensions(),a;}function $$DeliverChangeRecords(a){var c=a.PendingChangeRecords;
if(c&&c.length){a.PendingChangeRecords=[];var d=a.Call(b,[new $Array(c)]);
return d&&d.Abrupt?d:!0;}return!1;}function $$DeliverAllChangeRecords(d){var c=!1,    a=g.ObserverCallbacks,    b=[];
return a&&a.size&&a.forEach(function(d){var a=$$DeliverChangeRecords(d);
a&&(c=!0,a.Abrupt&&b.push(a));}),b.length?b:c;}function $$GetNotifier(b){var a=b.Notifier;
return!a&&(a=b.Notifier=new $Object(g.NotifierProto),a.Target=b,a.ChangeObservers=new z()),a;}function $$ThrowStopIteration(){return new w('throw',g.StopIteration);}function $$IsStopIteration(a){return!!(a&&a.Abrupt&&a.value&&a.value.BuiltinBrand==='StopIteration');}function $$GetKey(b,a){return!a||typeof a==='string'?a:a[0]!=='@'?a[1]:b.getSymbol(a[1]);}function $$CreateListFromArray(a){if(a.array)return a.array;var c=[],    d=a.Get('length');
for(var b=0;b<d;b++)c[b]=a.Get(b+'');return c;}function $$CreateArrayFromList(a){return new $Array(a.slice());}function $$OrdinaryCreateFromConstructor(a,c){if(k(a)!=='Object')return d('construct_non_constructor',[k(a)]);var b=a.Get('prototype');
return k(b)!=='Object'&&(b=(a.Realm||h).intrinsics[E[c]]),new $Object(b);}function $$OrdinaryHasInstance(b,a){if(!$$IsCallable(b))return!1;if(b.BoundTargetFunction)return INSTANCE_OF(a,b.BoundTargetFunction);if(k(a)!=='Object')return!1;var c=b.Get('prototype');
if(k(c)!=='Object')return d('instanceof_nonobject_proto');do{a=a.GetInheritance();if(a===c)return!0;}while(a);return!1;}'use strict';var F=a('./environments'),    i=a('./operators'),    f=a('./descriptors'),    j=a('../lib/objects'),    C=a('../lib/iteration'),    p=a('../errors'),    A=a('../constants'),    l=a('./$Nil'),    z=a('./collections').MapData;
var a0=l.isFalsey,    v=l.isNullish,    s=l.isUndefined,    a1=l.isUndetectable,    a2=j.is,    a3=j.create,    r=j.define,    W=j.inherit,    B=j.Hash,    x=C.each,    w=p.AbruptCompletion,    d=p.$$ThrowException,    J=i.HAS_INSTANCE,    q=i.$$ToPropertyKey,    u=i.$$GetThisValue,    o=i.$$ToUint32,    n=i.$$ToObject,    k=i.$$Type,    y=f.$$IsDataDescriptor,    G=f.$$IsAccessorDescriptor,    H=f.$$IsGenericDescriptor,    I=f.$$IsEmptyDescriptor,    R=f.Accessor,    K=f.DataDescriptor,    L=f.AccessorDescriptor;
var M=1,    N=2,    O=4,    P=8,    Q=0,    m=1,    S=2,    T=3,    U=4,    V=5,    t=6,    X=7,    Y=8,    Z=9,    _=10,    $=11;
var e=c.Reference=function(){function e(a,b,c){this.base=a,this.name=b,this.strict=!!c;}return r(e.prototype,{ Reference:A.SYMBOLS.Reference }),r(F.EnvironmentRecord.prototype,[function reference(b,c){var a=this.cache;
if(a){if(b in a)return a[b];}else a=this.cache=new B();return a[b]=new e(this,b,c);}]),e;}();
c.$$CheckObjectCoercible=$$CheckObjectCoercible,c.$$IsArrayIndex=$$IsArrayIndex,c.$$IsPropertyReference=$$IsPropertyReference,c.$$GetIdentifierReference=$$GetIdentifierReference,c.$$GetSymbol=$$GetSymbol,c.$$Element=$$Element,c.$$SuperReference=$$SuperReference,c.$$GetThisEnvironment=$$GetThisEnvironment,c.$$ThisResolution=$$ThisResolution,c.$$IdentifierResolution=$$IdentifierResolution,c.$$IsCallable=$$IsCallable,c.$$IsConstructor=$$IsConstructor,c.$$EvaluateConstruct=$$EvaluateConstruct,c.$$EvaluateCall=$$EvaluateCall,c.$$GetMethod=$$GetMethod;var D=[];
c.$$Invoke=$$Invoke,c.$$SpreadArguments=$$SpreadArguments,c.$$SpreadInitialization=$$SpreadInitialization,c.$$SpreadDestructuring=$$SpreadDestructuring,c.$$GetTemplateCallSite=$$GetTemplateCallSite,c.$$EnqueueChangeRecord=$$EnqueueChangeRecord,c.$$CreateChangeRecord=$$CreateChangeRecord,c.$$DeliverChangeRecords=$$DeliverChangeRecords,c.$$DeliverAllChangeRecords=$$DeliverAllChangeRecords,c.$$GetNotifier=$$GetNotifier,c.$$ThrowStopIteration=$$ThrowStopIteration,c.$$IsStopIteration=$$IsStopIteration,c.$$GetKey=$$GetKey,c.$$CreateListFromArray=$$CreateListFromArray,c.$$CreateArrayFromList=$$CreateArrayFromList;var E={    '%ArrayBufferPrototype%':'ArrayBufferProto',    '%ArrayPrototype%':'ArrayProto',    '%BooleanPrototype%':'%BooleanPrototype%',    '%DataViewPrototype%':'DataViewProto',    '%DatePrototype%':'%DatePrototype%',    '%Float32ArrayPrototype%':'Float32ArrayProto',    '%Float64ArrayPrototype%':'Float64ArrayProto',    '%FunctionPrototype%':'FunctionProto',    '%Int16ArrayPrototype%':'Int16ArrayProto',    '%Int32ArrayPrototype%':'Int32ArrayProto',    '%Int8ArrayPrototype%':'Int8ArrayProto',    '%MapPrototype%':'%MapPrototype%',    '%NumberPrototype%':'%NumberPrototype%',    '%ObjectPrototype%':'ObjectProto',    '%SetPrototype%':'%SetPrototype%',    '%StringPrototype%':'%StringPrototype%',    '%Uint16ArrayPrototype%':'Uint16ArrayProto',    '%Uint32ArrayPrototype%':'Uint32ArrayProto',    '%Uint8ArrayPrototype%':'Uint8ArrayProto',    '%WeakMapPrototype%':'%WeakMapPrototype%'    };
c.$$OrdinaryCreateFromConstructor=$$OrdinaryCreateFromConstructor,c.$$OrdinaryHasInstance=$$OrdinaryHasInstance;var h, g;
return c.changeRealm=function changeRealm(a){h=a,g=h?h.intrinsics:b;},c;}(typeof d!=='undefined'?c:{}),c.$Object=function(c){function $$CreateOwnDataProperty(b,c,d){var a=b.IsExtensible();
return!a||a.Abrupt?a:(v.Value=d,b.DefineOwnProperty(c,v));}function $$OrdinaryGetOwnProperty(d,e){if(e==='__proto__'){var c=d.GetP(d,'__proto__');
return typeof c==='object'?new t(c,K):b;}var a=d.describe(e);
if(a){if(a[2]&p)var f=y,    c=a[1];
else var c=a[3]?a[3].Get.Call(d,[]):a[1],    f=t;
return new f(c,a[2]);}}function $$DefinePropertyOrThrow(c,a,d){var b=c.DefineOwnProperty(a,value,d);
return b?b:e('redefine_disallowed',[a]);}function $$DeletePropertyOrThrow(c,a){var b=c.DeleteProperty(a,value);
return b?b:e('strict_delete_property',[a]);}function $$HasProperty(b,c){if(b===null)return!1;var a=b;
do{if(typeof a!=='object')return e('invalid_in_operator_use',[c, typeof a]);var d=a.HasOwnProperty(c);
if(d)return d;a=a.GetInheritance();if(a&&a.Abrupt)return a;}while(a);return!1;}function $$OrdinaryDefineOwnProperty(a,b,c){var d=$$OrdinaryGetOwnProperty(a,b),    e=a.IsExtensible();
return $$ValidateAndApplyPropertyDescriptor(a,b,e,c,d);}function $$IsCompatibleDescriptor(a,c,d){return $$ValidateAndApplyPropertyDescriptor(b,b,a,c,d);}function $$ValidateAndApplyPropertyDescriptor(d,e,j,a,c){var l='reconfigured';
if(c===b){if(j&&d!==b){F(a)||m(a)?d.define(e,a.Value,a.Enumerable|a.Configurable<<1|a.Writable<<2):d.define(e,new u(a.Get,a.Set),a.Enumerable|a.Configurable<<1|8);if(d.Notifier){var f=d.Notifier.ChangeObservers;
if(f.size){var h=i('new',d,e);
k(h,f);}}}return j===!0;}if(!('Get'in a||'Set'in a||'Value'in a)&&!('Writable'in a||'Enumerable'in a||'Configurable'in a))return!0;if(a.Writable===c.Writable&&a.Enumerable===c.Enumerable&&a.Configurable===c.Configurable&&(a.Get===c.Get&&a.Set===c.Set&&w(a.Value,c.Value)))return!0;if(!c.Configurable)if(a.Configurable||'Enumerable'in a&&a.Enumerable!==c.Enumerable)return!1;else{var n=m(c),    o=m(a);
if(n!==o)return!1;if(n&&o){if(!c.Writable&&'Value'in a&&!w(a.Value,c.Value))return!1;}else if('Set'in a&&a.Set!==c.Set)return!1;else if('Get'in a&&a.Get!==c.Get)return!1;}if(d===b)return!0;'Configurable'in a||(a.Configurable=c.Configurable),'Enumerable'in a||(a.Enumerable=c.Enumerable);if(s(a)){d.update(e,a.Enumerable|a.Configurable<<1|8);if(m(c))d.set(e,new u(a.Get,a.Set));else{var g=c.getAccessor();
'Set'in a&&(g.Set=a.Set),'Get'in a&&(g.Get=a.Get),('Set'in a||'Get'in a)&&d.set(e,g);}}else s(c)&&(c.Writable=!0),'Writable'in a||(a.Writable=c.Writable),d.update(e,a.Enumerable|a.Configurable<<1|a.Writable<<2),'Value'in a&&(d.set(e,a.Value),l='updated');if(d.Notifier){var f=d.Notifier.ChangeObservers;
if(f.size){var h=i(l,d,e,c);
k(h,f);}}return!0;}function $Object(a){a===b&&(a=q.ObjectProto),this.Realm=j,this.Prototype=a,this.properties=new J(),this.storage=new A(),z(this),l(this,'Realm'),l(this,'Prototype'),l(this,'storage'),l(this,'id'),a&&a.HiddenPrototype&&this.properties.setProperty(['__proto__', null, 6, M]);}var f=a('../lib/objects'),    L=a('../errors'),    O=a('../constants'),    o=a('./operators'),    d=a('./descriptors'),    h=a('./operations'),    J=a('../lib/PropertyList'),    x=a('../lib/utility'),    r=a('./$Symbol').wellKnownSymbols;
var E=f.inherit,    g=f.define,    B=f.create,    l=f.hide,    w=f.is,    A=f.Hash,    z=x.tag,    y=d.AccessorDescriptor,    t=d.DataDescriptor,    u=d.Accessor,    N=d.Value,    m=d.$$IsDataDescriptor,    s=d.$$IsAccessorDescriptor,    W=d.$$IsEmptyDescriptor,    a2=d.$$IsEquivalentDescriptor,    F=d.$$IsGenericDescriptor,    e=L.$$ThrowException,    P=o.$$ToBoolean,    a0=o.$$ToString,    a1=o.$$ToUint32,    n=h.$$IsCallable,    C=h.$$Invoke,    D=h.$$ThrowStopIteration,    i=h.$$CreateChangeRecord,    k=h.$$EnqueueChangeRecord;
var G=1,    H=2,    I=4,    p=8,    Q=0,    R=1,    S=2,    T=3,    U=4,    V=5,    K=6,    X=7,    Y=8,    Z=9,    _=10,    $=11;
var v={    Value:b,    Writable:!0,    Enumerable:!0,    Configurable:!0,    isDescriptor:!0,    isDataDescriptor:!0,    isAccessorDescriptor:!1    };
c.$$CreateOwnDataProperty=$$CreateOwnDataProperty,c.$$OrdinaryGetOwnProperty=$$OrdinaryGetOwnProperty,c.$$DefinePropertyOrThrow=$$DefinePropertyOrThrow,c.$$DeletePropertyOrThrow=$$DeletePropertyOrThrow,c.$$HasProperty=$$HasProperty,c.$$OrdinaryDefineOwnProperty=$$OrdinaryDefineOwnProperty,c.$$IsCompatibleDescriptor=$$IsCompatibleDescriptor,c.$$ValidateAndApplyPropertyDescriptor=$$ValidateAndApplyPropertyDescriptor;var M={    Get:{ Call:function(a){    do    a=a.GetInheritance();    while(a&&a.HiddenPrototype);    return a;    } },    Set:{    Call:function(a,c){    var b=a.Prototype;
    return b&&b.HiddenPrototype&&(a=b),a.SetInheritance(c[0]);    }    }    };
c.$Object=$Object,g($Object.prototype,{ Extensible:!0, BuiltinBrand:'BuiltinObject', type:'$Object' }),void function(){g($Object.prototype,[function(){return function g(a,b,c){return this.properties.define(a,b,c);};}(),function has(a){return this.properties.has(a);},function remove(a){return this.properties.remove(a);},function describe(a){return this.properties.describe(a);},function get(a){return this.properties.get(a);},function set(a,b){this.properties.set(a,b);},function query(a){return this.properties.query(a);},function update(a,b){this.properties.update(a,b);},function each(a){this.properties.each(a,this);},function destroy(){this.destroy=null,this.properties.each(function(a){var b=a[1];
this.remove(a[0]),a.length=0,b&&b.destroy&&b.destroy();});for(var a in this)this[a]&&this[a].destroy&&this[a].destroy();},function toStringTag(){return this.Get(r.toStringTag);}]);}(),g($Object.prototype,[function GetInheritance(){return this.Prototype;},function SetInheritance(b){if(typeof b==='object'&&this.IsExtensible()){var a=b;
while(a){if(a===this)return e('cyclic_proto');a=a.GetInheritance();}if(this.Notifier){var c=this.Notifier.ChangeObservers;
if(c.size){var d=i('prototype',this,null,new N(this.GetInheritance()));
k(d,c);}}return this.Prototype=b,!0;}else return!1;},function IsExtensible(){return this.Extensible;},function PreventExtensions(a){return a=!!a,this.Extensible&&(this.Extensible=a),this.Extensible===a;},function GetOwnProperty(a){return $$OrdinaryGetOwnProperty(this,a);},function GetProperty(a){var b=this.GetOwnProperty(a);
if(b)return b;{var c=this.GetInheritence();
if(c)return c.GetProperty(a);}},function Get(a){return this.GetP(this,a);},function Put(a,b,c){return!this.SetP(this,a,b)&&c?e('strict_cannot_assign',[a]):!0;},function GetP(d,e){var a=this.describe(e);
if(!!a){if(a[3])var c=a[3].Get;
else if(a[2]&p)var c=a[1].Get;
return c&&n(c)?c.Call(d,[]):a[1];}{var b=this.GetInheritance();
if(b&&b.Abrupt)return b;if(b)return b.GetP(d,e);}},function SetP(a,c,d){var b=this.describe(c);
if(!b){var e=this.GetInheritance();
if(e&&e.Abrupt)return e;if(e)return e.SetP(a,c,d);if(typeof a==='object')return $$CreateOwnDataProperty(a,c,d);}else{if(b[3])var f=b[3].Set;
else if(b[2]&p)var f=b[1].Set;
if(f&&n(f)){var g=f.Call(a,[d]);
return g&&g.Abrupt?g:!0;}if(b[2]&I)if(this===a)return $$OrdinaryDefineOwnProperty(this,c,{ Value:d });else if(typeof a==='object')return $$CreateOwnDataProperty(a,c,d);}return!1;},function DefineOwnProperty(a,b){return $$OrdinaryDefineOwnProperty(this,a,b);},function HasOwnProperty(a){return this.has(a);},function HasProperty(a){if(this.has(a))return!0;else{var b=this.GetInheritance();
return b?b.HasProperty(a):!1;}},function Delete(a,c){if(!this.has(a))return!0;else if(this.query(a)&H){if(this.Notifier){var b=this.Notifier.ChangeObservers;
if(b.size){var d=i('deleted',this,a,this.GetOwnProperty(a));
k(d,b);}}return this.remove(a),!0;}else return c?e('strict_delete',[]):!1;},function Iterate(){return C(this,r.iterator);},function enumerator(){return new $Enumerator(this.Enumerate(!0,!0));},function Enumerate(e,f){var b=[],    a=B(null);
f?this.each(function(d){var c=d[0];
typeof c==='string'&&!(c in a)&&d[2]&G&&(b.push(c),a[c]=!0);}):this.each(function(d){var c=d[0];
!(c in a||c.Private)&&(b.push(c),a[c]=!0);});if(e){var g=this.GetInheritance();
if(g){var h=g.Enumerate(e,f);
for(var c=0;c<h.length;c++){var d=h[c];
!(d in a)&&(b.push(d),a[d]=!0);}}}return b;},function DefaultValue(d){var f=d==='String'?['toString', 'valueOf']:['valueOf', 'toString'];
for(var c=0;c<2;c++){var b=this.Get(f[c]);
if(b&&b.Abrupt)return b;if(n(b)){var a=b.Call(this,[]);
if(a&&a.Abrupt)return a;if(a===null||typeof a!=='object')return a;}}return e('cannot_convert_to_primitive',[]);}]);var $Enumerator=function(){function next(a){this.keys=a,this.index=0,this.count=a.length,this.depleted=!1;}function $Enumerator(a){this.next=['next', new next(a), 7];}return next.prototype.Call=function(a){return this.depleted||this.index>=this.count?(this.depleted=!0,this.keys=null,D()):this.keys[this.index++];},c.$Enumerator=$Enumerator,E($Enumerator,$Object,[function has(a){return a==='next';},function describe(a){if(a==='next')return this.next;},function get(a){if(a==='next')return this.next[1];},function Get(a){return this.next[1];}]),$Enumerator;}();
var j, q;
return g($Object,[function changeRealm(a){j=a,q=j?j.intrinsics:b;}]),c;}(typeof d!=='undefined'?c:{}),c.$Arguments=function(f){var h=a('../lib/objects'),    y=a('../lib/utility'),    x=a('../errors'),    l=a('./descriptors'),    w=a('./operations'),    d=a('./$Object').$Object;
var v=h.Hash,    k=h.inherit,    t=h.define,    s=l.ArgAccessor,    o=x.$$ThrowException,    r=w.$$IsCallable,    q=l.$$IsAccessorDescriptor;
var p=6,    n=7,    m=8,    u=10;
var c=f.$Arguments=function(){function c(a){d.call(this),this.define('length',a,p);}return k(c,d,{ BuiltinBrand:'BuiltinArguments', ParameterMap:null }),c;}();
var e=f.$StrictArguments=function(){function e(b){c.call(this,b.length);for(var a=0;a<b.length;a++)this.define(a+'',b[a],n);this.define('arguments',g.ThrowTypeError,m),this.define('caller',g.ThrowTypeError,m);}return k(e,c),e;}();
var j=f.$MappedArguments=function(){function j(e,h,f,i){var g=new v();
c.call(this,e.length),this.ParameterMap=new d(),this.isMapped=!1;for(var a=0;a<e.length;a++){this.define(a+'',e[a],n);var b=f[a];
a<f.length&&!(b in g)&&(this.isMapped=!0,g[b]=!0,this.ParameterMap.define(b,new s(b,h),u));}this.define('callee',i,p);}return k(j,c,{ ParameterMap:null },[function Get(a){if(this.isMapped&&this.ParameterMap.has(a))return this.ParameterMap.Get(a);else{var b=this.GetP(this,a);
return a==='caller'&&r(b)&&b.Strict?o('strict_poison_pill'):b;}},function GetOwnProperty(c){var a=d.prototype.GetOwnProperty.call(this,c);
return a===b?a:(this.isMapped&&this.ParameterMap.has(c)&&(a.Value=this.ParameterMap.Get(c)),a);},function DefineOwnProperty(a,b,c){return!DefineOwn.call(this,a,b,!1)&&c?o('strict_lhs_assignment'):(this.isMapped&&this.ParameterMap.has(a)&&(q(b)?this.ParameterMap.Delete(a,!1):('Value'in b&&this.ParameterMap.Put(a,b.Value,c),'Writable'in b&&this.ParameterMap.Delete(a,!1))),!0);},function Delete(b,c){var a=d.prototype.Delete.call(this,b,c);
return a.Abrupt?a:(a&&this.isMapped&&this.ParameterMap.has(b)&&this.ParameterMap.Delete(b,!1),a);}]),j;}();
var i, g;
return t(e,[function changeRealm(a){i=a,g=i?i.intrinsics:b;}]),f;}(typeof d!=='undefined'?c:{}),c.$Array=function(k){function $Array(a){this.Prototype=n.ArrayProto,this.Realm=g,this.properties=new v(),this.storage=new q(),r(this),typeof a==='number'?this.array=new Array(a):a?this.array=a:this.array=[],this.length=['length', this.array.length, e];}var h=a('../lib/objects'),    p=a('../lib/utility'),    x=a('../errors'),    A=a('../constants'),    j=a('./operators'),    u=a('./operations'),    v=a('../lib/PropertyList'),    l=a('./$Object').$Object;
var y=h.inherit,    f=h.define,    o=h.copy,    q=h.Hash,    r=p.tag,    s=u.$$IsArrayIndex,    t=x.$$ThrowException,    z=j.$$ToBoolean,    m=j.$$ToUint32,    w=j.$$ToNumber;
var e=4,    c=7;
var d=l.prototype.DefineOwnProperty;
k.$Array=$Array,y($Array,l,{ BuiltinBrand:'BuiltinArray' },[function has(a){return a==='length'?!0:a>>>0==a&&a<this.array.length?a in this.array:this.properties.has(a);},function remove(a){return a==='length'?!1:a>>>0==a&&a<this.array.length?delete this.array[a]:this.properties.remove(a);},function get(a){return a==='length'?this.array.length:a>>>0==a?this.array[a]:this.properties.get(a);},function set(a,b){return a==='length'?(this.length[1]=this.array.length=b,!0):a>>>0==a?(this.array[a]=b,!0):this.properties.set(a,b);},function describe(a){if(a==='length')return this.length[1]=this.array.length,this.length;if(!(a>>>0==a&&a<this.array.length))return this.properties.describe(a);if(a in this.array)return[a, this.array[a], c];},function query(a){return a==='length'?e:a>>>0==a?a in this.array?c:null:this.properties.query(a);},function update(a,b){if(b===e&&a==='length')return!0;if(a>>>0==a&&a in this.array){if(b===c)return!0;deoptimize(this);}return this.properties.update(a,b);},function each(b){var d=this.length[1]=this.array.length;
b(this.length);for(var a=0;a<d;a++)a in this.array&&b([a+'', this.array[a], c]);this.properties.each(b);},function(){return function f(a,b,d){if(a==='length'&&d===e)return this.length[1]=this.array.length=b,!0;if(a>>>0==a){if(d===c)return this.array[a]=b,!0;deoptimize(this);}return this.properties.define(a,b,d);};}(),function DefineOwnProperty(f,b,k){var i=this.GetOwnProperty('length'),    e=i.Value,    h=k?t:function(a,b){    return!1;    };
if(f==='length'){if(!('Value'in b))return d.call(this,'length',b,k);var a=o(b),    g=m(b.Value);
if(g.Abrupt)return g;var l=w(b.Value);
if(l.Abrupt)return l;if(g!==l)return h('invalid_array_length');g=a.Value;if(g>=e)return d.call(this,'length',a,k);if(i.Writable===!1)return h('strict_cannot_assign');if(!('Writable'in a)||a.Writable)var n=!0;
else n=!1,a.Writable=!0;var c=d.call(this,'length',a,k);
if(c.Abrupt)return c;if(c===!1)return!1;while(g<e){e-=1;var p=this.Delete(''+e,!1);
if(p.Abrupt)return p;if(!p)return a.Value=e+1,!n&&(a.Writable=!1),d.call(this,'length',a,!1),h('strict_delete_property');}return!n&&d.call(this,'length',{ Writable:!1 },!1),!0;}if(s(f)){var j=m(f);
return j.Abrupt?j:j>=e&&i.Writable===!1?h('strict_cannot_assign'):(c=d.call(this,f,b,!1),c.Abrupt?c:c===!1?h('strict_cannot_assign'):(j>=e&&(i.Value=j+1,d.call(this,'length',i,!1)),!0));}return d.call(this,f,b,f);}]);var deoptimize=function(){var a=[    function each(b){    var c=this.array.length;
    for(var a=0;a<c;a++)    a in this.array?this.properties.set(a+'',this.array[a]):this.properties.remove(a);    this.properties.set('length',this.array.length),this.properties.each(b);    },    function remove(a){    return a>>>0==a&&a<this.array.length&&delete this.array[a],this.properties.remove(a);    },    function update(a,b){    return!this.properties.has(a)&&a>>>0==a&&a in this.array?this.properties.define(a,this.array[i],b):this.properties.update(a,b);    },    function query(a){    var b=this.properties.query(a);
    return b===null&&a>>>0==a&&a in this.array&&this.properties.define(a,this.array[a],b=c),b;    },    function describe(a){    if(a==='length'){    var b=this.properties.get('length'),        e=this.array.length;
    if(b!==e){    for(;b<e;b++)    b in this.array&&this.properties.set(b,this.array[b]);    this.properties.set('length',e);    }    }else if(a>>>0==a&&a<this.array.length){    if(a in this.array){    var d=this.properties.describe(a);
    return d?d[1]!==this.array[a]&&(this.properties.set(a,this.array[a]),d[1]=this.array[a]):(d=[i+'', this.array[i], c],this.properties.setProperty(i,d)),d;    }    this.properties.has(a)&&this.properties.remove(a);    return;    }    return this.properties.describe(a);    },    function(){    return function f(a,b,c){    return(a==='length'||a>>>0==a)&&(this.array[a]=b),this.properties.define(a,b,c);    };    }()    ];
return function deoptimize(b){var g=b.array.length;
b.properties.define('length',g,e);for(var d=0;d<g;d++)d in b.array&&b.properties.define(d+'',b.array[d],c);f(b,a);};}();
var g, n;
return f($Array,[function changeRealm(a){g=a,n=g?g.intrinsics:b;}]),k;}(typeof d!=='undefined'?c:{}),c.$Proxy=function(u){function $$TrapDefineOwnProperty(m,i,n,p){var k=m.ProxyHandler,    g=m.ProxyTarget;
var a=d(k,'defineProperty');
if(a&&a.Abrupt)return a;var h=z(n);
if(a===b)return g.DefineOwnProperty(i,h,p);else{var o=q(h);
s(n,o);var r=a.Call(k,[g, i, o]),    t=f(r),    e=g.GetOwnProperty(i),    l=g.IsExtensible();
if(!l&&e===b)return c('proxy_extensibility_inconsistent',['defineProperty']);if(e!==b&&!j(l,e,h))return c('proxy_incompatible_descriptor',['defineProperty']);if(!h.Configurable){if(e===b||e.Configurable)return c('proxy_configurability_inconsistent',['defineProperty']);}else if(p)return c('strict_property_redefinition',['defineProperty']);return!1;}}function $$TrapGetOwnProperty(k,i){var l=k.ProxyHandler,    g=k.ProxyTarget;
var h=d(l,'getOwnPropertyDescriptor');
if(h&&h.Abrupt)return h;if(h===b)return g.GetOwnProperty(i);else{var f=h.Call(l,[g, i]);
if(f&&f.Abrupt)return f;if(f){var e=y(f);
e.Origin=new r(),s(f,e.Origin);}var a=g.GetOwnProperty(i);
if(a&&a.Abrupt)return a;if(e===b&&a!==b){if(!a.Configurable)return c('proxy_configurability_inconsistent',['getOwnPropertyDescriptor']);if(!g.IsExtensible())return c('proxy_extensibility_inconsistent',['getOwnPropertyDescriptor']);return;}var m=g.IsExtensible();
return!m&&a===b?c('proxy_extensibility_inconsistent',['getOwnPropertyDescriptor']):a!==b&&!j(m,a,e)?c('proxy_incompatible_descriptor',['getOwnPropertyDescriptor']):e!==b&&!e.Configurable&&a!==b&&a.Configurable?c('proxy_configurability_inconsistent',['getOwnPropertyDescriptor']):e;}}function checkDuplicates(b,f){var d=new w();
for(var a=0;a<b.length;a++){var e=b[a]==='__proto__'?m:b[a];
if(e in d)return c('proxy_duplicate',f);d[e]=!0;}return d;}function $Proxy(a,b){this.ProxyHandler=b,this.ProxyTarget=a,this.BuiltinBrand=a.BuiltinBrand,a.Call&&(this.Call=ProxyCall,this.Construct=ProxyConstruct,this.getName=ProxyGetName);}function ProxyCall(c,e){var a=d(this.ProxyHandler,'apply');
return a&&a.Abrupt?a:a===b?this.ProxyTarget.Call(c,e):a.Call(this.ProxyHandler,[this.ProxyTarget, c, new l(e)]);}function ProxyConstruct(c){var a=d(this.ProxyHandler,'construct');
return a&&a.Abrupt?a:a===b?this.ProxyTarget.Construct(c):a.Call(this.ProxyHandler,[this.ProxyTarget, new l(c)]);}function ProxyGetName(){return this.ProxyTarget.getName();}'use strict';var g=a('../lib/objects'),    v=a('../errors'),    A=a('../constants'),    h=a('./operators'),    e=a('./descriptors'),    i=a('./operations'),    k=a('./$Object'),    l=a('./$Array').$Array;
var t=g.inherit,    n=g.is,    D=g.define,    w=g.Hash,    B=A.isUndefined,    r=k.$Object,    j=k.$$IsCompatibleDescriptor,    s=e.$$CopyAttributes,    q=e.$$FromGenericPropertyDescriptor,    F=e.$$FromPropertyDescriptor,    p=e.$$IsAccessorDescriptor,    o=e.$$IsDataDescriptor,    y=e.$$ToCompletePropertyDescriptor,    z=e.$$ToPropertyDescriptor,    c=v.$$ThrowException,    f=h.$$ToBoolean,    C=h.$$ToString,    x=h.$$ToUint32,    E=i.$$IsCallable,    d=i.$$GetMethod,    G=i.$$CreateListFromArray;
var m=a('../lib/utility').uid();
return t($Proxy,r,{ Proxy:!0 },[function toStringTag(){return this.Get(symbols.toStringTag);},function GetInheritance(){var a=d(this.ProxyHandler,'getPrototypeOf');
if(a&&a.Abrupt)return a;if(a===b)return this.ProxyTarget.GetInheritance();else{var f=a.Call(this.ProxyHandler,[this.ProxyTarget]);
if(f&&f.Abrupt)return f;var e=this.ProxyTarget.GetInheritance();
return e&&e.Abrupt?e:f!==e?c('proxy_inconsistent','getPrototypeOf'):e;}},function IsExtensible(){var a=d(this.ProxyHandler,'isExtensible');
if(a&&a.Abrupt)return a;if(a===b)return this.ProxyTarget.IsExtensible();var g=f(a.Call(this.ProxyHandler,[this.ProxyTarget]));
if(g&&g.Abrupt)return g;var e=this.ProxyTarget.IsExtensible();
return e&&e.Abrupt?e:g!==e?c('proxy_extensibility_inconsistent'):e;},function GetP(h,g){var f=d(this.ProxyHandler,'get');
if(f&&f.Abrupt)return f;if(f===b)return this.ProxyTarget.GetP(h,g);var e=f.Call(this.ProxyHandler,[this.ProxyTarget, g, h]);
if(e&&e.Abrupt)return e;var a=this.ProxyTarget.GetOwnProperty(g);
if(a&&a.Abrupt)return a;if(a!==b)if(o(a)&&a.Configurable===!1&&a.Writable===!1){if(!n(e,a.Value))return c('proxy_inconsistent','get');}else if(p(a)&&a.Configurable===!1&&a.Get===b&&e!==b)return c('proxy_inconsistent','get');return e;},function SetP(j,h,i){var e=d(this.ProxyHandler,'set');
if(e&&e.Abrupt)return e;if(e===b)return this.ProxyTarget.SetP(j,h,i);var g=e.Call(this.ProxyHandler,[this.ProxyTarget, h, i, j]);
if(g&&g.Abrupt)return g;var k=f(g);
if(k){var a=this.ProxyTarget.GetOwnProperty(h);
if(a&&a.Abrupt)return a;if(a!==b){if(o(a)&&a.Configurable===!1&&a.Writable===!1&&!n(i,a.Value))return c('proxy_inconsistent','set');}else if(p(a)&&a.Configurable===!1&&a.Set!==b)return c('proxy_inconsistent','set');}return k;},function GetOwnProperty(a){return $$TrapGetOwnProperty(this,a);},function DefineOwnProperty(b,c,d){var a=q(c);
return a&&a.Abrupt?a:$$TrapDefineOwnProperty(this,b,a,d);},function HasOwnProperty(h){var a=d(this.ProxyHandler,'hasOwn');
if(a&&a.Abrupt)return a;if(a===b)return this.ProxyTarget.HasOwnProperty(h);var g=a.Call(this.ProxyHandler,[this.ProxyTarget, h]);
if(g&&g.Abrupt)return g;var i=f(g);
if(i===!1){var e=this.ProxyTarget.GetOwnProperty(h);
if(e&&e.Abrupt)return e;if(desc!==b&&e.Configurable===!1)return c('proxy_inconsistent','hasOwn');if(!this.ProxyTarget.IsExtensible()&&e!==b)return c('proxy_non_extensible','hasOwn');}return i;},function HasProperty(h){var e=d(this.ProxyHandler,'has');
if(e&&e.Abrupt)return e;if(e===b)return this.ProxyTarget.HasProperty(h);var g=e.Call(this.ProxyHandler,[this.ProxyTarget, h]);
if(g&&g.Abrupt)return g;var i=f(g);
if(i===!1){var a=this.ProxyTarget.GetOwnProperty(h);
if(a&&a.Abrupt)return a;if(a!==b&&a.Configurable===!1)return c('proxy_inconsistent','has');if(!this.ProxyTarget.IsExtensible()&&a!==b)return c('proxy_non_extensible','has');}return i;},function Delete(h,i){var e=d(this.ProxyHandler,'deleteProperty');
if(e&&e.Abrupt)return e;if(e===b)return this.ProxyTarget.Delete(h,i);var g=e.Call(this.ProxyHandler,[this.ProxyTarget, h]);
if(g&&g.Abrupt)return g;var j=f(g);
if(j===!0){var a=this.ProxyTarget.GetOwnProperty(h);
return a&&a.Abrupt?a:a!==b&&a.Configurable===!1?c('proxy_inconsistent','delete'):!this.ProxyTarget.IsExtensible()&&a!==b?c('proxy_non_extensible','delete'):!0;}return i?c('strict_delete_failure'):!1;},function Enumerate(k,p){if(p)var g=k?'enumerate':'keys';
else var g='getOwnPropertyNames',    q=k;
var j=d(this.ProxyHandler,g);
if(j&&j.Abrupt)return j;if(j===b)return this.ProxyTarget.Enumerate(k,p);var e=j.Call(this.ProxyHandler,[this.ProxyTarget]);
if(e&&e.Abrupt)return e;if(typeof e!=='object'||e===null)return c('proxy_non_object_result',g);if(e.array)var n=e.array;
else{var l=x(e.Get('length'));
if(l&&l.Abrupt)return l;var n=new Array(l);
for(var a=0;a<l;a++){var h=$$ToPropertyKey(e.Get(a+''));
if(h&&h.Abrupt)return h;if(!k&&!this.ProxyTarget.IsExtensible()&&!this.ProxyTarget.HasOwnProperty(h))return c('proxy_non_extensible',g);n[a]=h;}}var o=checkDuplicates(n,g);
if(o.Abrupt)return o;var f=this.ProxyTarget.Enumerate(k,p);
if(f&&f.Abrupt)return f;for(var a=0;a<f.length;a++){var h=f[a]==='__proto__'?m:f[a];
if(!(h in o)){var i=this.ProxyTarget.GetOwnProperty(f[a]);
if(i&&i.Abrupt)return i;if(i){if(!i.Configurable)return c('proxy_inconsistent',g);if(!this.ProxyTarget.IsExtensible())return c('proxy_non_extensible',g);}}}return n;}]),u.exports=$Proxy;}(typeof d!=='undefined'?d:{}),c.$TypedArray=function(p){function hasIndex(a,c){var b=a>>>0;
return b<c&&b==a;}function ArrayBufferIndex(a){this.Value=a;}function Type(a){this.name=a.name,this.size=a.size,this.cast=a.cast,this.set=a.set,this.get=a.get,this.brand='Builtin'+this.name+'Array',h[this.name+'Array']=this;}function $TypedArray(c,e,b,f){d.call(this,a('../runtime').intrinsics[c+'Proto']),this.Buffer=e,this.ByteOffset=f,this.ByteLength=b,this.Type=h[c],this.BuiltinBrand=this.Type.brand,this.Length=b/this.Type.size,this.define('buffer',e,0),this.define('byteLength',b,0),this.define('byteOffset',f,0),this.define('length',this.Length,0),this.init();}'use strict';var f=a('../lib/objects'),    i=a('../lib/buffers'),    A=a('./$Array').$Array,    d=a('./$Object').$Object,    z=a('../errors').$$ThrowException,    j=a('./descriptors').DataDescriptor;
var k=f.inherit,    e=f.define,    m=f.Hash,    c=i.DataView,    y=i.ArrayBuffer;
var h=new m(),    q=d.prototype.DefineOwnProperty,    r=d.prototype.GetOwnProperty;
ArrayBufferIndex.prototype=new j(b,5);var s=new Type({    name:'Int8',    size:1,    cast:function(a){    return(a&=255)&128?a-256:a&127;    },    set:c.prototype.setInt8,    get:c.prototype.getInt8    });
var t=new Type({    name:'Int16',    size:2,    cast:function(a){    return(a&=65535)&32768?a-65536:a&32767;    },    set:c.prototype.setInt16,    get:c.prototype.getInt16    });
var u=new Type({    name:'Int32',    size:4,    cast:function(a){    return a>>0;    },    set:c.prototype.setInt32,    get:c.prototype.getInt32    });
var v=new Type({    name:'Uint8',    size:1,    cast:function(a){    return a&255;    },    set:c.prototype.setUint8,    get:c.prototype.getUint8    });
var w=new Type({    name:'Uint16',    size:2,    cast:function(a){    return a&65535;    },    set:c.prototype.setUint16,    get:c.prototype.getUint16    });
var x=new Type({    name:'Uint32',    size:4,    cast:function(a){    return a>>>0;    },    set:c.prototype.setUint32,    get:c.prototype.getUint32    });
var o=new Type({    name:'Float32',    size:4,    cast:function(a){    return+a||0;    },    set:c.prototype.setFloat32,    get:c.prototype.getFloat32    });
var n=new Type({    name:'Float64',    size:8,    cast:function(a){    return+a||0;    },    set:c.prototype.setFloat64,    get:c.prototype.getFloat64    });
k($TypedArray,d,function(){return typeof Uint8Array!=='undefined'?(v.Array=Uint8Array,w.Array=Uint16Array,x.Array=Uint32Array,s.Array=Int8Array,t.Array=Int16Array,u.Array=Int32Array,o.Array=Float32Array,n.Array=Float64Array,[function init(){this.data=new this.Type.Array(this.Buffer.NativeBuffer,this.ByteOffset,this.Length);},function each(b){for(var a=0;a<this.Length;a++)b([a+'', this.data[a], 5]);this.properties.each(b,this);},function get(a){return hasIndex(a,this.Length)?this.data[+a]:this.properties.get(a);},function describe(a){return hasIndex(a,this.Length)?[a, this.data[+a], 5]:this.properties.describe(a);},function set(a,b){if(!hasIndex(a,this.Length))return this.properties.set(a,b);this.data[+a]=b;},function(){return function e(a,b,c){if(!hasIndex(a,this.Length))return this.properties.define(a,b,c);this.data[+a]=b;};}()]):[function init(){this.data=new c(this.Buffer.NativeBuffer,this.ByteOffset,this.ByteLength),this.data.get=this.Type.get,this.data.set=this.Type.set,this.bytesPer=this.Type.size;},function each(b){for(var a=0;a<this.Length;a++)b([a+'', this.data.get(a*this.bytesPer,!0), 5]);this.properties.each(b,this);},function get(a){return hasIndex(a,this.Length)?this.data.get(a*this.bytesPer,!0):this.properties.get(a);},function describe(a){return hasIndex(a,this.Length)?[a, this.data.get(a*this.bytesPer,!0), 5]:this.properties.describe(a);},function set(a,b){if(!hasIndex(a,this.Length))return this.properties.set(a,b);this.data.set(a*this.bytesPer,b,!0);},function(){return function e(a,b,c){if(!hasIndex(a,this.Length))return this.properties.define(a,b,c);this.data.set(a*this.bytesPer,b,!0);};}()];}()),e($TypedArray.prototype,[function has(a){return hasIndex(a,this.Length)||this.properties.has(a);},function GetOwnProperty(a){return hasIndex(a,this.Length)?new ArrayBufferIndex(this.get(a)):r.call(this,a);},function DefineOwnProperty(a,b,c){return hasIndex(a,this.Length)?'Value'in b?(this.set(a,b.Value),!0):!1:q.call(this,a,b,c);}]);var g, l;
return e($TypedArray,[function changeRealm(a){g=a,l=g?g.intrinsics:b;}]),p.exports=$TypedArray;}(typeof d!=='undefined'?d:{}),c.natives=function(k){function $InternalFunction(b){return $InternalFunction=a('./runtime').builtins.$InternalFunction,new $InternalFunction(b);}function deliverChangeRecordsAndReportErrors(){var b=u();
b&&b instanceof Array&&each(b,function(b){a('./runtime').emit('throw',b);});}'use strict';var e=a('./lib/objects'),    K=a('./lib/Stack'),    n=a('./lib/buffers'),    p=a('./errors'),    i=a('./object-model/$Nil'),    f=a('./object-model/$Array').$Array,    w=a('./object-model/$Object').$Object,    y=a('./object-model/$TypedArray'),    c=a('./object-model/operators'),    d=a('./object-model/operations'),    o=a('./object-model/descriptors'),    r=a('./object-model/collections'),    J=a('./constants'),    s=a('./object-model/$Symbol').wellKnownSymbols;
var D=i.$Nil,    t=i.Undetectable,    l=i.isUndetectable,    I=e.inherit,    H=e.define,    G=e.isObject,    F=e.create,    A=e.Hash,    B=n.DataView,    C=n.ArrayBuffer,    j=p.$$ThrowException,    E=p.$$MakeException,    z=o.$$ToPropertyDescriptor,    q=o.$$FromPropertyDescriptor,    x=d.$$IsCallable,    g=d.$$CreateListFromArray,    u=d.$$DeliverAllChangeRecords;
var h=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,    L=new A(),    M={},    m=['function ', '() { [native code] }'];
var natives=function(){function BulkMap(){b.apply(this,arguments);}var b=a('./lib/HashMap'),    c=a('./lib/objects').inherit,    d=a('./lib/objects').isObject,    e=a('./lib/iteration').each,    f=a('./lib/functions').fname;
return c(BulkMap,b,[function add(a,b){return typeof a==='string'?this.set(a,b):typeof a==='function'?this.set(f(a),a):d(a)&&e(a,function(a,b){this.set(b,a);},this),this.size;}]),new BulkMap();}();
return natives.add({ToObject:c.$$ToObject,ToString:c.$$ToString,ToNumber:c.$$ToNumber,ToBoolean:c.$$ToBoolean,ToPropertyKey:c.$$ToPropertyKey,ToInteger:c.$$ToInteger,ToInt32:c.$$ToInt32,ToUint32:c.$$ToUint32,ToUint16:c.$$ToUint16,CheckObjectCoercible:d.$$CheckObjectCoercible,GetNotifier:d.$$GetNotifier,EnqueueChangeRecord:d.$$EnqueueChangeRecord,DeliverChangeRecords:d.$$DeliverChangeRecords,parseInt:parseInt,parseFloat:parseFloat,decodeURI:decodeURI,decodeURIComponent:decodeURIComponent,encodeURI:encodeURI,encodeURIComponent:encodeURIComponent,escape:escape,unescape:unescape,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,cos:Math.acos,exp:Math.exp,log:Math.log,pow:Math.pow,random:Math.random,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,_createUndetectable:function(b,a){return new t(a[0]);},_unwrapUndetectable:function(b,a){if(l(a[0]))return a[0].value;},_isUndetectable:function(b,a){return l(a[0]);},_Call:function(b,a){return a[0].Call(a[1],g(a[2]));},_Construct:function(b,a){return a[0].Construct(g(a[1]));},_GetBuiltinBrand:function(b,a){return a[0].BuiltinBrand;},_SetBuiltinBrand:function(b,a){a[0].BuiltinBrand=a[1];},_TypedArrayCreate:function(b,a){return new y(a[0],a[1],a[2],a[3]);},_NativeBufferCreate:function(b,a){return new C(a[0]);},NativeDataViewCreate:function(a){return new B(a.NativeBuffer);},NativeBufferSlice:function(a,b,c){return a.slice(b,c);},_DataViewSet:function(b,a){var c=a[1]>>>0;
return c>=b.ByteLength?j('buffer_out_of_bounds'):b.View['set'+a[0]](c,a[2],!!a[3]);},_DataViewGet:function(b,a){var c=a[1]>>>0;
return c>=b.ByteLength?j('buffer_out_of_bounds'):b.View['get'+a[0]](c,!!a[2]);},_GetInheritance:function(a,b){a=b[0];do a=a.GetInheritance();while(a&&a.HiddenPrototype);return a;},_SetInheritance:function(a,c){a=c[0];var b=a.Prototype;
return b&&b.HiddenPrototype&&(a=b),a.SetInheritance(c[1]);},_IsExtensible:function(b,a){return a[0].IsExtensible();},_PreventExtensions:function(b,a){return a[0].PreventExtensions();},_DefineOwnProperty:function(b,a){return a[0].DefineOwnProperty(a[1],z(a[2]),a[3]);},_Enumerate:function(b,a){return new f(a[0].Enumerate(a[1],a[2]));},_GetProperty:function(b,a){return q(a[0].GetProperty(a[1]));},_GetOwnProperty:function(b,a){return q(a[0].GetOwnProperty(a[1]));},_HasProperty:function(b,a){return a[0].HasProperty(a[1]);},_HasOwnProperty:function(b,a){return a[0].HasOwnProperty(a[1]);},_SetP:function(b,a){return a[0].SetP(a[3],a[1],a[2]);},_GetP:function(b,a){return a[0].GetP(a[2],a[1]);},_Get:function(b,a){return a[0].Get(a[1]);},_Put:function(b,a){return a[0].Put(a[1],a[2],a[3]);},_has:function(b,a){return a[0].has(a[1]);},_delete:function(b,a){return a[0].remove(a[1]);},_set:function(b,a){return a[0].set(a[1],a[2]);},_get:function(b,a){return a[0].get(a[1]);},_define:function(b,a){a[0].define(a[1],a[2],a.length===4?a[3]:6);},_query:function(b,a){return a[0].query(a[1]);},_update:function(b,a){return a[0].update(a[1],a[2]);},_each:function(b,a){var c=a[1];
a[0].each(function(a){c.Call(b,a);});},_setInternal:function(b,a){a[0][a[1]]=a[2];},_getInternal:function(b,a){return a[0][a[1]];},_hasInternal:function(b,a){return a[1]in a[0];},_GetIntrinsic:function(c,b){return a('./runtime').intrinsics[b[0]];},_SetIntrinsic:function(c,b){a('./runtime').intrinsics[b[0]]=b[1];},_IsConstructor:function(b,a){return!!(a[0]&&a[0].Construct);},_Type:function(b,a){if(a[0]===null)return'Null';switch(typeof args[0]){case'undefined':return'Undefined';case'function':case'object':return'Object';case'string':return'String';case'number':return'Number';case'boolean':return'Boolean';}},Exception:function(a,b){return E(a,g(b));},_getWellKnownSymbol:function(b,a){return s[a[0]];},_createNil:function(){return new D();},_FunctionToString:function(a,d){a=d[0],a.Proxy&&(a=a.ProxyTarget);var c=a.code;
if(a.BuiltinFunction||!c){var b=a.get('name');
return b&&typeof b!=='string'&&b.BuiltinBrand==='BuiltinSymbol'&&(b='@'+b.Name),m[0]+b+m[1];}else return c.source.slice(c.range[0],c.range[1]);},_NumberToString:function(b,a){return a[0].toString(a[1]);},_RegExpToString:function(b,a){return''+a[0].PrimitiveValue;},_RegExpExec:function(d,b){var a=b[0].PrimitiveValue.exec(b[1]);
if(a){var c=new f(a);
return c.set('index',a.index),c.set('input',b[1]),c;}return a;},_RegExpTest:function(b,a){return a[0].PrimitiveValue.test(a[1]);},_CallBuiltin:function(e,a){var b=a[0],    c=a[1],    d=a[2];
return d?b[c].apply(b,g(d)):b[c]();},_CodeUnit:function(b,a){return a[0].charCodeAt(0);},StringReplace:function(b,a,c){return typeof a!=='string'&&(a=a.getPrimitiveValue()),b.replace(a,c);},StringSplit:function(b,a,c){return typeof a!=='string'&&(a=a.getPrimitiveValue()),new f(b.split(a,c));},StringSearch:function(a,b){return a.search(b);},StringSlice:function(a,c,d){return d===b?a.slice(c):a.slice(c,d);},FromCharCode:String.fromCharCode,JSONParse:function parse(c,d){function walk(c,e){var a=c.get(e);
return a&&typeof a==='object'&&a.each(function(c){c[2]&1&&(v=walk(c[1],c[0]),v!==b?c[1]=v:a.remove(c[0]));}),d.Call(c,[e, a]);}c=$$ToString(c),h.lastIndex=0,h.test(c)&&(c=c.replace(h,function(a){return'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);}));var g=c.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,'');
if(/^[\],:{}\s]*$/.test(g)){var e=a('./runtime').realm.evaluate('('+c+')'),    f=new w();
return f.set('',e),x(d)?walk(f,''):e;}return j('invalid_json',c);},_MapSigil:function(){return r.MapData.sigil;},_MapSize:function(b,a){return a[0].MapData?a[0].MapData.size:0;},_MapClear:function(b,a){return a[0].MapData.clear();},_MapGet:function(b,a){return a[0].MapData.get(a[1]);},_MapSet:function(b,a){return a[0].MapData.set(a[1],a[2]);},_MapDelete:function(b,a){return a[0].MapData.remove(a[1]);},_MapHas:function(b,a){return a[0].MapData.has(a[1]);},_MapNext:function(c,b){var a=b[0].MapData.after(b[1]);
return a instanceof Array?new f(a):a;},_WeakMapGet:function(b,a){return a[0].WeakMapData.get(a[1]);},_WeakMapSet:function(b,a){return a[0].WeakMapData.set(a[1],a[2]);},_WeakMapDelete:function(b,a){return a[0].WeakMapData.remove(a[1]);},_WeakMapHas:function(b,a){return a[0].WeakMapData.has(a[1]);},_Signal:function(d,c){var b=a('./runtime').realm;
b.emit.apply(b,c);},DateParse:Date.parse||function(){return NaN;},AddObserver:function(b,a){b.set(a,a);},RemoveObserver:function(a,b){a.remove(b);},readFile:function(c,d){a('fs').readFile(c,'utf8',function(c,a){d.Call(b,[a]);});},baseURL:k?function(){return k.parent.parent.dirname;}:function(){return location.origin+location.pathname;}}),void function(){function escaper(a){var c=b[a];
return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);}var a=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,    b={ '\b':'\\b', '\t':'\\t', '\n':'\\n', '\f':'\\f', '\r':'\\r', '"':'\\"', '\\':'\\\\' };
natives.add({ Quote:function(b){return a.lastIndex=0,'"'+b.replace(a,escaper)+'"';} });}(),void function(){function nearest(a,c){a=new Date(a);for(var b=e;b>0;b=Math.floor(b/3))if(c!==a.getTimezoneOffset()){while(c!==a.getTimezoneOffset())a=new Date(a.getTime()+b);a=new Date(a.getTime()-b);}while(c!==a.getTimezoneOffset())a=new Date(a.getTime()+1);return a;}var e=2592e6;
var c=new Date(2e3,5,20,0,0,0,0).getTimezoneOffset(),    d=new Date(2e3,11,20,0,0,0,0).getTimezoneOffset();
if(c>d)var a=nearest(d,c),    b=nearest(c,d);
else var a=nearest(c,d),    b=nearest(d,c);
natives.add({LOCAL_TZ:new Date().getTimezoneOffset()/-60,DST_START:+a,DST_START_MONTH:a.getMonth(),DST_START_SUNDAY:a.getDate()>15,DST_START_OFFSET:a.getHours()*36e5+a.getMinutes()*6e4,DST_END:+b,DST_END_MONTH:b.getMonth(),DST_END_SUNDAY:b.getDate()>15,DST_END_OFFSET:b.getHours()*36e5+b.getMinutes()*6e4});}(),k.exports=natives;}(typeof d!=='undefined'?d:{}),c.thunk=function(m){function Desc(a){this.Value=a;}function getKey(b,a){return typeof a==='string'?a:a[0]!=='@'?a[1]:b.getSymbol(a[1]);}function unwind(a){var d=a.error;
for(var h=0,    e;e=a.code.unwinders[h];h++)if(e.begin<=a.ip&&a.ip<=e.end)if(e.type==='scope')a.stacktrace||(a.stacktrace=[]),a.stacktrace.push(a.popScope());else if(e.type==='try')return a.stack[a.sp++]=d.value,a.error=b,a.ip=e.end+1,a.cmds[a.ip];else if(e.type==='iteration'&&(d&&d.value&&d.value.BuiltinBrand==='StopIteration'))return a.ip=e.end,a.error=b,a.cmds[a.ip];if(d&&d.value&&d.value.set&&d.value.BuiltinBrand!=='StopIteration'){var f=a.code,    j=f.ops[a.ip].range,    i=f.ops[a.ip].loc,    c=d.value;
if(!c.hasLocation){c.hasLocation=!0,setCode(c,i,f.source);var g=f.displayName||f.name;
setOrigin(c,f.filename,g),g=g?'in '+g+' ':'',console.log('Uncaught Exception '+g+'at line '+c.Get('line')+'\n'+c.Get('name')+': '+c.Get('message')+'\n'+c.Get('code')),console.dir(c);}a.stacktrace&&(c.trace?o.apply(c.trace,a.stacktrace):c.trace=a.stacktrace,c.context||(c.context=a));}return a.completion=d,a.error=b,!1;}function setOrigin(a,b,c){b&&a.set('filename',b),c&&a.set('name',c);}function setCode(b,a,c){var d=c.split('\n')[a.start.line-1];
var e=new Array(a.start.column).join('-')+'^';
b.set('line',a.start.line),b.set('column',a.start.column),b.set('code',d+'\n'+e);}function ADD(a){return a.stack[a.sp-1]+=a.ops[a.ip][0],a.cmds[++a.ip];}function AND(a){return d(a.stack[a.sp-1])?(a.ip=a.ops[a.ip][0],a.cmds[a.ip]):(a.sp--,a.cmds[++a.ip]);}function ARGS(a){return a.stack[a.sp++]=[],a.cmds[++a.ip];}function ARG(a){var b=a.stack[--a.sp];
return a.stack[a.sp-1].push(b),a.cmds[++a.ip];}function ARGUMENTS(a){if(a.callee?a.callee.Strict:a.code.flags.strict){var b=a.args;
a.stack[a.sp++]=a.createArguments(b),a.stack[a.sp++]=b;}else{var c=a.code.params.boundNames,    d=a.LexicalEnvironment,    b=a.args,    e=a.callee;
a.stack[a.sp++]=a.arguments=a.createArguments(b,d,c,e),a.stack[a.sp++]=b;}return a.cmds[++a.ip];}function ARRAY(a){return a.stack[a.sp++]=a.createArray(0),a.stack[a.sp++]=0,a.cmds[++a.ip];}function ARRAY_DONE(a){var b=a.stack[--a.sp];
return a.stack[a.sp-1].set('length',b),a.cmds[++a.ip];}function BINARY(a){var c=a.stack[--a.sp],    d=a.stack[--a.sp],    b=r(a.ops[a.ip][0],e(d),e(c));
return b&&b.Abrupt?(a.error=b,unwind):(a.stack[a.sp++]=b,a.cmds[++a.ip]);}function BINDING(a){var b=a.createBinding(a.ops[a.ip][0],a.ops[a.ip][1]);
return b&&b.Abrupt?(a.error=b,unwind):a.cmds[++a.ip];}function $$EvaluateCall(a,b,c,d){if(!b||!b.Call)return k('called_non_callable',[a&&a.name]);if(a&&a.Reference)var e=$$IsPropertyReference(a)?$$GetThisValue(a):a.base.WithBaseObject();
return;}function CALL(a){var e=a.stack[--a.sp],    b=a.stack[--a.sp],    d=a.stack[--a.sp],    g=a.ops[a.ip][0];
if(!b||!b.Call)return a.error=k('called_non_callable',[d&&d.name]),unwind;var f=a.resolveReceiver(d);
if(g&&b.code&&!b.generator)return b.prepare(f,e,a),a.cmds[a.ip];{var c=b.Call(f,e);
if(c&&c.Abrupt)return a.error=c,unwind;a.stack[a.sp++]=c;}return a.cmds[++a.ip];}function CASE(a){var b=v(a.stack[--a.sp],a.stack[a.sp-1]);
return b?b.Abrupt?(a.error=b,unwind):(a.sp--,a.ip=a.ops[a.ip][0],a.cmds[a.ip]):a.cmds[++a.ip];}function CLASS_DECL(a){var d=a.ops[a.ip][0],    e=d.hasSuper?a.stack[--a.sp]:b,    c=a.createClass(d,e);
return c&&c.Abrupt?(a.error=c,unwind):(c=a.initializeBinding(getKey(a,d.name),c),c&&c.Abrupt?(a.error=c,unwind):a.cmds[++a.ip]);}function CLASS_EXPR(a){var d=a.ops[a.ip][0],    e=d.hasSuper?a.stack[--a.sp]:b,    c=a.createClass(d,e);
return c&&c.Abrupt?(a.error=c,unwind):(a.stack[a.sp++]=c,a.cmds[++a.ip]);}function COMPLETE(a){return!1;}function CONST(a){return a.initializeBinding(a.code.lookup(a.ops[a.ip][0]),a.stack[--a.sp],!0),a.cmds[++a.ip];}function CONSTRUCT(a){var c=a.stack[--a.sp],    d=a.stack[--a.sp],    b=a.constructFunction(d,c);
return b&&b.Abrupt?(a.error=b,unwind):(a.stack[a.sp++]=b,a.cmds[++a.ip]);}function DEBUGGER(a){return a.ip++,a.completion=p,console.log(a),!1;}function DEFAULT(a){return a.sp--,a.ip=a.ops[a.ip][0],a.cmds[++a.ip];}function DEFINE(a){var c=a.ops[a.ip][0],    d=a.stack[--a.sp],    e=a.stack[a.sp-1],    f=a.stack[a.sp-2],    b=f.DefineOwnProperty(e,new D[c](d));
return b&&b.Abrupt?(a.error=b,unwind):(a.stack[a.sp++]=b,a.cmds[++a.ip]);}function DUP(a){return a.stack[a.sp]=a.stack[a.sp++-1],a.cmds[++a.ip];}function ELEMENT(a){var c=a.stack[--a.sp],    d=a.stack[--a.sp],    b=a.getPropertyReference(c,d);
return b&&b.Abrupt?(a.error=b,unwind):(a.stack[a.sp++]=b,a.cmds[++a.ip]);}function ENUM(a){return a.stack[a.sp-1]=a.stack[a.sp-1].enumerator(),a.cmds[++a.ip];}function EXTENSIBLE(a){return a.stack[a.sp-1].SetExtensible(!!a.ops[a.ip][0]),a.cmds[++a.ip];}function EVAL(a){var d=a.stack[--a.sp],    b=a.stack[--a.sp],    f=a.stack[--a.sp];
if(b&&b.Call&&b.Call.isBuiltinEval){if(a.callee?a.callee.Strict:a.code.flags.strict)var e=a.cloneScope();
var c=b.Call(null,d,!0);
e&&a.replaceScope(e);}else var c=a.callFunction(f,b,d,a.ops[a.ip][0]);
return c&&c.Abrupt?(a.error=c,unwind):(a.stack[a.sp++]=c,a.cmds[++a.ip]);}function FUNCTION(a){var b=a.ops[a.ip],    c=b[0],    d=b[1],    e=b[2];
return a.stack[a.sp++]=a.createFunction(c,d,e),a.cmds[++a.ip];}function FLIP(a){var d=[],    b=0,    c=a.ops[a.ip][0];
while(b<c)d[b]=a.stack[a.sp-b++];b=0;while(b<c)a.stack[a.sp-b]=d[c-++b];return a.cmds[++a.ip];}function GET(a){var b=e(a.stack[--a.sp]);
return b&&b.Abrupt?(a.error=b,unwind):(a.stack[a.sp++]=b,a.cmds[++a.ip]);}function HAS_BINDING(a){return a.stack[a.sp++]=a.hasBinding(a.ops[a.ip][0]),a.cmds[++a.ip];}function GET_GLOBAL(a){var b=a.getOwnGlobal(a.ops[a.ip][0]);
return b&&b.Abrupt?(a.error=b,unwind):(a.stack[a.sp++]=b,a.cmds[++a.ip]);}function HAS_GLOBAL(a){var b=a.hasOwnGlobal(a.ops[a.ip][0]);
return b&&b.Abrupt?(a.error=b,unwind):(a.stack[a.sp++]=b,a.cmds[++a.ip]);}function PUT_GLOBAL(a){var c=a.stack[--a.sp],    b=a.putOwnGlobal(a.ops[a.ip][0],c,a.ops[a.ip][1]);
return b&&b.Abrupt?(a.error=b,unwind):(a.stack[a.sp++]=b,a.cmds[++a.ip]);}function INC(a){return a.stack[a.sp-1]++,a.cmds[++a.ip];}function INDEX(a){var c=a.stack[--a.sp],    b=a.stack[--a.sp]+a.ops[a.ip][0],    d=a.stack[a.sp-1];
return d.DefineOwnProperty(b+'',new Desc(c)),a.stack[a.sp++]=b+1,a.cmds[++a.ip];}function INTERNAL_MEMBER(a){var b=a.stack[--a.sp];
return a.stack[a.sp++]=b[a.ops[a.ip][0]],a.cmds[++a.ip];}function ITERATE(a){return a.stack[a.sp-1]=a.stack[a.sp-1].Iterate(),a.cmds[++a.ip];}function LITERAL(a){return a.stack[a.sp++]=a.ops[a.ip][0],a.cmds[++a.ip];}function JUMP(a){return a.ip=a.ops[a.ip][0],a.cmds[a.ip];}function JTRUE(a){var b=a.stack[--a.sp];
return d(b)?a.cmds[++a.ip]:(a.ip=a.ops[a.ip][0],a.cmds[a.ip]);}function JFALSE(a){var b=a.stack[--a.sp];
return d(b)?(a.ip=a.ops[a.ip][0],a.cmds[a.ip]):a.cmds[++a.ip];}function JEQ_UNDEFINED(a){return j(a.stack[a.sp-1])?(a.sp--,a.ip=a.ops[a.ip][0],a.cmds[a.ip]):a.cmds[++a.ip];}function JNEQ_UNDEFINED(a){return j(a.stack[a.sp-1])?(a.sp--,a.cmds[++a.ip]):(a.ip=a.ops[a.ip][0],a.cmds[a.ip]);}function JEQ_NULL(a){return a.stack[a.sp-1]===null?(a.sp--,a.ip=a.ops[a.ip][0],a.cmds[a.ip]):a.cmds[++a.ip];}function JNEQ_NULL(a){return a.stack[a.sp-1]!==null?(a.ip=a.ops[a.ip][0],a.cmds[a.ip]):(a.sp--,a.cmds[++a.ip]);}function JLT(a){var b=a.stack[--a.sp];
return b<a.ops[a.ip][1]?(a.ip=a.ops[a.ip][0],a.cmds[a.ip]):a.cmds[++a.ip];}function JLTE(a){var b=a.stack[--a.sp];
return b<=a.ops[a.ip][1]?(a.ip=a.ops[a.ip][0],a.cmds[a.ip]):a.cmds[++a.ip];}function JGT(a){var b=a.stack[--a.sp];
return b>a.ops[a.ip][1]?(a.ip=a.ops[a.ip][0],a.cmds[a.ip]):a.cmds[++a.ip];}function JGTE(a){var b=a.stack[--a.sp];
return b>=a.ops[a.ip][1]?(a.ip=a.ops[a.ip][0],a.cmds[a.ip]):a.cmds[++a.ip];}function LET(a){return a.initializeBinding(a.code.lookup(a.ops[a.ip][0]),a.stack[--a.sp],!0),a.cmds[++a.ip];}function LOG(a){return a.Realm.emit('debug',a.sp,a.stack.slice(0,a.sp)),a.cmds[++a.ip];}function LOOP(a){var b=a.cmds[++a.ip];
return b;}function MEMBER(a){var d=a.stack[--a.sp],    b=getKey(a,a.ops[a.ip][0]);
if(b&&b.Abrupt)return a.error=b,unwind;var c=a.getPropertyReference(b,d);
return c&&c.Abrupt?(a.error=c,unwind):(a.stack[a.sp++]=c,a.cmds[++a.ip]);}function METHOD(a){var d=a.ops[a.ip][0],    e=a.stack[a.sp-1],    f=a.ops[a.ip][1],    b=getKey(a,a.ops[a.ip][2]);
if(b&&b.Abrupt)return a.error=b,unwind;var c=a.defineMethod(d,e,b,a.code);
return c&&c.Abrupt?(a.error=c,unwind):a.cmds[++a.ip];}function MOVE(a){return!a.stackB&&(a.stackB=[],a.spB=0),a.ops[a.ip][0]?a.stackB[a.spB++]=a.stack[--a.sp]:a.stack[a.sp++]=a.stackB[--a.spB],a.cmds[++a.ip];}function NATIVE_CALL(a){return CALL();}function NATIVE_REF(a){return a.code.natives?(a.stack[a.sp++]=a.Realm.natives.reference(a.code.lookup(a.ops[a.ip][0]),!1),a.cmds[++a.ip]):(a.error='invalid native reference',unwind);}function OBJECT(a){return a.stack[a.sp++]=a.createObject(),a.cmds[++a.ip];}function OR(a){return d(a.stack[a.sp-1])?(a.sp--,a.cmds[++a.ip]):(a.ip=a.ops[a.ip][0],a.cmds[a.ip]);}function POP(a){return a.sp--,a.cmds[++a.ip];}function POPN(a){return a.sp-=a.ops[a.ip][0],a.cmds[++a.ip];}function PROPERTY(a){var b=a.stack[--a.sp],    e=a.stack[a.sp-1],    c=getKey(a,a.ops[a.ip][0]);
if(c&&c.Abrupt)return a.error=c,unwind;if(b&&b.Abrupt)return a.error=b,unwind;var d=e.DefineOwnProperty(c,new Desc(b),!1);
return d&&d.Abrupt?(a.error=d,unwind):a.cmds[++a.ip];}function PROTO(a){var b=a.stack[--a.sp],    c=a.stack[a.sp-1];
if(b&&b.Abrupt)return a.error=b,unwind;if(c&&c.Abrupt)return a.error=c,unwind;var d=c.SetInheritance(b);
return d&&d.Abrupt?(a.error=d,unwind):a.cmds[++a.ip];}function PUT(a){var c=a.stack[--a.sp],    d=a.stack[--a.sp],    b=u(d,c);
return b&&b.Abrupt?(a.error=b,unwind):(a.stack[a.sp++]=c,a.cmds[++a.ip]);}function REGEXP(a){return a.stack[a.sp++]=a.createRegExp(a.ops[a.ip][0]),a.cmds[++a.ip];}function REF(a){var b=a.code.lookup(a.ops[a.ip][0]);
return a.stack[a.sp++]=a.getReference(b),a.cmds[++a.ip];}function REFSYMBOL(a){var b=a.code.lookup(a.ops[a.ip][0]);
return a.stack[a.sp++]=a.getSymbol(b),a.cmds[++a.ip];}function REST(a){var d=a.stack[--a.sp],    e=a.ops[a.ip][0],    f=d.length-e,    c=a.createArray(0);
for(var b=0;b<f;b++)c.set(b+'',d[e+b]);return c.set('length',b),a.stack[a.sp++]=c,a.cmds[++a.ip];}function RETURN(a){return a.completion=a.stack[--a.sp],a.ip++,a.code.flags.generator&&(a.currentGenerator.ExecutionContext=a,a.currentGenerator.State='closed',a.error=new l('throw',a.Realm.intrinsics.StopIteration),unwind(a)),!1;}function ROTATE(a){var c=[],    d=a.stack[--a.sp],    b=0,    e=a.ops[a.ip][0];
while(b<e)c[b++]=a.stack[--a.sp];c[b++]=d;while(b--)a.stack[a.sp++]=c[b];return a.cmds[++a.ip];}function SAVE(a){return a.completion=a.stack[--a.sp],a.cmds[++a.ip];}function SCOPE_CLONE(a){return a.cloneScope(),a.cmds[++a.ip];}function SCOPE_POP(a){return a.popScope(),a.cmds[++a.ip];}function SCOPE_PUSH(a){return a.pushScope(),a.cmds[++a.ip];}function SPREAD(a){var c=a.stack[--a.sp],    d=a.ops[a.ip][0],    b=a.destructureSpread(c,d);
return b&&b.Abrupt?(a.error=b,unwind):(a.stack[a.sp++]=b,a.cmds[++a.ip]);}function SPREAD_ARG(a){var c=a.stack[--a.sp],    d=a.stack[a.sp-1],    b=a.spreadArguments(d,c);
return b&&b.Abrupt?(a.error=b,unwind):a.cmds[++a.ip];}function SPREAD_ARRAY(a){var c=a.stack[--a.sp],    d=a.stack[--a.sp]+a.ops[a.ip][0],    e=a.stack[a.sp-1],    b=a.spreadArray(e,d,c);
return b&&b.Abrupt?(a.error=b,unwind):(a.stack[a.sp++]=b,a.cmds[++a.ip]);}function STRING(a){return a.stack[a.sp++]=a.code.lookup(a.ops[a.ip][0]),a.cmds[++a.ip];}function SUPER_ELEMENT(a){var b=a.getSuperReference(a.stack[--a.sp]);
return b&&b.Abrupt?(a.error=b,unwind):(a.stack[a.sp++]=b,a.cmds[++a.ip]);}function SUPER_MEMBER(a){var b=getKey(a,a.ops[a.ip][0]);
if(b&&b.Abrupt)return a.error=b,unwind;var c=a.getSuperReference(b);
return c&&c.Abrupt?(a.error=c,unwind):(a.stack[a.sp++]=c,a.cmds[++a.ip]);}function SWAP(a){var b=a.stack,    c=a.sp;
return a.stack=a.stackB||[],a.sp=a.spB||0,a.stackB=b,a.spB=c,a.cmds[++a.ip];}function SYMBOL(a){var d=a.ops[a.ip][0],    e=a.ops[a.ip][1],    f=a.ops[a.ip][2];
if(f){var b=a.stack[--a.sp];
if(b&&b.Abrupt)return a.error=b,unwind;}else var b=a.createSymbol(d,e);
var c=a.initializeSymbolBinding(d,b);
return c&&c.Abrupt?(a.error=c,unwind):(a.stack[a.sp++]=c,a.cmds[++a.ip]);}function TEMPLATE(a){return a.stack[a.sp++]=a.getTemplateCallSite(a.ops[a.ip][0]),a.cmds[++a.ip];}function THIS(a){var b=a.getThis();
return b&&b.Abrupt?(a.error=b,unwind):(a.stack[a.sp++]=b,a.cmds[++a.ip]);}function THROW(a){return a.error=new l('throw',a.stack[--a.sp]),unwind;}function TO_OBJECT(a){var b=a.stack[a.sp-1]=n(a.stack[a.sp-1]);
return b&&b.Abrupt?(a.error=b,unwind):a.cmds[++a.ip];}function UNARY(a){var b=q(a.ops[a.ip][0],a.stack[--a.sp]);
return b&&b.Abrupt?(a.error=b,unwind):(a.stack[a.sp++]=b,a.cmds[++a.ip]);}function UNDEFINED(a){return a.stack[a.sp++]=b,a.cmds[++a.ip];}function UPDATE(a){var c=t[a.ops[a.ip][0]],    b=c(a.stack[--a.sp]);
return b&&b.Abrupt?(a.error=b,unwind):(a.stack[a.sp++]=b,a.cmds[++a.ip]);}function VAR(a){return a.initializeBinding(a.code.lookup(a.ops[a.ip][0]),a.stack[--a.sp],!1),a.cmds[++a.ip];}function WITH(a){var b=n(e(a.stack[--a.sp]));
return b&&b.Abrupt?(a.error=b,unwind):(a.pushWith(b),a.cmds[++a.ip]);}function YIELD(a){return a.currentGenerator.ExecutionContext=a,a.currentGenerator.State='suspended',a.completion=a.stack[--a.sp],a.ip++,a.pop(),!1;}function trace(a){stacktrace||(stacktrace=[]),stacktrace.push(a);}'use strict';var h=a('./lib/objects'),    f=a('./constants'),    c=a('./object-model/operators'),    g=a('./object-model/$Nil'),    H=a('./lib/Emitter'),    i=a('./errors');
var d=g.isFalsey,    G=g.isNullish,    j=g.isUndefined,    F=h.define,    E=h.inherit,    A=h.Hash,    q=c.UnaryOperation,    r=c.BinaryOperation,    n=c.$$ToObject,    e=c.$$GetValue,    u=c.$$PutValue,    v=c.EQUAL,    w=c.PRE_INC,    x=c.POST_INC,    y=c.PRE_DEC,    z=c.POST_DEC,    p=f.SYMBOLS.Pause,    B=f.SYMBOLS.Empty,    C=f.SYMBOLS.Resume;
var l=i.AbruptCompletion,    k=i.$$ThrowException;
var o=[].push;
Desc.prototype={ isDataDescriptor:!0, isDescriptor:!0, Configurable:!0, Enumerable:!0, Writable:!0 };var D=function(b,a){while(a--)b[a]=new Function('return function '+(a&1?'E':'_')+(a&2?'C':'_')+(a&4?'W':'_')+'(v){ this.Value = v }')(),b[a].prototype={ Enumerable:(a&1)>0, Configurable:(a&2)>0, Writable:(a&4)>0 };return b;}([],8);
var t=[z, y, x, w];
var s=[    ADD,    AND,    ARRAY,    ARG,    ARGS,    ARGUMENTS,    ARRAY_DONE,    BINARY,    BINDING,    CALL,    CASE,    CLASS_DECL,    CLASS_EXPR,    COMPLETE,    CONST,    CONSTRUCT,    DEBUGGER,    DEFAULT,    DEFINE,    DUP,    ELEMENT,    ENUM,    EXTENSIBLE,    EVAL,    FLIP,    FUNCTION,    GET,    GET_GLOBAL,    HAS_BINDING,    HAS_GLOBAL,    INC,    INDEX,    INTERNAL_MEMBER,    ITERATE,    JUMP,    JEQ_NULL,    JEQ_UNDEFINED,    JFALSE,    JLT,    JLTE,    JGT,    JGTE,    JNEQ_NULL,    JNEQ_UNDEFINED,    JTRUE,    LET,    LITERAL,    LOG,    LOOP,    MEMBER,    METHOD,    MOVE,    NATIVE_CALL,    NATIVE_REF,    OBJECT,    OR,    POP,    POPN,    PROPERTY,    PROTO,    PUT,    PUT_GLOBAL,    REF,    REFSYMBOL,    REGEXP,    REST,    RETURN,    ROTATE,    SAVE,    SCOPE_CLONE,    SCOPE_POP,    SCOPE_PUSH,    SPREAD,    SPREAD_ARG,    SPREAD_ARRAY,    STRING,    SUPER_ELEMENT,    SUPER_MEMBER,    SWAP,    SYMBOL,    TEMPLATE,    THIS,    THROW,    TO_OBJECT,    UNARY,    UNDEFINED,    UPDATE,    VAR,    WITH,    YIELD    ];
return m.instructions=function instructions(d){var b=[],    c;
for(var a=0;a<d.length;a++)b[a]=s[+d[a].op],b[a].ip=a,b[a].name==='LOG'?b.log=!0:b[a].name==='LOOP'?c=!0:c&&(b[a].count=b[a].total=0,c=!1);return b;},m;}(typeof d!=='undefined'?d.exports:{}),c.runtime=function(aQ,l,d){function noop(){}function $$MakeConstructor(c,b,a){var e=a===d;
e&&(a=new f()),a.IsProto=!0,b===d&&(b=!0),e&&a.define('constructor',c,b?x:g),c.define('prototype',a,b?J:g);}function $$TopLevelDeclarationInstantiation(f){var c=b.VariableEnvironment,    k=f.scopeType==='eval',    m=f.LexicalDeclarations;
var l=k?al:ak;
for(var g=0,    j;j=m[g];g++)if(j.type==='FunctionDeclaration'){var a=j.id.name;
if(c.HasBinding(a))c.CreateMutableBinding(a,k);else if(c===e.globalEnv){var i=v.GetOwnProperty(a);
if(!i)v.DefineOwnProperty(a,l,!0);else if(aj(i)||!i.Writable&&!i.Enumerable)return h('global invalid define');}c.SetMutableBinding(a,$$InstantiateFunctionDeclaration(j,b.LexicalEnvironment),f.flags.strict);}for(var g=0;g<f.VarDeclaredNames.length;g++){var a=f.VarDeclaredNames[g];
if(!c.HasBinding(a))c.CreateMutableBinding(a,k),c.SetMutableBinding(a,d,f.flags.strict);else if(c===e.globalEnv){var i=v.GetOwnProperty(a);
!i&&v.DefineOwnProperty(a,l,!0);}}}function getKey(a){return!a||typeof a==='string'?a:a[0]!=='@'?a[1]:b.getSymbol(a[1]);}function $$ClassDefinitionEvaluation(l,e,t,s,o){if(e===d)var i=c.ObjectProto,    n=c.FunctionProto;
else{if(e&&e.Abrupt)return e;if(e===null)i=null,n=c.FunctionProto;else if(typeof e!=='object')return h('non_object_superclass');else if(!('Construct'in e))i=e,n=c.FunctionProto;else{i=e.Get('prototype');if(i&&i.Abrupt)return i;if(typeof i!=='object')return h('non_object_superproto');n=e;}}var k=new f(i),    q=getKey(l||'');
for(var m=0;m<o[0].length;m++){var r=o[0][m],    v=o[1][m],    p=b.initializeSymbolBinding(r,b.createSymbol(r,v));
if(p&&p.Abrupt)return p;}l&&b.LexicalEnvironment.CreateImmutableBinding(l);var a=$$PropertyDefinitionEvaluation('method',k,'constructor',t);
return a&&a.Abrupt?a:(l&&(b.initializeBinding(l,a),k.define(u.toStringTag,q)),$$MakeConstructor(a,!1,k),a.IsClass=!0,a.IsConstructor=!0,a.SetInheritance(n),a.set('name',q),a.define('prototype',k,g),k.define('constructor',a,x),k.IsClassProto=!0,j(s,function(a){$$PropertyDefinitionEvaluation(a.kind,k,getKey(a.name),a.code);}),a);}function $$InstantiateFunctionDeclaration(b,d){var a=b.code,    e=a.flags.generator?$GeneratorFunction:$Function,    c=new e('normal',b.id.name,a.params,a,d,a.flags.strict);
return $$MakeConstructor(c),c;}function createBoolean(a){return runtime.intrinsics['%Boolean%'].Construct([a]);}function createNumber(a){return runtime.intrinsics['%Number%'].Construct([a]);}function createString(a){return runtime.intrinsics['%String%'].Construct([a]);}function fromInternal(a){if(typeof a==='function')return new $InternalFunction(a);if(a===null||typeof a!=='object')return a;if(a instanceof RegExp)return new $RegExp(a);if(a instanceof Number)return createNumber(a);if(a instanceof String)return createString(a);if(a instanceof Boolean)return createBoolean(a);if(a instanceof Array){var b=new p();
return j(a,function(a,c){b.set(c,fromInternal(a));}),b;}var b=new f();
return j(a,function(a,c){b.set(c,fromInternal(a));}),b;}function CollectionInitializer(b,a){var c=a+'Data';
return function(o,n){var g=n[0],    e=n[1];
g[c]=new b();if(e===d)return g;e=E(e);if(e&&e.Abrupt)return e;var j=W(e,u.iterator);
if(j&&j.Abrupt)return j;var i=g.Get('set');
if(i&&i.Abrupt)return i;if(!a8(i))return h('called_on_incompatible_object',[a+'.prototype.set']);var f;
while(f=E(W(j,'next'))){if(ad(f))return g;if(f&&f.Abrupt)return f;var l=f.Get(0);
if(l&&l.Abrupt)return l;var k=f.Get(1);
if(k&&k.Abrupt)return k;var m=i.Call(g,[l, k]);
if(m&&m.Abrupt)return m;}return g;};}function notify(a){if(!('ChangeObservers'in this))return h('called_on_incompatible_object',['Notifier.prototype.notify']);a=E(a);var e=a.Get('type');
if(typeof e!=='string')return h('changerecord_type',[typeof e]);var g=this.ChangeObservers;
if(g.size){var i=this.Target,    b=new f(),    d=a.Enumerate(!0,!0);
b.define('object',i,1);for(var c=0;c<d.length;c++)b.define(d[c],a.Get(d[c]),1);b.PreventExtensions(),aa(b,g);}}function activate(a){e!==a&&(e&&(e.active=!1,e.emit('deactivate')),R.push(e),l.realm=e=a,l.global=v=A.global=a.global,l.intrinsics=c=a.intrinsics,a.active=!0,f.changeRealm(a),p.changeRealm(a),a0.changeRealm(a),i.changeRealm(a),a.emit('activate'));}function deactivate(a){e===a&&R.length&&(a.active=!1,e=R.pop(),a.emit('dectivate'));}'use strict';var av=a('../third_party/esprima'),    n=a('./lib/objects'),    Z=a('./lib/functions'),    F=a('./lib/iteration'),    V=a('./lib/utility'),    D=a('./errors'),    a4=a('./assembler').assemble,    aq=a('./constants'),    a1=a('./object-model/collections'),    A=a('./object-model/operators'),    G=a('./object-model/environments'),    i=a('./object-model/operations'),    B=a('./object-model/descriptors'),    u=a('./object-model/$Symbol').wellKnownSymbols,    y=a('./object-model/$Symbol').$Symbol,    ao=a('./object-model/$Symbol').$WellKnownSymbol,    f=a('./object-model/$Object').$Object,    a0=a('./object-model/$Arguments').$StrictArguments,    aw=a('./object-model/$Arguments').$MappedArguments,    p=a('./object-model/$Array').$Array,    Q=a('./object-model/$Proxy'),    a9=a('./object-model/$TypedArray'),    q=a('./natives'),    _=a('./lib/Emitter'),    ar=a('./lib/PropertyList'),    au=a('./thunk'),    aV=a('./lib/Stack');
var m=n.Hash,    z=n.create,    aU=n.hasOwn,    S=n.isObject,    Y=n.assign,    o=n.define,    k=n.inherit,    r=n.hide,    aT=n.keys,    a3=n.properties,    ay=n.getPrototypeOf,    I=Z.fname,    aS=Z.applyNew,    a7=F.iterate,    j=F.each,    am=F.map,    aR=V.uid,    ap=V.nextTick,    L=V.tag,    M=a1.MapData,    X=a1.WeakMapData;
var h=D.$$ThrowException,    P=D.$$MakeException,    ax=D.Completion,    C=D.AbruptCompletion;
var az=A.$$GetValue,    E=A.$$ToObject,    a5=A.$$Type,    a6=A.$$GetThisValue;
var T=i.Reference,    a8=i.$$IsCallable,    W=i.$$Invoke,    aa=i.$$EnqueueChangeRecord,    ab=i.$$DeliverAllChangeRecords,    ac=i.$$CreateListFromArray,    ad=i.$$IsStopIteration,    ae=i.$$IsPropertyReference,    af=i.$$OrdinaryCreateFromConstructor;
var aP=B.Value,    ah=B.Accessor,    ai=B.DataDescriptor,    aj=B.$$IsAccessorDescriptor,    aN=B.$$FromPropertyDescriptor,    aM=B.$$ToPropertyDescriptor;
var s=G.DeclarativeEnvironmentRecord,    an=G.ObjectEnvironmentRecord,    U=G.FunctionEnvironmentRecord,    N=G.GlobalEnvironmentRecord;
var w=aq.SYMBOLS,    aI=w.Break,    as=w.Pause,    at=w.Throw,    O=w.Return,    aH=w.Normal;
C.prototype.Abrupt=w.Abrupt,ax.prototype.Completion=w.Completion;var aG=1,    aE=2,    aL=4,    aB=8,    g=0,    a2=1,    aC=2,    aD=3,    J=4,    aF=5,    x=6,    $=7,    K=8,    aJ=9,    aK=10,    aA=11;
D.createError=function(a,b,c){return new $Error(a,b,c);};var $$PropertyDefinitionEvaluation=function(){function makeDefiner(e,c,a){return function(i,j,f){var k=f.flags.usesSuper,    l=b.LexicalEnvironment,    m=k?i:d,    n=f.flags.generator?$GeneratorFunction:$Function,    g=new n('method',j,f.params,f,l,f.flags.strict,d,m,k);
e&&$$MakeConstructor(g),a[c]=g;var h=i.DefineOwnProperty(j,a,!1);
return a[c]=d,h&&h.Abrupt?h:g;};}var a=makeDefiner(!1,'Value',{ Value:d, Writable:!0, Enumerable:!0, Configurable:!0 });
var c=makeDefiner(!0,'Get',{ Get:d, Enumerable:!0, Configurable:!0 });
var e=makeDefiner(!0,'Set',{ Set:d, Enumerable:!0, Configurable:!0 });
return function $$PropertyDefinitionEvaluation(d,f,b,g){if(b&&b.Abrupt)return b;if(d==='get')return c(f,b,g);if(d==='set')return e(f,b,g);if(d==='method')return a(f,b,g);};}();
var al={ Value:d, Writable:!0, Enumerable:!0, Configurable:!0 };
var ak={ Value:d, Writable:!0, Enumerable:!0, Configurable:!1 };
var aO=f.prototype.DefineOwnProperty;
var $Function=function(){function $Function(k,l,b,a,m,h,i,j,n){i===d&&(i=c.FunctionProto),f.call(this,i),this.FormalParameters=b,this.ThisMode=k==='arrow'?'lexical':h?'strict':'global',this.Strict=!!h,this.Realm=e,this.Scope=m,this.code=a,L(a),j!==d&&(this.HomeObject=j),n&&(this.MethodName=getKey(l)),h?(this.define('arguments',c.ThrowTypeError,K),this.define('caller',c.ThrowTypeError,K)):(this.define('arguments',null,g),this.define('caller',null,g)),this.define('length',b?b.ExpectedArgumentCount:0,g),this.define('name',getKey(a.name),a.name&&!a.flags.writableName?g:J);}function $$OrdinaryConstruct(d,e,f){var a=d.Get(u.create);
if(a&&a.Abrupt)return a;var b=a?a.Call(d,e):af(d,'%ObjectPrototype%');
if(b&&b.Abrupt)return b;var c=d.Call(b,e,!0);
return c&&c.Abrupt?c:a5(c)==='Object'?c:b;}return k($Function,f,{BuiltinBrand:'BuiltinFunction',FormalParameters:null,code:null,Scope:null,Strict:!1,ThisMode:'global',Realm:null,type:'$Function'},[function getName(){return this.get('name');},function prepare(a,f,c,h){e!==this.Realm&&activate(this.Realm);if(this.ThisMode==='lexical')var d=new s(this.Scope);
else{if(this.ThisMode!=='strict')if(a==null)a=this.Realm.global;else if(typeof a!=='object'){a=E(a);if(a.Abrupt)return a;}var d=new U(a,this);
}var i=b?b.callee:null;
return c?ExecutionContext.call(c,c.caller,d,e,this.code,this,f,h):c=new ExecutionContext(b,d,e,this.code,this,f,h),this.define&&!this.Strict&&(this.define('arguments',d.arguments,g),this.define('caller',i,g),d.arguments=null),c;},function cleanup(){this.define&&!this.Strict&&(this.define('arguments',null,g),this.define('caller',null,g));},function Call(d,e,f){var c=this.prepare(d,e,null,f);
ExecutionContext.push(c);var a=b.run();
return c===b&&ExecutionContext.pop(),this.cleanup(),a&&a.type===O?a.value:a;},function Construct(a){return $$OrdinaryConstruct(this,a);}]),$Function;}();
var $BoundFunction=function(){function $BoundFunction(a,b,d){f.call(this,c.FunctionProto),this.BoundTargetFunction=a,this.BoundThis=b,this.BoundArgs=d,this.define('arguments',c.ThrowTypeError,K),this.define('caller',c.ThrowTypeError,K),this.define('length',a.get('length'),g);}return k($BoundFunction,$Function,{ TargetFunction:null, BoundThis:null, BoundArgs:null, type:'$BoundFunction' },[function getName(){return this.BoundTargetFunction.getName();},function Call(b,a){return this.BoundTargetFunction.Call(this.BoundThis,this.BoundArgs.concat(a));},function Construct(b){var a=this.BoundTargetFunction;
return a.Construct?(a.constructCount=(a.constructCount||0)+1,a.Construct(this.BoundArgs.concat(b))):h('not_constructor',a.name);}]),$BoundFunction;}();
var $GeneratorFunction=function(){function $GeneratorFunction(){$Function.apply(this,arguments);}return k($GeneratorFunction,$Function,{ generator:!0 },[function Call(a,d,f){e!==this.Realm&&activate(this.Realm);if(this.ThisMode==='lexical')var c=new s(this.Scope);
else{if(this.ThisMode!=='strict')if(a==null)a=this.Realm.global;else if(typeof a!=='object'){a=E(a);if(a.Abrupt)return a;}var c=new U(a,this);
}var g=new ExecutionContext(b,c,this.Realm,this.code,this,d,f);
return new $Generator(this.Realm,c,g);}]),$GeneratorFunction;}();
var $Generator=function(){function setFunction(c,a,b){c.set(a,new $InternalFunction({ name:a, length:b.length, call:b }));}function $$Resume(b,c,a){return ExecutionContext.push(b),c!=='normal'&&(a=new C(c,a)),b.send(a);}function $Generator(c,d,b){f.call(this),this.Realm=c,this.Scope=d,this.code=b.code,this.ExecutionContext=b,this.State='newborn';var a=this;
ExecutionContext.push(b),setFunction(this,u.iterator,function(b,c){return a;}),setFunction(this,'next',function(b,c){return a.Send();}),setFunction(this,'close',function(b,c){return a.Close();}),setFunction(this,'send',function(c,b){return a.Send(b[0]);}),setFunction(this,'throw',function(c,b){return a.Throw(b[0]);}),b.pop();}return k($Generator,f,{ Code:null, ExecutionContext:null, Scope:null, Handler:null, State:null },[function Send(a){return this.State==='executing'?h('generator_executing','send'):this.State==='closed'?h('generator_closed','send'):this.State==='newborn'?a!==d?h('generator_send_newborn'):(this.ExecutionContext.currentGenerator=this,this.State='executing',ExecutionContext.push(this.ExecutionContext),this.ExecutionContext.run()):(this.State='executing',$$Resume(this.ExecutionContext,'normal',a));},function at(a){return this.State==='executing'?h('generator_executing','throw'):this.State==='closed'?h('generator_closed','throw'):this.State==='newborn'?(this.State='closed',this.code=null,new C('throw',a)):(this.State='executing',$$Resume(this.ExecutionContext,'throw',a));},function Close(a){if(this.State==='executing')return h('generator_executing','close');if(this.State==='closed')return;if(state==='newborn'){this.State='closed',this.code=null;return;}this.State='executing';var b=$$Resume(this.ExecutionContext,'return',a);
return this.State='closed',b;}]),$Generator;}();
var $RegExp=function(){function $RegExp(a){!this.properties&&f.call(this,c.RegExpProto),this.PrimitiveValue=a;}var a=Y(new m(),{global:['global', !1, g],ignoreCase:['ignoreCase', !1, g],lastIndex:['lastIndex', 0, J],multiline:['multiline', !1, g],source:['source', '', g]});
return k($RegExp,f,{ BuiltinBrand:'BuiltinRegExp', Match:null },[function describe(b){if(b in a){var c=a[b];
return c[1]=this.PrimitiveValue[b],c;}return this.properties.describe(b);},function o(b,c,d){b in a?b==='lastIndex'&&(this.PrimitiveValue.lastIndex=c):this.properties.define(b,c,d);},function get(b){return b in a?this.PrimitiveValue[b]:this.properties.get(b);},function set(b,c){b in a?b==='lastIndex'&&(this.PrimitiveValue.lastIndex=c):this.properties.set(b,c);},function query(b){return b in a?a[b][2]:this.properties.query(b);},function update(b,c){if(!(b in a))return this.properties.update(b,c);},function j(b){for(var c in a){var d=a[c];
d[1]=this.PrimitiveValue[c],b.call(this,d);}this.properties.each(b,this);}]),$RegExp;}();
var $Module=function(){function ModuleValue(a){this.Value=a;}function $ModuleIterator(a){var b=0;
f.call(this),this.set(u.iterator,this),this.set('next',new $InternalFunction(function next(){if(b<a.keys.length){var c=a.keys[b++];
return new p([c, a.get(c)]);}return new C('throw',e.intrinsics.StopIteration);}));}function $Module(a,b){if(a instanceof $Module)return a;this.init(a,b),F.each(this.keys,this.add,this),L(this);}var b=a('./object-model/$Object').$Enumerator;
return o(ModuleValue,{ Writable:!1, Enumerable:!0, Configurable:!1, isDescriptor:!0, isDataDescriptor:!0 }),k($ModuleIterator,f),o($Module.prototype,{ type:'$Module', BuiltinBrand:'BuiltinModule' }),o($Module.prototype,[function init(a,b){this.props=new m(),this.object=a,this.keys=b;},function add(a){this.props[a]=new T(this.object,a);},function get(a){if(a===u.iterator)return this.iterator();var b=this.props[a];
if(b)return az(b);},function(){return function o(){};}(),function set(a){},function update(){},function has(a){return a in this.props;},function j(a){F.each(this.keys,function(b){a.call(this,this.describe(b));},this);},function describe(a){if(this.has(a))return[a, this.get(a), a2];},function query(a){if(this.has(a))return a2;},function enumerator(){return new b(this.keys);},function iterator(){var a=this;
return new $InternalFunction(function(){return new $ModuleIterator(a);});},function Iterate(){return this.iterator().Call(d,[]);},function GetInheritance(){return null;},function SetInheritance(a){return!1;},function IsExtensible(){return!1;},function PreventExtensions(){return!0;},function HasProperty(a){return this.has(a);},function HasOwnProperty(a){return this.has(a);},function Get(a){return this.get(a);},function GetP(a,b){return this.get(a);},function Put(a,b){return!1;},function SetP(a,b,c){return!1;},function GetOwnProperty(a){return this.has(a)?new ModuleValue(this.get(a)):!1;},function DefineOwnProperty(b,c,a){return a?h('strict_lhs_assignment'):!1;},function Delete(a){return!1;},function DefaultValue(){return'[object Module]';},function Keys(){return this.keys;},function OwnPropertyKeys(){return this.keys.concat(u.iterator);},function Enumerate(){return this.keys;}]),$Module;}();
var $NativeModule=function(){function $NativeModule(a){$Module.call(this,a),delete this.bindings;}return k($NativeModule,$Module,[function init(a){this.bindings=a,this.props=new m(),this.keys=am(a,function(b,a){return a;});},function add(a){typeof this.bindings[a]==='function'?this.props[a]=new $InternalFunction({ name:a, call:this.bindings[a], length:this.bindings[a].length }):this.props[a]=this.bindings[a];},function get(a){return a===u.iterator?this.iterator():this.props[a];}]),$NativeModule;}();
var $Error=function(){function $Error(b,a,e){f.call(this,c[b+'Proto']),this.define('message',e,$),a!==d&&this.define('type',a,x);}return k($Error,f,{ BuiltinBrand:'BuiltinError' },[function setOrigin(a,b){a&&this.set('filename',a),b&&this.set('origin',b);},function setCode(a,b){var c=b.split('\n')[a.start.line-1];
var d=new Array(a.start.column).join('-')+'^';
this.set('line',a.start.line),this.set('column',a.start.column),this.set('code',c+'\n'+d);}]),$Error;}();
var $NativeFunction=function(){function $NativeFunction(a){typeof a==='function'&&(a={ call:a, name:I(a), length:a.length, proto:c.FunctionProto }),a.proto===d&&(a.proto=c.FunctionProto),f.call(this,a.proto),this.define('arguments',null,g),this.define('caller',null,g),this.define('length',a.length,g),this.define('name',a.name,g),a.unwrapped?(this.Call=a.call,a.construct&&(this.Construct=a.construct)):(this.call=a.call,a.construct&&(this.construct=a.construct)),this.Realm=e,r(this,'Realm');}return k($NativeFunction,$Function,{ Builtin:!0, type:'$NativeFunction' },[function Call(b,c){var a=this.call.apply(b,[].concat(c));
return a&&a.type===O?a.value:a;},function Construct(b){if(this.construct){var c=this.has('prototype')?new f(this.get('prototype')):new f();
c.ConstructorName=this.get('name');var a=this.construct.apply(c,b);
}else var a=this.call.apply(d,b);
return a&&a.type===O?a.value:a;}]),$NativeFunction;}();
var ag=['define', 'describe', 'get', 'set', 'query', 'update', 'has', 'remove', 'each'];
var $InternalFunction=function(){function $InternalFunction(a){c?this.Prototype=c.FunctionProto:this.Prototype=null,this.Realm=e,this.Call=typeof a==='function'?a:a.call,this.storage=new m(),this.name=a.name||I(this.Call),this.length=a.length||this.Call.length;}function deoptimize(a){j(ag,function(b){a[b]=$Function.prototype[b];}),a.properties=new ar(),a.define('arguments',null,g),a.define('caller',null,g),a.define('length',a.length,g),a.define('name',a.name,g);}var a=Y(new m(),{caller:['caller', null, g],'arguments':['arguments', null, g],length:['length', 0, g],name:['name', '', g]});
return k($InternalFunction,$Function,[function has(b){return b in a;},function get(b){if(b==='name')return this.name;if(b==='length')return this.length;if(b in a)return a[b][1];},function describe(b){return(b==='name'||b==='length')&&(a[b][1]=this[b]),a[b];},function query(b){return b in a?a[b][2]:d;},function j(c){for(var b in a)(b==='name'||b==='length')&&(a[b][1]=this[b]),c(a[b]);},function remove(a,b){return deoptimize(this),this.remove(a);},function update(a,b){return deoptimize(this),this.update(a,b);},function set(a,b){return deoptimize(this),this.set(a,b);},function(){return function o(a,b,c){return deoptimize(this),this.define(a,b,c);};}()]),$InternalFunction;}();
var ExecutionContext=function(){function ExecutionContext(b,e,f,a,c,g,h){this.caller=b,this.Realm=f,this.code=a,this.LexicalEnvironment=e,this.VariableEnvironment=e,this.strict=a.flags.strict,this.args=g||[],this.isConstruct=!!h,this.callee=c&&!c.Builtin?c:b?b.callee:null,this.stack=[],this.ip=0,this.sp=0,this.error=d,this.completion=d,this.stacktrace=d,this.ops=a.ops,this.cmds=a.cmds||(a.cmds=au.instructions(a.ops));}var k=i.$$GetSymbol,    e=i.$$Element,    g=i.$$SuperReference,    j=i.$$GetThisEnvironment,    c=i.$$ThisResolution,    l=i.$$SpreadDestructuring,    n=i.$$GetTemplateCallSite;
var r=new m(),    t=new m(),    a=new ai(d,$);
return o(ExecutionContext,[function push(a){b=a,b.Realm.active||activate(b.Realm);},function pop(){if(b){var a=b;
return b=b.caller,a;}},function reset(){var a=[];
while(b)a.push(ExecutionContext.pop());return a;}]),o(ExecutionContext.prototype,{isGlobal:!1,strict:!1,isEval:!1,constructFunction:i.$$EvaluateConstruct,callFunction:i.$$EvaluateCall,spreadArguments:i.$$SpreadArguments,spreadArray:i.$$SpreadInitialization,defineMethod:$$PropertyDefinitionEvaluation}),o(ExecutionContext.prototype,[function run(){var a=this.cmds[this.ip];
if(!this.Realm.quiet&&!this.code.natives||this.Realm.debugBuiltins){this.history||(this.history=[]);while(a)this.history[this.history.length]=this.ops[this.ip],this.Realm.emit('op',this.ops[this.ip],this.stack[this.sp-1]),a=a(this);}else while(a)a=a(this);return this.completion;},function send(a){return this.stack[this.sp++]=a,this.run();},function pop(){if(this===b)return b=this.caller,this;},function hasArgument(c){if(this.callee){var a=this.callee.FormalParameters;
if(a){var b=a.getIndex(c);
return b!==-1&&b<this.args.length;}}return!1;},function argumentCount(){return this.args.length;},function resolveReceiver(a){if(a&&a.Reference)return ae(a)?a6(a):a.base.WithBaseObject();},function callerName(){var a=this.caller&&this.caller.callee;
return a&&a.get?a.get('name'):'';},function createBinding(a,b){return b?this.LexicalEnvironment.CreateImmutableBinding(a):this.LexicalEnvironment.CreateMutableBinding(a,!1);},function initializeBinding(a,b,c){return this.LexicalEnvironment.InitializeBinding(a,b,c);},function hasBinding(a){return this.LexicalEnvironment.HasBinding(a);},function popScope(){var a=this.LexicalEnvironment;
return this.LexicalEnvironment=this.LexicalEnvironment.outer,a;},function pushScope(){this.LexicalEnvironment=new s(this.LexicalEnvironment);},function cloneScope(){var a=this.LexicalEnvironment,    c=new s(a.outer);
for(var b in a.bindings)c.bindings[b]=a.bindings[b];for(var b in a.deletables)c.deletables[b]=a.deletables[b];for(var b in a.consts)c.consts[b]=a.consts[b];return this.LexicalEnvironment=c,a;},function replaceScope(a){var b=this.LexicalEnvironment;
return this.LexicalEnvironment=a,b;},function pushWith(a){return this.LexicalEnvironment=new s(this.LexicalEnvironment),this.LexicalEnvironment.withBase=a,a;},function createClass(a,b){this.LexicalEnvironment=new s(this.LexicalEnvironment);var c=$$ClassDefinitionEvaluation(a.name,b,a.ctor,a.methods,a.symbols);
return this.LexicalEnvironment=this.LexicalEnvironment.outer,c;},function createFunction(e,b,a){var f=a.flags.generator?$GeneratorFunction:$Function,    c=this.LexicalEnvironment;
e&&b&&(c=new s(c),c.CreateImmutableBinding(b));var d=new f(a.lexicalType,b,a.params,a,c,a.flags.strict);
return a.lexicalType!=='arrow'&&($$MakeConstructor(d),e&&b&&c.InitializeBinding(b,d)),d;},function createArguments(a,b,c,e){return b===d?new a0(a):new aw(a,b,c,e);},function hasOwnGlobal(a){return this.Realm.global.HasOwnProperty(a);},function getOwnGlobal(a){return this.Realm.global.GetOwnProperty(a);},function putOwnGlobal(b,c,e){a.Configurable=!!e,a.Value=c;var f=this.Realm.global.DefineOwnProperty(b,a,!0);
return a.Value=d,f;},function createArray(a){return new p(a);},function createObject(a){return new f(a);},function createRegExp(a){return new $RegExp(a);},function getPropertyReference(a,b){return e(this,a,b);},function getReference(a){var e=this.LexicalEnvironment||this.VariableEnvironment,    b=e.cache;
if(b){if(a in b)return b[a];}else b=e.cache=new m();var c=e,    f=this.callee?this.callee.Strict:this.code.flags.strict;
do if(c.HasBinding(a))return b[a]=new T(c,a,f);while(c=c.outer);return b=f?r:t,a in b?b[a]:b[a]=new T(d,a,f);},function getSuperReference(a){return g(this,a);},function getThisEnvironment(){return j(this);},function getThis(){return c(this);},function destructureSpread(a,b){return l(this,a,b);},function getTemplateCallSite(a){return n(this,a);},function getSymbol(a){return k(this,a)||h('undefined_symbol',a);},function createSymbol(a,b){return new y(a,b);},function initializeSymbolBinding(a,b){return this.LexicalEnvironment.InitializeSymbolBinding(a,b);}]),q.add({_isConstruct:function(){return b.isConstruct;},_argumentCount:function(){return b.argumentCount();},_hasArgument:function(c,a){return b.hasArgument(a[0]);},_callerName:function(){return b.callerName();},_callerIsConstruct:function(){return b.caller?b.caller.isConstruct:!1;},_callerArgumentCount:function(){return b.caller?b.argumentCount():null;},_callerHasArgument:function(c,a){return b.caller?b.caller.hasArgument(a[0]):!1;}}),ExecutionContext;}();
var Intrinsics=function(){function FunctionPrototypeCall(){}function $$CreateThrowTypeError(b){var a=z($NativeFunction.prototype);
return f.call(a,b.intrinsics.FunctionProto),a.call=function(){return h('strict_poison_pill');},a.define('length',0,g),a.define('name','ThrowTypeError',g),a.Realm=b,a.Extensible=!1,a.IsStrictThrower=!0,a.Strict=!0,r(a,'Realm'),new ah(a);}function Intrinsics(e){s.call(this,null),this.Realm=e,e.natives=this,e.intrinsics=this.bindings,activate(e),c.Genesis=new f(null),c.Genesis.HiddenPrototype=!0,c.ObjectProto=new f(c.Genesis),c.global=v=A.global=e.global=new f(c.ObjectProto),c.global.BuiltinBrand='GlobalObject',e.globalEnv=new N(c.global),e.globalEnv.Realm=e;for(var h in b){var g=c[h+'Proto']=z(b[h].prototype);
f.call(g,c.ObjectProto),h in d&&(g.PrimitiveValue=d[h]);}for(var i=0;i<6;i++){var g=c[a[i]+'Proto']=z($Error.prototype);
f.call(g,c.ErrorProto),g.define('name',a[i],x);}c.StopIteration=new f(c.ObjectProto),c.StopIteration.BuiltinBrand='StopIteration',c.FunctionProto.FormalParameters=[],c.FunctionProto.Call=FunctionPrototypeCall,c.FunctionProto.BuiltinBrand='BuiltinFunction',c.FunctionProto.Scope=e.globalEnv,c.FunctionProto.Realm=e,c.ThrowTypeError=$$CreateThrowTypeError(e),c.ArrayProto.array=[],c.ArrayProto.length=['length', 0, J],c.ErrorProto.define('name','Error',x),c.ErrorProto.define('message','',x),c.ObserverCallbacks=new M(),c.NotifierProto=new f(c.ObjectProto),c.NotifierProto.define('notify',new $NativeFunction(notify),x);}var a=['EvalError', 'RangeError', 'ReferenceError', 'SyntaxError', 'TypeError', 'URIError'];
var b={ Array:p, Error:$Error, Function:$Function, RegExp:$RegExp, Symbol:y };
l.builtins={$Array:p,$BoundFunction:$BoundFunction,$Error:$Error,$Function:$Function,$Generator:$Generator,$GeneratorFunction:$GeneratorFunction,$InternalFunction:$InternalFunction,$Module:$Module,$NativeFunction:$NativeFunction,$Object:f,$Proxy:Q,$RegExp:$RegExp,$Symbol:y,$TypedArray:a9,MapData:M,WeakMapData:X,DeclarativeEnv:s,ObjectEnv:an,FunctionEnv:U,GlobalEnv:N,ExecutionContext:ExecutionContext};var d={ RegExp:RegExp.prototype };
return k(Intrinsics,s,{ type:'Intrinsics' },[function binding(a){typeof a==='function'&&(a={ call:a, name:a.name, length:a.length }),!a.name&&(a.call.name?a.name=a.call.name:a.name=arguments[1]),typeof a.length!=='number'&&(a.length=a.call.length);if(e!==this.Realm){var b=e;
activate(this.Realm);}this.bindings[a.name]=new $NativeFunction(a),b&&activate(b);}]),Intrinsics;}();
var Script=function(){function ParseOptions(b){for(var a in b)a in this&&(this[a]=b[a]);}function parse(h,f,b,a){!a&&(S(b)?(a=b,b=''):S(f)?(a=f,f=b=''):a={});try{return av.parse(h,a?new ParseOptions(a):ParseOptions.prototype);}catch(a){if(!e||!c)return a;var g=new $Error('SyntaxError',d,a.message),    i={ line:a.lineNumber, column:a.column };
return g.setCode({ start:i, end:i },h),g.setOrigin(f,b),new C('throw',g);}}function Script(a){return a instanceof Script?a:(this.type='script',typeof a==='function'?(this.type='recompiled function',I(a)?a={ scope:'function', filename:I(a), source:a+'' }:a={ scope:'function', filename:'', source:'('+a+')()' }):typeof a==='string'?a=load(a):!(a==null)&&typeof a==='object',a.natives&&(this.natives=!0,this.type='native'),(a.eval||a.scope==='eval')&&(this.eval=!0,this.type='eval'),this.scope=a.scope,!S(a.ast)&&typeof a.source==='string'&&(this.source=a.source,this.ast=parse(a.source,a.filename,this.type),this.ast.Abrupt&&(this.error=this.ast,this.ast=null)),this.filename=a.filename||'',this.ast&&(this.bytecode=a4(this),L(this.bytecode)),this);}ParseOptions.prototype={ loc:!0, range:!0, raw:!1, comment:!1, tokens:!1, tolerant:!1 },l.parse=parse,q.add({parse:function(b,c,d,e,f,g,h,i){var a=parse(b,i,'script',{ loc:!!c, range:!!d, raw:!!e, tokens:!!f, comment:!!g, tolerant:!!h });
return a.Abrupt?a:fromInternal(a);}});var load=function(){if(typeof process!=='undefined'){var b=a('fs');
return function load(a){return!~a.indexOf('\n')&&b.existsSync(a)?{ scope:'global', source:b.readFileSync(a,'utf8'), filename:a }:{ scope:'global', source:a, filename:'' };};}return function load(a){return{ scope:'global', source:a, filename:'' };};}();
return o(Script,[parse]),Script;}();
var t=z(null);
var Realm=function(){function wrapFunction(a){return a._wrapper?a._wrapper:(a._wrapper=function(){return a.Call(this,arguments);},a._wrapper._wraps=a,a._wrapper);}function deliverChangeRecordsAndReportErrors(){var a=ab();
a&&a instanceof Array&&j(a,function(a){e.emit('throw',a);});}function initialize(b,f,g){if(b.initialized)return f();b.state='initializing',b.initialized=!0,b.mutationScope=new ExecutionContext(null,b.globalEnv,b,i.bytecode);var e=a('./builtins'),    h=e['@@internal']+'\n\n'+e['@system'];
var c={    modules:{},    global:b.global,    baseURL:'',    load:{    Call:function(h,b){    var a=b[0],        f=b[1],        g=b[2];
    a in c.modules?f.Call(d,[c.modules[a]]):a in e?resolveModule(c,e[a],a,function(b){    c.modules[a]=b,b.loader=c,b.resolved=a,b.mrl=a,f.Call(d,[b]);    },wrapFunction(g)):f.Call(d,[new $Error('Error',d,'Unable to locate module "'+a+'"')]);    }    },    Get:function(a){    return c[a];    }    };
resolveModule(c,h,'@system',f,g);}function prepareToRun(d,c){if(!c){var a=createSandbox(a.global);
c=a.globalEnv;}else var a=c.Realm;
ExecutionContext.push(new ExecutionContext(null,c,a,d));var b=$$TopLevelDeclarationInstantiation(d);
if(b&&b.Abrupt)return a.emit(b.type,b),b;}function run(a,c){a.executing=c,a.state='executing',a.emit('executing',c);var d=b.run();
if(!(d===as))return deliverChangeRecordsAndReportErrors(),a.executing=null,a.state='idle',d;{var e=function(){return e=function(){},delete a.resume,a.emit('resume'),run(a,c);};
b.sp--,a.resume=function(){return e();},a.state='paused',a.emit('pause',a.resume);}}function mutationContext(b,a){return a===d?a=!b.mutating:a=!!a,a!==b.mutating&&(b.mutating=a,a?ExecutionContext.push(b.mutationScope):(deliverChangeRecordsAndReportErrors(),ExecutionContext.pop())),a;}function resolveImports(d,a,h,k){var c=new m();
if(a.imports&&a.imports.length){var l=d.Get('load'),    i=a.imports.length,    b=[];
var e={    Call:function(e,d){    var a=d[0];
    a instanceof $Module&&(c[a.mrl]=a),!--i&&(b.length?k(b):h(c));    }    };
var f={ Call:function(c,a){    b.push(a[0]),!--i&&k(b);    } };
j(a.imports,function(a){if(a.code){var b=createSandbox(v,d);
runScript(b,{ bytecode:a.code },function(){var c=new $Module(b.globalEnv,a.code.exportedNames);
c.mrl=a.code.name,e.Call(null,[c]);},function(a){f.Call(null,[a]);});}else!(a.origin instanceof Array)&&(g.has(a.origin)?e.Call(null,[g.get(a.origin)]):l.Call(d,[a.origin, e, f]));});}else h(c);}function createSandbox(d,e){var g=d.Realm||d.Prototype.Realm,    a=new f(),    c=new N(a),    b=c.Realm=a.Realm=z(g);
return a.BuiltinBrand='GlobalObject',c.outer=g.globalEnv,b.global=a,b.globalEnv=c,e&&(b.loader=e),b;}function runScript(a,f,h,c){var d=a.globalEnv,    e=new ExecutionContext(b,d,a,f.bytecode);
ExecutionContext.push(e);var g=$$TopLevelDeclarationInstantiation(f.bytecode);
b===e&&ExecutionContext.pop();if(g&&g.Abrupt)return c(g);resolveImports(a.loader,f.bytecode,function(i){j(f.bytecode.imports,function(a){var b=i[a.origin];
a.name?d.SetMutableBinding(a.name,b):a.specifiers&&j(a.specifiers,function(f,a){if(a==='*')return b.each(function(a){d.SetMutableBinding(a[0],b.Get(a[0]));});var e=b;
j(f,function(a){e=e.Get(a);});if(a[0]!=='@')return d.SetMutableBinding(a,e);a[1]==='@'&&!(e instanceof ao)?c(P('unknown_wellknown_symbol',[a])):e instanceof y?d.InitializeSymbolBinding(a.slice(1),e):c(P('import_not_symbol',[a]));});}),ExecutionContext.push(e);var g=e.run();
b===e&&ExecutionContext.pop(),g&&g.Abrupt?c(g):h(g),runQueue(a);},function(b){j(b,c),runQueue(a);});}function resolveModule(b,f,g,h,c){var a=new Script({ name:g, natives:!0, source:f, scope:'module' });
if(a.error)return c(a.error);e.scripts.push(a);var d=createSandbox(b.Get('global'),b);
runScript(d,a,function(){h(new $Module(d.globalEnv,a.bytecode.exportedNames));},c);}function runQueue(a){if(a.queue.length){for(var c=0;c<a.queue.length;c++){var b=a.queue[c];
b&&(t[b.timerId]=null,b.timerId=d,b.queueIndex=d,b.Call(a.global,[]));}a.queue.length=0;}}function Realm(b){function init(){initialize(a,function(){deactivate(a),a.scripts=[],a.state='idle',a.emit('ready'),typeof b==='function'&&b(a);},function(c){a.state='error',a.emit('throw',c),typeof b==='function'&&b(c);});}var a=this;
_.call(this),H.push(this),this.active=!1,this.quiet=!1,this.initialized=!1,this.mutationScope=null,this.scripts=[],this.queue=[],this.templates={},this.state='bootstrapping',new Intrinsics(this),r(c.FunctionProto,'Scope'),r(this,'intrinsics'),r(this,'natives'),r(this,'templates'),r(this,'scripts'),r(this,'globalEnv'),r(this,'initialized'),r(this,'quiet'),r(this,'mutationScope'),a7(q,function(e){var a=e[0],    b=e[1],    d=a[0]==='_'?a.slice(1):a;
typeof b==='function'?c[d]=new $NativeFunction({ unwrapped:a[0]==='_', length:b.length, name:d, call:b }):c[d]=b;}),this.state='initializing',b===!0?setTimeout(init,10):init();}q.add({wrapper:function(b,a){var c=a[0];
},_eval:function(){function builtinEval(i,f,g){var a=f[0];
if(typeof a!=='string')return a;var c=new Script({ scope:'eval', natives:!1, strict:b.callee?b.callee.Strict:b.code.flags.strict, source:a });
if(c.error)return c.error;if(g)return b.run();var d=new ExecutionContext(b,e.globalEnv,e,c.bytecode);
ExecutionContext.push(d);var h=b.run();
return d===b&&ExecutionContext.pop(),h;}return builtinEval.isBuiltinEval=!0,builtinEval;}(),_FunctionCreate:function(h,d){var f=d.pop();
var a=new Script({ scope:'global', natives:!1, source:'(function anonymous('+d.join(', ')+') {\n'+f+'\n})' });
if(a.error)return a.error;var c=new ExecutionContext(b,e.globalEnv,e,a.bytecode);
ExecutionContext.push(c);var g=c.run();
return c===b&&ExecutionContext.pop(),g;},_BoundFunctionCreate:function(b,a){return new $BoundFunction(a[0],a[1],ac(a[2]));},_ErrorCreate:function(b,a){return new $Error(a[0],d,a[1]);},_ObjectCreate:function(b,a){return new f(a[0]===null?c.Genesis:a[0]);},_ProxyCreate:function(b,a){return new Q(a[0],a[1]);},_SymbolCreate:function(b,a){return new y(a[0],a[1]);},_RegExpCreate:function(e,b){var a=b[0],    c=b[1];
typeof a==='object'&&(a=a.PrimitiveValue);try{var d=new RegExp(a,c);
}catch(b){return h('invalid_regexp',[a+'']);}return new $RegExp(d);},_MapInitialization:CollectionInitializer(M,'Map'),_WeakMapInitialization:CollectionInitializer(X,'WeakMap')});var g=l.internalModules=function(a){return o({},[function set(b,c){a[b]=new $NativeModule(c),a[b].mrl=b;},function has(b){return b in a;},function get(b){return a[b];},function remove(b){return this.has(b)?(delete a[b],!0):!1;}]);}(new m());
void function(){var k={    Array:p,    Boolean:createBoolean,    Error:$Error,    Function:$Function,    Module:$Module,    Number:createNumber,    Object:f,    Proxy:Q,    RegExp:$RegExp,    Symbol:y,    String:createString    };
var i=Math.random()*1e6<<10;
var c=Date.now||function(){    return+new Date();    };
g.set('@@internals',{$$ArgumentCount:function(){return b.argumentCount();},$$Assert:function(b,a){return a[0]===!0?!0:h('assertion_failed',['$$Assert']);},$$AssertIsInternalArray:function(b,a){return a[0]instanceof Array?!0:h('assertion_failed',['$$AssertIsInternalArray']);},$$AssertIsECMAScriptValue:function(b,a){return typeof a[0]!=='object'||a[0]===null&&a[0].DefineOwnProperty?!0:h('assertion_failed',['$$AssertIsECMAScriptValue:']);},$$AssertWontThrow:function(b,a){return!a[0]||!a[0].Abrupt?!0:h('assertion_failed',['$$AssertWontThrow']);},$$Call:function(c,a){var b=a[0].Call?a[0].call:a[0];
switch(args.length){case 1:return b();case 2:return b.call(a[1]);case 3:return b.call(a[1],a[2]);case 4:return b.call(a[1],a[2],a[3]);case 5:return b.call(a[1],a[2],a[3],a[4]);case 6:return b.call(a[1],a[2],a[3],a[4],a[5]);default:return b.apply(a[1],a.slice(2));}},$$CallerArgumentCount:function(){return b.caller?b.argumentCount():null;},$$CallerHasArgument:function(c,a){return b.caller?b.caller.hasArgument(a[0]):!1;},$$CallerName:function(){return b.callerName();},$$CallerIsConstruct:function(){return b.caller?b.caller.isConstruct:!1;},$$ClearImmediate:function(e,c){var b=c[0];
var a=t[b];
a&&(a.Realm.queue[a.queueIndex]=null,t[b]=null,a.queueIndex=d,a.timerId=d);},$$ClearTimer:function(c,b){var a=b[0];
t[a]&&(t[a]=null);},$$CreateObject:function(b,a){return new k[a[0]](a[1]);},$$CreateArray:function(c,a){var b=new p(a[1]);
return a[0]!==e&&(b.Realm=a[0],b.Prototype=a[0].intrinsics['%ArrayPrototype%']),b;},$$CreateInternalObject:function(b,a){return z(a[0]||null);},$$CurrentRealm:function(){return e;},$$Enumerate:function(b,a){return new p(a3(a[0]));},$$EnumerateAll:function(e,d){var a=d[0],    b=new m(),    c=[];
while(a instanceof f)j(a3(a),function(a){!(a in b)&&(b[a]=c.push(a));}),a=ay(a);return new p(c);},$$EvaluateModule:function(h,b){var d=b[0],    f=b[1],    g=b[2];
var a, c;
return e.evaluateModule(d,f,g,function(b){a=b;},function(b){a=b,c=!0;}),c?new C('throw',a):a;},$$EvaluateModuleAsync:function(h,a){var b=a[0],    c=a[1],    d=a[2],    f=a[3],    g=a[4];
e.evaluateModule(b,c,d,wrapFunction(f),wrapFunction(g));},$$Exception:function(d,a){var c=a[0],    b=a[1];
return P(c,b?b.array:[]);},$$Fetch:function(g,c){var e=c[0],    f=c[1];
var b=a('./builtins')[e];
!b&&(b=new $Error('Error',d,'Unable to locate module "'+e+'"')),f.Call(d,[b]);},$$Get:function(e,b){var d=b[0],    c=b[1],    a=d[c];
return typeof a==='function'?a._wraps||(a._wraps=new $NativeFunction({ length:a.length, name:c, call:a })):a;},$$GetIntrinsic:function(b,a){return e.intrinsics[a[0]];},$$HasArgument:function(c,a){return b.hasArgument(a[0]);},$$Has:function(b,a){return a[1]in a[0];},$$Invoke:function(d,a){var b=a[0],    c=a[1];
if(b[c])switch(args.length){case 2:return b[c]();case 3:return b[c](a[2]);case 4:return b[c](a[2],a[3]);case 5:return b[c](a[2],a[3],a[4]);case 6:return b[c](a[2],a[3],a[4],a[5]);default:return b[c].apply(b,a.slice(2));}return h('unknown_internal_function',[c]);},$$IsConstruct:function(){return b.isConstruct;},$$Now:c,$$NumberToString:function(b,a){return a[0].toString(a[1]||10);},$$ParseDate:Date.parse?function(b,a){return Date.parse(a[0]);}:function(a,b){return NaN;},$$RegExpExec:function(d,a){var b=a[0].PrimitiveValue.exec(a[1]);
if(b){var c=new p(b);
return c.set('index',b.index),c.set('input',a[1]),c;}return null;},$$Resolve:function(){if(a('path')){var b=a('path').resolve;
return function(e,a){var c=a[0],    d=a[1];
return b(c,d);};}return function(g,d){var e=d[0],    f=d[1];
var a=e.split('/'),    c=f.split('/');
a.length--;for(var b=0;b<c.length;b++)c[b]==='..'?a.length--:c[b]!=='.'&&(a[a.length]=c[b]);return a.join('/');};}(),$$Set:function(c,b){var a=b[2];
return a&&a.Call&&(a=wrapFunction(a)),b[0][b[1]]=a;},$$SetTimer:function(j,b){var f=b[0],    d=b[1],    g=b[2];
var a=i++,    h=c();
return t[a]=setTimeout(function trigger(){if(t[a]){f.Call(e.global,[]);var b=c(),    i=b-h-d;
h=b,t[a]=g?setTimeout(trigger,d-i):null,deliverChangeRecordsAndReportErrors();}(!g||!t[a])&&(f=null);},d),a;},$$SetImmediate:function(d,c){var a=c[0];
if(a.timerId==null){var b=a.Realm.queue;
a.queueIndex=b.length,a.timerId=i++,b[b.length]=a,t[a.timerId]=a;}return a.timerId;},$$SetIntrinsic:function(b,a){e.intrinsics[a[0]]=a[1];},$$StringToNumber:function(b,a){return+a[0];},$$ToModule:function(c,b){var a=b[0];
return new $Module(a,a.Enumerate(!1,!1));}});}(),g.set('@@constants',{DST_START_MONTH:q.get('DST_START_MONTH'),DST_START_SUNDAY:q.get('DST_START_SUNDAY'),DST_START_OFFSET:q.get('DST_START_OFFSET'),DST_END_MONTH:q.get('DST_END_MONTH'),DST_END_SUNDAY:q.get('DST_END_SUNDAY'),DST_END_OFFSET:q.get('DST_END_OFFSET'),LOCAL_TZ:q.get('LOCAL_TZ'),MAX_INTEGER:9007199254740992,MAX_VALUE:1.7976931348623157e308,MIN_VALUE:5e-324,NaN:+'NaN',POSITIVE_INFINITY:1/0,NEGATIVE_INFINITY:1/-0}),g.set('@@symbols',u);var i=new Script('void 0');
return k(Realm,_,[function enterMutationContext(){mutationContext(this,!0);},function exitMutationContext(){mutationContext(this,!1);},function evaluateModule(d,e,a,b,c){typeof b!=='function'&&(typeof a==='function'?(b=a,a=''):b=noop),typeof c!=='function'&&(c=noop),resolveModule(d,e,a,b,c);},function evaluateAsync(e,b,c){var a=new Script(e),    d=this;
return b||(b=noop),c||(c=b),a.error?ap(function(){d.emit(a.error.type,a.error),c(a.error);}):(this.scripts.push(a),runScript(this,a,function(a){d.emit('complete',a),b(a);},function(a){d.emit('throw',a),c(a);})),this;},function evaluate(c){activate(this);var a=new Script(c);
if(a.error)return this.emit('throw',a.error),a.error;this.scripts.push(a);var b=prepareToRun(a.bytecode,this.globalEnv)||run(this,a.bytecode);
return this.emit(b&&b.Abrupt?'throw':'complete',b),runQueue(this),b;},function useConsole(a){return a.error&&this.on('throw',function(b){a.error(b.value);}),a.clear&&this.on('clear',function(){a.clear();}),this.on('inspect',function(b,c){b=b.array,c?a.dir(b[0]):a.log.apply(a,b);}),this;}]),Realm;}();
var H=[],    R=[],    e=null,    v=null,    b=null,    c=null;
return l.Realm=Realm,l.Script=Script,l.$NativeFunction=$NativeFunction,l.activeRealm=function activeRealm(){return!e&&H.length&&activate(H[H.length-1]),e;},l.activeContext=function activeContext(){return b;},l;}((0,eval)('this'),typeof d!=='undefined'?d.exports:{}),c.debug=function(p){function always(a){return function(){return a;};}function alwaysCall(b,a){return a||(a=[]),function(){return b.apply(null,a);};}function isNegativeZero(a){return a===0&&1/a===-Infinity;}function Mirror(){}function MirrorValue(a,b){this.subject=a,this.type=typeof a,this.kind=O(a)+'Value',this.type==='number'&&isNegativeZero(a)&&(b='-0'),this.label=always(b);}function MirrorStringValue(a){this.subject=a;}function MirrorNumberValue(a){this.subject=a;}function introspect(a){switch(typeof subject){case'undefined':return i;case'boolean':return a?y:z;case'string':return a===''?H:a.length<20?a in n?n[a]:n[a]=new MirrorStringValue(a):new MirrorStringValue(a);case'number':if(a!==a)return A;switch(a){case Infinity:return u;case-Infinity:return C;case 0:return 1/a===-Infinity?E:D;case 1:return F;case-1:return G;}return a in o?o[a]:o[a]=new MirrorNumberValue(a);case'object':return a==null?m:a instanceof Mirror?a:a.__introspected?a.__introspected:a.Environment?new MirrorScope(a):a.Completion?new MirrorThrown(a.value):a.BuiltinBrand?a.Proxy?new MirrorProxy(a):a.BuiltinBrand in B?new B[a.BuiltinBrand](a):a.Call?new MirrorFunction(a):new MirrorObject(a):i;}}'use strict';var e=a('./lib/objects'),    Q=a('./lib/iteration'),    x=a('./lib/utility'),    R=a('./constants'),    J=a('./runtime');
var N=e.isObject,    c=e.inherit,    r=e.create,    g=e.define,    L=e.assign,    M=e.properties,    l=e.hasOwn,    O=e.getBrandOf,    f=e.Hash,    s=Q.each,    w=x.quotes,    K=x.uid,    d=J.activeRealm;
var h=1,    k=2,    q=4,    j=8;
var I=Date.now||function I(){    return+new Date();    };
g(Mirror.prototype,{destroy:function(){this.subject=null,this.destroy=null;},type:null,getPrototype:function(){return m;},get:function(){return i;},getValue:function(){return i;},kind:'Unknown',label:always(''),hasOwn:always(null),has:always(null),list:alwaysCall(Array),inheritedAttrs:alwaysCall(r,[null]),ownAttrs:alwaysCall(r,[null]),getterAttrs:alwaysCall(r,[null]),isExtensible:always(null),isEnumerable:always(null),isConfigurable:always(null),getOwnDescriptor:always(null),getDescriptor:always(null),describe:always(null),isAccessor:always(null),isWritable:always(null),query:always(null)}),c(MirrorValue,Mirror),c(MirrorStringValue,MirrorValue,{ label:always('string'), kind:'StringValue', type:'string' }),c(MirrorNumberValue,MirrorValue,{ label:always('number'), kind:'NumberValue', type:'number' });var t=K();
var MirrorPrototypeAccessor=function(){function MirrorPrototypeAccessor(a,b,c){this.holder=a,this.subject=b,this.key=c;}return c(MirrorPrototypeAccessor,Mirror,{ accessor:!0, kind:'Accessor' },[function a(){var a=[];
return this.subject.Get&&a.push('Getter'),this.subject.Set&&a.push('Setter'),a.join('/');},function getName(){return(this.subject.Get||this.subject.Set).get('name');}]),MirrorPrototypeAccessor;}();
var MirrorObject=function(){function MirrorObject(a){a.__introspected=this,this.subject=a,this.accessors=new f();}return c(MirrorObject,Mirror,{ kind:'Object', type:'object', parentLabel:'[[proto]]', attrs:null, props:null },[function destroy(){this.__introspected=null,this.destroy=null;},function get(a){if(this.isAccessor(a)){var b=this.describe(a),    c=b[1]||b[3];
return!this.accessors[a]&&(this.subject.IsProto?this.accessors[a]=new MirrorPrototypeAccessor(this.subject,c,a):this.accessors[a]=new MirrorAccessor(this.subject,c,a)),this.accessors[a];}else{var b=this.subject.describe(a);
return b?introspect(b[1]):this.getPrototype().get(a);}},function describe(a){return this.subject.describe(a)||this.getPrototype().describe(a);},function isClass(){return!!this.subject.Class;},function getBrand(){return this.subject.BuiltinBrand;},function getValue(a){return this.get(a).subject;},function getPrototype(){var a=this.subject;
do a=a.GetInheritance();while(a&&a.HiddenPrototype);return introspect(a);},function setPrototype(b){d().enterMutationContext();var a=this.subject.Prototype;
if(a&&a.HiddenPrototype)var c=a.SetInheritance(b);
else var c=this.subject.SetInheritance(b);
return d().exitMutationContext(),introspect(c);},function set(a,b){d().enterMutationContext();var c=introspect(this.subject.set(a,b));
return d().exitMutationContext(),c;},function update(a,b){d().enterMutationContext();var c=introspect(this.subject.update(a,b));
return d().exitMutationContext(),c;},function defineProperty(c,a){a=Object(a);var b={};
'value'in a&&(b.Value=a.value),'get'in a&&(b.Get=a.get),'set'in a&&(b.Set=a.set),'enumerable'in a&&(b.Enumerable=a.enumerable),'configurable'in a&&(b.Configurable=a.configurable),'writable'in a&&(b.Writable=a.writable),d().enterMutationContext();var e=this.subject.DefineOwnProperty(c,b,!1);
return d().exitMutationContext(),e;},function l(a){return this.subject?this.subject.has(a):!1;},function has(a){return this.hasOwn(a)||this.getPrototype().has(a);},function isExtensible(a){return this.subject.IsExtensible();},function getDescriptor(a){return this.getOwnDescriptor(a)||this.getPrototype().getDescriptor(a);},function getOwnDescriptor(b){var a=this.subject.describe(b);
if(a)return a[2]&j?{ name:a[0], get:a[1].Get, set:a[1].Set, enumerable:(a[2]&h)>0, configurable:(a[2]&k)>0 }:{ name:a[0], value:a[1], writable:(a[2]&q)>0, enumerable:(a[2]&h)>0, configurable:(a[2]&k)>0 };},function getInternal(a){return this.subject[a];},function isEnumerable(a){return(this.query(a)&h)>0;},function isConfigurable(a){return(this.query(a)&k)>0;},function isAccessor(a){return(this.query(a)&j)>0;},function isWritable(b){var a=this.subject.describe(b);
return a?!!(a[2]&j?a[1].Set:a[2]&q):this.subject.IsExtensible();},function query(a){var b=this.subject.query(a);
return b===null?this.getPrototype().query(a):b;},function toStringTag(){return this.subject.toStringTag?this.subject.toStringTag():'';},function label(){var c=this.toStringTag();
if(c)return c;var a=this.subject.BuiltinBrand;
if(a&&a!=='BuiltinObject')return v[a];if(this.subject.ConstructorName)return this.subject.ConstructorName;if(this.has('constructor')){var b=this.get('constructor').get('name');
if(b.subject&&typeof b.subject==='string')return b.subject;}return'Object';},function inheritedAttrs(){return this.ownAttrs(this.getPrototype().inheritedAttrs());},function ownAttrs(a){return a||(a=new f()),this.subject.each(function(b){var c=b[0]==='__proto__'?t:b[0];
a[c]=b;}),a;},function getterAttrs(d){var c=this.getPrototype().getterAttrs(),    a=this.ownAttrs();
for(var b in a)(d||a[b][2]&j)&&(c[b]=a[b]);return c;},function list(e,b){var c=[],    d=b?this.ownAttrs():b===!1?this.inheritedAttrs():this.getterAttrs(!0);
for(var f in d){var a=d[f];
(e||!a[0].Private&&a[2]&h)&&c.push(a[0]);}return c.sort();}]),MirrorObject;}();
var MirrorArray=function(){function MirrorArray(a){MirrorObject.call(this,a);}return c(MirrorArray,MirrorObject,{ kind:'Array' },[function list(f,b){var c=[],    d=[],    g=this.getValue('length'),    e=b?this.ownAttrs():b===!1?this.inheritedAttrs():this.getterAttrs(!0);
for(var i in e){var a=e[i];
(f||!a[0].Private&&a[2]&h)&&(a[0]>=0&&a[0]<g?d.push(a[0]):c.push(a[0]));}return d.concat(c.sort());}]),MirrorArray;}();
var MirrorArguments=function(){function MirrorArguments(a){MirrorObject.call(this,a);}return c(MirrorArguments,MirrorArray,{ kind:'Arguments' }),MirrorArguments;}();
var MirrorArrayBufferView=function(){function MirrorArrayBufferView(a){MirrorObject.call(this,a);}return c(MirrorArrayBufferView,MirrorArray,{ kind:'ArrayBuffer' },[function label(){return v[this.subject.BuiltinBrand];}]),MirrorArrayBufferView;}();
var MirrorDate=function(){function MirrorDate(a){MirrorObject.call(this,a);}return c(MirrorDate,MirrorObject,{ kind:'Date' },[function primitiveValue(){return this.subject.DateValue;},function label(){var a=this.subject.Get('toLocaleString');
return a?a.Call(this.subject,[]):'Invalid Date';}]),MirrorDate;}();
var MirrorError=function(){function MirrorError(a){MirrorObject.call(this,a);}return c(MirrorError,MirrorObject,{ kind:'Error' },[function label(){return this.getValue('name');}]),MirrorError;}();
var MirrorThrown=function(){function MirrorThrown(a){if(!N(a))return introspect(a);MirrorError.call(this,a);}return c(MirrorThrown,MirrorError,{ kind:'Thrown' },[function getError(){return this.subject.BuiltinBrand==='StopIteration'?'StopIteration':this.getValue('name')+': '+this.getValue('message');},function origin(){var a=this.getValue('filename')||'',    b=this.getValue('origin')||'';
return a&&b?b+' '+a:b+a;},function trace(){return this.subject.trace;},function context(){return this.subject.context;}]),MirrorThrown;}();
var MirrorFunction=function(){function MirrorFunction(a){MirrorObject.call(this,a);}return c(MirrorFunction,MirrorObject,{ type:'function', kind:'Function' },[function getName(){return this.subject.get('name');},function getDetails(){var a=this.subject.FormalParameters;
return a&&a.reduced?a.reduced:{ params:[], defaults:[], name:this.getName(), rest:null };},function apply(a,b){a.subject&&(a=a.subject),d().enterMutationContext();var c=this.subject.Call(a,b);
return d().exitMutationContext(),introspect(c);},function construct(a){if(this.subject.Construct){d().enterMutationContext();var b=this.subject.Construct(a);
return d().exitMutationContext(),introspect(b);}else return!1;},function getScope(){return introspect(this.subject.Scope);},function isStrict(){return!!this.subject.Strict;},function isClass(){return!!this.subject.IsClass;},function isConstructor(){return!!this.subject.IsConstructor||this.subject.constructCount>0;},function ownAttrs(a){var b=this.isStrict();
return a||(a=new f()),this.subject.each(function(b){if(!b[0].Private){var c=b[0]==='__proto__'?t:b[0];
a[c]=b;}}),a;}]),MirrorFunction;}();
var MirrorGlobal=function(){function MirrorGlobal(a){MirrorObject.call(this,a);}return c(MirrorGlobal,MirrorObject,{ kind:'Global' },[function getEnvironment(){return introspect(this.subject.env);}]),MirrorGlobal;}();
var MirrorJSON=function(){function MirrorJSON(a){MirrorObject.call(this,a);}return c(MirrorJSON,MirrorObject,{ kind:'JSON' }),MirrorJSON;}();
var MirrorMath=function(){function MirrorMath(a){MirrorObject.call(this,a);}return c(MirrorMath,MirrorObject,{ kind:'Math' }),MirrorMath;}();
var MirrorModule=function(){function MirrorModule(a){MirrorObject.call(this,a);}return c(MirrorModule,MirrorObject,{ kind:'Module' },[function get(a){if(this.isAccessor(a)){if(!this.accessors[a]){var b=this.describe(a),    c=b[1]||b[3];
d().enterMutationContext(),this.accessors[a]=introspect(c.Get.Call(this.subject,[])),d().exitMutationContext();}return this.accessors[a];}else return introspect(this.subject.get(a));}]),MirrorModule;}();
var MirrorRegExp=function(){function MirrorRegExp(a){MirrorObject.call(this,a);}return c(MirrorRegExp,MirrorObject,{ kind:'RegExp' },[function label(){return this.subject.PrimitiveValue+'';}]),MirrorRegExp;}();
var MirrorPrimitiveWrapper=function(){function MirrorPrimitiveWrapper(a){MirrorObject.call(this,a);}return c(MirrorPrimitiveWrapper,MirrorObject,{ kind:'PrimitiveWrapper' },[function primitiveValue(){return this.subject.getPrimitiveValue();},function primitiveLabel(){return''+this.primitiveValue();},function label(){return MirrorObject.prototype.label.call(this)+'('+this.primitiveLabel()+')';}]),MirrorPrimitiveWrapper;}();
var MirrorBoolean=function(){function MirrorBoolean(a){MirrorObject.call(this,a);}return c(MirrorBoolean,MirrorPrimitiveWrapper,{ kind:'Boolean' },[function primitiveValue(){return this.subject.BooleanValue;}]),MirrorBoolean;}();
var MirrorNumber=function(){function MirrorNumber(a){MirrorObject.call(this,a);}return c(MirrorNumber,MirrorPrimitiveWrapper,{ kind:'Number' },[function primitiveValue(){return this.subject.NumberValue;}]),MirrorNumber;}();
var MirrorString=function(){function MirrorString(a){MirrorObject.call(this,a);}return c(MirrorString,MirrorPrimitiveWrapper,{ kind:'String' },[MirrorArray.prototype.list,function primitiveValue(){return this.subject.StringValue;},function primitiveLabel(){return w(this.subject.StringValue);}]),MirrorString;}();
var MirrorSymbol=function(){function MirrorSymbol(a){MirrorObject.call(this,a);}return c(MirrorSymbol,MirrorObject,{ kind:'Symbol' },[function label(){return'@'+(this.subject.Name||'Symbol');},function isPrivate(){return this.subject.Private;}]),MirrorSymbol;}();
var MirrorCollection=function(){function CollectionIterator(a){this.guard=this.current=a.guard,this.index=0;}function MirrorCollection(a){MirrorObject.call(this,a);}return g(CollectionIterator.prototype,[function next(){if(!this.current||this.current.next===this.guard)throw this.guard=this.current=null,StopIteration;return this.index++,this.current=this.current.next;}]),c(MirrorCollection,MirrorObject,[function count(){return this.data.size;},function __iterator__(){return new CollectionIterator(this.data);}]),MirrorCollection;}();
var MirrorNil=function(){function MirrorNil(a){MirrorObject.call(this,a);}return c(MirrorNil,MirrorObject,{ kind:'Nil' },[function label(){return'nil';}, function list(){return[];}]),MirrorNil;}();
var MirrorSet=function(){function MirrorSet(b){MirrorCollection.call(this,b);var a=this.subject.SetData;
a&&(this.data=a.MapData);}return c(MirrorSet,MirrorCollection,{ kind:'Set' },[]),MirrorSet;}();
var MirrorMap=function(){function MirrorMap(a){MirrorCollection.call(this,a),this.data=this.subject.MapData;}return c(MirrorMap,MirrorCollection,{ kind:'Map' },[]),MirrorMap;}();
var MirrorWeakMap=function(){function MirrorWeakMap(a){MirrorObject.call(this,a);}return c(MirrorWeakMap,MirrorObject,{ kind:'WeakMap' }),MirrorWeakMap;}();
var MirrorAccessor=function(){function MirrorAccessor(a,b,c){this.holder=a,this.accessor=b,this.key=c,this.refresh();}function forward(f,h){if(l(MirrorAccessor.prototype,h))return;var a=f+'',    b=a.indexOf('('),    c=a.slice(a.indexOf(' ')+1,b),    d=a.slice(b,a.indexOf(')')+1),    e='this.introspected.'+c,    i=new Function('return function '+c+d+'{ this.refresh(); if ('+e+') return '+e+d+' }')();
g(MirrorAccessor.prototype,i);}return c(MirrorAccessor,Mirror,{ accessor:!0 },[function refresh(){var c=I();
if(this.cooldown&&c-this.cooldown<1e4)return;this.cooldown=c;if(this.cooldown)if(this.accessor.Get)if(this.accessor.Get.IsStrictThrower){var a=this.accessor.Get;
this.refresh=function(){return this;};}else{d().enterMutationContext();var a=this.accessor.Get.Call(this.holder,[]);
d().exitMutationContext();}else var a=b;
return(a!==this.subject||!this.introspected)&&(this.subject=a,this.introspected=introspect(a),this.kind=this.introspected.kind,this.type=this.introspected.type),this;},function destroy(){this.introspected.destroy&&this.introspected.destroy(),this.subject=null,this.destroy=null,this.holder=null,this.key=null;}]),s([MirrorObject, MirrorFunction, MirrorThrown, MirrorPrimitiveWrapper],function(a){s(M(a.prototype),function(b){typeof a.prototype[b]==='function'&&forward(a.prototype[b],b);});}),MirrorAccessor;}();
var MirrorProxy=function(){function MirrorProxy(a){if(a.__introspected)return a.__introspected;a.__introspected=this,this.subject=a,'Call'in a&&(this.type='function'),this.target=introspect(a.ProxyTarget),this.cache=new f(),this.kind=this.target.kind,(this.kind==='Scope'||this.kind==='Global')&&(this.kind='Object');}function descToAttrs(a){if(a)return'Value'in a?a.Enumerable|a.Configurable<<1|a.Writable<<2:a.Enumerable|a.Configurable<<1|j;}function attrsToDesc(a){var b={};
return a>0&&(a&h&&(b.Enumerable=!0),a&k&&(b.Configurable=!0),a&q&&(b.Writable=!0)),b;}return c(MirrorProxy,Mirror,{ type:'object' },[MirrorObject.prototype.getInternal,MirrorObject.prototype.isExtensible,MirrorObject.prototype.getPrototype,MirrorObject.prototype.setPrototype,MirrorObject.prototype.inheritedAttrs,MirrorObject.prototype.getterAttrs,MirrorObject.prototype.isEnumerable,MirrorObject.prototype.isConfigurable,MirrorObject.prototype.isAccessor,MirrorObject.prototype.isWritable,MirrorObject.prototype.getDescriptor,MirrorObject.prototype.defineProperty,MirrorFunction.prototype.apply,MirrorFunction.prototype.construct,function getName(){return this.subject.Get('name');},function getDetails(){return this.target.getDetails();},function getScope(){return this.target.getScope();},function isConstructor(){return this.target.isConstructor()||this.subject.constructCount>0;},function isClass(){return this.target.isClass();},function isStrict(){return this.target.isStrict();},function list(a,b){return this.target.list.call(this,a,b);},function label(){return this.target.label();},function set(a,b){d().enterMutationContext();var c=introspect(this.subject.Set(a,b));
return d().exitMutationContext(),c;},function update(a,b){d().enterMutationContext();var c=introspect(this.subject.DefineOwnProperty(a,attrsToDesc(b)));
return d().exitMutationContext(),c;},function query(b){var a=this.describe(b);
if(a)return a[2];},function get(a){return introspect(this.getValue(a));},function getValue(a){var b=a in this.cache?this.cache[a]:this.describe(a);
if(b)return b[1];},function l(a){return this.subject.HasOwnProperty(a);},function has(a){return this.subject.HasProperty(a);},function scheduleReset(){if(!this.resetScheduled){this.resetScheduled=!0;var a=this;
setTimeout(function(){a.enumerated=!1,a.resetScheduled=!1,a.cache=new f();},15);}},function describe(a){if(a in this.cache)return this.cache[a];if(a!=='__proto__'){var c=this.subject.GetOwnProperty(a);
this.scheduleReset();if(c){if('Get'in c||'Set'in c)var d={ Get:c.Get, Set:c.Set };
else var d=c.Value;
this.cache[a]=[a, d, descToAttrs(c)];}else this.cache[a]=b;return this.cache[a];}},function ownAttrs(c){if(this.enumerated)return this.cache;this.enumerated=!0;var b=this.subject.Enumerate(!1,!1);
for(var a=0;a<b.length;a++)this.describe(b[a]);return this.cache;}]),MirrorProxy;}();
var MirrorScope=function(){function MirrorScope(a){if(a.type==='GlobalEnv')return new MirrorGlobalScope(a);a.__introspected=this,this.subject=a;}return c(MirrorScope,Mirror,{kind:'Scope',type:'scope',parentLabel:'[[outer]]',isExtensible:always(!0),isEnumerable:always(!0),isAccessor:always(!1)},[function outer(){return introspect(this.subject.outer);},function isAccessor(a){return this.getPrototype().isAccessor(a)||!1;},function getPrototype(){return introspect(this.subject.outer);},function getValue(a){return this.subject.GetBindingValue(a);},function get(a){return introspect(this.subject.GetBindingValue(a));},function getOwn(a){if(this.hasOwn(a))return introspect(this.subject.GetBindingValue(a));},function label(){return this.subject.type;},function l(a){return this.subject.HasBinding(a);},function has(a){return this.subject.HasBinding(a)||this.getPrototype().has(a);},function inheritedAttrs(){return this.ownAttrs(this.getPrototype().inheritedAttrs());},function ownAttrs(a){return a||(a=new f()),s(this.subject.EnumerateBindings(),function(b){b=b==='__proto__'?t:b,a[b]=[b, null, 7];}),a;},function isClass(){return!!this.subject.Class;},function list(e,a){a=!0;var b=a?this.ownAttrs():this.inheritedAttrs(),    c=[];
for(var d in b)c.push(b[d][0]);return c.sort();},function isConfigurable(a){return!(this.subject.deletables&&a in this.subject.deletables);},function isWritable(a){return!(this.subject.consts&&a in this.subject.consts);},function getOwnDescriptor(a){if(this.hasOwn(a))return{ configurable:this.isConfigurable(a), enumerable:!0, writable:this.isWritable(a), value:this.get(a) };},function getDescriptor(a){return this.getOwnDescriptor(a)||this.getPrototype().getDescriptor(a);},function describe(a){return[this.subject.GetBindingValue(a), value, this.query(a)];},function query(a){return 1|this.isConfigurable(a)<<1|this.isWritable(a)<<2;}]),MirrorScope;}();
var MirrorGlobalScope=function(){function MirrorGlobalScope(a){a.__introspected=this,this.subject=a,this.global=introspect(a.bindings);}return c(MirrorGlobalScope,MirrorScope,{},[function isExtensible(){return this.global.isExtensible();},function isEnumerable(a){return this.global.isEnumerable(a);},function isConfigurable(a){return this.global.isConfigurable(a);},function isWritable(a){return this.global.isWritable(a);},function isAccessor(a){return this.global.isAccessor(a);},function query(a){return this.global.query(a);},function describe(a){return this.global.describe(a);},function getDescriptor(a){return this.global.getDescriptor(a);},function getOwnDescriptor(a){return this.global.getOwnDescriptor(a);},function inheritedAttrs(){return this.global.inheritedAttrs();},function ownAttrs(a){return this.global.ownAttrs(a);},function list(a,b){return this.global.list(a,b);}]),MirrorGlobalScope;}();
var v={    BuiltinArguments:'Arguments',    BuiltinArray:'Array',    BuiltinArrayBuffer:'ArrayBuffer',    BooleanWrapper:'Boolean',    BuiltinDataView:'DataView',    BuiltinDate:'Date',    BuiltinError:'Error',    BuiltinFunction:'Function',    GlobalObject:'global',    BuiltinJSON:'JSON',    BuiltinMap:'Map',    BuiltinMath:'Math',    BuiltinModule:'Module',    BuiltinNil:'Nil',    NumberWrapper:'Number',    BuiltinRegExp:'RegExp',    BuiltinSet:'Set',    StringWrapper:'String',    BuiltinSymbol:'Symbol',    BuiltinWeakMap:'WeakMap',    BuiltinInt8Array:'Int8Array',    BuiltinUint8Array:'Uint8Array',    BuiltinInt16Array:'Int16Array',    BuiltinUint16Array:'Uint16Array',    BuiltinInt32Array:'Int32Array',    BuiltinUint32Array:'Uint32Array',    BuiltinFloat32Array:'Float32Array',    BuiltinFloat64Array:'Float64Array'    };
var B={    BuiltinArguments:MirrorArguments,    BuiltinArray:MirrorArray,    BooleanWrapper:MirrorBoolean,    BuiltinDate:MirrorDate,    BuiltinError:MirrorError,    BuiltinFunction:MirrorFunction,    GlobalObject:MirrorGlobal,    BuiltinJSON:MirrorJSON,    BuiltinMap:MirrorMap,    BuiltinMath:MirrorMath,    BuiltinModule:MirrorModule,    BuiltinNil:MirrorNil,    NumberWrapper:MirrorNumber,    BuiltinRegExp:MirrorRegExp,    BuiltinSet:MirrorSet,    StringWrapper:MirrorString,    BuiltinSymbol:MirrorSymbol,    BuiltinWeakMap:MirrorWeakMap,    BuiltinInt8Array:MirrorArrayBufferView,    BuiltinUint8Array:MirrorArrayBufferView,    BuiltinInt16Array:MirrorArrayBufferView,    BuiltinUint16Array:MirrorArrayBufferView,    BuiltinInt32Array:MirrorArrayBufferView,    BuiltinUint32Array:MirrorArrayBufferView,    BuiltinFloat32Array:MirrorArrayBufferView,    BuiltinFloat64Array:MirrorArrayBufferView    };
var m=new MirrorValue(null,'null'),    i=new MirrorValue(b,'undefined'),    y=new MirrorValue(!0,'true'),    z=new MirrorValue(!1,'false'),    A=new MirrorValue(NaN,'NaN'),    u=new MirrorValue(Infinity,'Infinity'),    C=new MirrorValue(-Infinity,'-Infinity'),    D=new MirrorValue(0,'0'),    E=new MirrorValue(-0,'-0'),    F=new MirrorValue(1,'1'),    G=new MirrorValue(-1,'-1'),    H=new MirrorValue('','\'\'');
var o=new f(),    n=new f();
var Renderer=function(){function alwaysLabel(a){return a.label();}function Renderer(a){if(a)for(var b in this)b in a&&(this[b]=a[b]);}return g(Renderer.prototype,[function render(b){var a=introspect(b);
return this[a.kind](a);}]),L(Renderer.prototype,{Unknown:alwaysLabel,BooleanValue:alwaysLabel,StringValue:function(a){return w(a.subject);},NumberValue:function(a){var b=a.label();
return b==='number'?a.subject:b;},UndefinedValue:alwaysLabel,NullValue:alwaysLabel,Thrown:function(a){return a.getError();},Accessor:alwaysLabel,Arguments:alwaysLabel,Array:alwaysLabel,ArrayBuffer:alwaysLabel,Boolean:alwaysLabel,Date:alwaysLabel,Error:function(a){return a.getValue('name')+': '+a.getValue('message');},Function:alwaysLabel,Global:alwaysLabel,JSON:alwaysLabel,Map:alwaysLabel,Math:alwaysLabel,Module:alwaysLabel,Nil:alwaysLabel,Object:alwaysLabel,Number:alwaysLabel,RegExp:alwaysLabel,Scope:alwaysLabel,Set:alwaysLabel,Symbol:alwaysLabel,String:alwaysLabel,WeakMap:alwaysLabel}),Renderer;}();
var P=new Renderer();
return g(p,[function basicRender(a){return P.render(a);},function createRenderer(a){return new Renderer(a);},function isMirror(a){return a instanceof Mirror;},introspect,Renderer]),g(p,'mirrors',{Mirror:Mirror,MirrorValue:MirrorValue,MirrorNull:m,MirrorUndefined:i,MirrorTrue:y,MirrorFalse:z,MirrorStringValue:MirrorStringValue,MirrorEmpty:H,MirrorNumberValue:MirrorNumberValue,MirrorInfinity:u,MirrorNaN:A,MirrorNegInfinity:C,MirrorZero:D,MirrorNegZero:E,MirrorOne:F,MirrorNegOne:G,MirrorPrototypeAccessor:MirrorPrototypeAccessor,MirrorObject:MirrorObject,MirrorArray:MirrorArray,MirrorArguments:MirrorArguments,MirrorArrayBufferView:MirrorArrayBufferView,MirrorPrimitiveWrapper:MirrorPrimitiveWrapper,MirrorBoolean:MirrorBoolean,MirrorNumber:MirrorNumber,MirrorString:MirrorString,MirrorDate:MirrorDate,MirrorError:MirrorError,MirrorThrown:MirrorThrown,MirrorFunction:MirrorFunction,MirrorGlobal:MirrorGlobal,MirrorJSON:MirrorJSON,MirrorMath:MirrorMath,MirrorModule:MirrorModule,MirrorNil:MirrorNil,MirrorRegExp:MirrorRegExp,MirrorSymbol:MirrorSymbol,MirrorCollection:MirrorCollection,MirrorSet:MirrorSet,MirrorMap:MirrorMap,MirrorWeakMap:MirrorWeakMap,MirrorAccessor:MirrorAccessor,MirrorProxy:MirrorProxy,MirrorScope:MirrorScope,MirrorGlobalScope:MirrorGlobalScope}),p;}(typeof d!=='undefined'?d.exports:{}),c.index=function(k){function createInterceptor(b,a){!a&&typeof b==='function'&&(a=b,b=fname(a));var e=new c({    name:b||'',    length:a.length,    call:function(){    var b=new $IndexedInterceptor(a.apply(null,arguments));
    return b.Prototype=e.get('prototype'),b;    },    construct:function(){    var b=new $IndexedInterceptor(a.apply(null,arguments));
    return b.Prototype=e.get('prototype'),b;    }    });
var f=new d.$Object();
return f.ConstructorName=b,f.define('constructor',e,6),e.define('prototype',f,4),e;}function brainTransplant(a,b,d){return!(a instanceof c)&&(a.Call=c.prototype.Call,a.Construct=c.prototype.Construct,b instanceof c&&(d=b.construct,b=b.call),a.call=b,a.construct=d),a;}'use strict';var g=a('./lib/objects'),    t=a('./lib/iteration'),    h=a('./runtime'),    p=a('./assembler'),    j=a('./debug'),    r=a('./constants'),    n=a('./errors');
var u=g.assign,    v=g.assignAll,    e=g.define,    q=g.inherit,    i=h.Realm,    l=h.Script,    o=j.Renderer,    s=n.AbruptCompletion,    f=n.$$ThrowException,    d=h.builtins,    c=d.$NativeFunction;
var m={    Array:function(){    return function $ExoticArray(a){    d.$Array.call(this,+a||0),this.init.apply(this,arguments);    };    },    Function:function(){    return function $ExoticFunction(b,a){    d.$Object.call(this),this.call=b,a&&(this.construct=a),this.init.apply(this,arguments);    };    },    Object:function(){    return function $ExoticObject(){    d.$Object.call(this),this.init.apply(this,arguments);    };    }    };
u(k,[h.parse,function createRealm(a){return new i(a);},function createRealmAsync(){return new i(!0);},function createScript(a){return new l(a);},function createCode(a){return new l(a).bytecode;},function createRenderer(a){return new o(a);},function createFunction(a){return new c(a);},function createAbruptCompletion(a){return new s(a);},function createExotic(a,h){if(typeof a==='string'){!(a in m)&&(a='Object');var g=m[a]();
}else!h&&(h=a);!g&&(g=m.Object(),a='Object');var i=d['$'+a];
return q(g,i,{ Native:!0 },[function init(){},function remove(a){this.update(a,b);},function describe(a){return[a, this.get(a), this.query(a)];},function(){return function e(a,b,c){this.set(a,b),this.update(a,c);};}(),function has(a){return this.query(a)!==b;},function each(a){return f('missing_fundamental_handler','each');},function get(a){return f('missing_fundamental_handler','get');},function set(a,b){return f('missing_fundamental_handler','set');},function query(a){return f('missing_fundamental_handler','query');},function update(a,b){return f('missing_fundamental_handler','update');}]),i.prototype.Call&&e(g.prototype,[function call(){},function construct(){},c.prototype.Call,c.prototype.Construct,c.prototype.HasInstance]),h&&e(g.prototype,h),g;}]);var $IndexedInterceptor=function(){function $IndexedInterceptor(a){d.$Object.call(this),this.target=a,this.length=a.length,this.properties.set('length',a.length,0);}return q($IndexedInterceptor,d.$Object,{ indexAttribute:5 },[function remove(a){var b=+a;
if(b>=0&&b<this.target.length)return delete this.target[b];if(this.properties.has(a))return this.properties.remove(a);},function describe(b){var a=+b;
if(a>=0&&a<this.target.length)return[a+'', this.target[a], this.indexAttribute];if(this.properties.has(b))return this.properties.describe(b);},function(){return function e(a,c,d){var b=+a;
if(b>=0&&b<this.target.length)return this.target[b]=c;if(this.properties.has(a))return this.properties.set(a,c,d);};}(),function has(a){var b=+a;
return b>=0&&b<this.target.length?!0:this.properties.has(a);},function each(b){var c=this.target.length;
for(var a=0;a<c;a++)b([a+'', this.target[a], this.indexAttribute]);this.properties.each(b);},function get(a){var b=+a;
if(b>=0&&b<this.target.length)return this.target[b];if(this.properties.has(a))return this.properties.get(a);},function set(a,c){var b=+a;
if(b>=0&&b<this.target.length)return this.target[b]=c;if(this.properties.has(a))return this.properties.set(a,c);},function query(a){var b=+a;
if(b>=0&&b<this.target.length)return this.indexAttribute;if(this.properties.has(a))return this.properties.query(a);},function update(a,c){var b=+a;
if(b>=0&&b<this.target.length)return!1;if(this.properties.has(a))return this.properties.update(a,c);}]),$IndexedInterceptor;}();
return e(k,{Assembler:p.Assembler,Code:p.Code,Realm:i,Renderer:o,Script:l,constants:r,iterate:t.iterate,introspect:j.introspect,createInterceptor:createInterceptor,brainTransplant:brainTransplant,isUndetectable:a('./object-model/$Nil').isUndetectable,utility:v({},[a('./lib/functions'),a('./lib/iteration'),a('./lib/objects'),a('./lib/traversal'),a('./lib/utility'),a('./lib/DoublyLinkedList'),a('./lib/Emitter'),a('./lib/Feeder'),a('./lib/HashMap'),a('./lib/ObjectMap'),a('./lib/HashSet'),a('./lib/LinkedList'),a('./lib/PropertyList'),a('./lib/Queue'),a('./lib/Stack')]),debug:j}),k;}(typeof d!=='undefined'?d.exports:{}),c.builtins['@@internal']='private @@toStringTag  = $__getWellKnownSymbol(\'toStringTag\'),\n        @@iterator     = $__getWellKnownSymbol(\'iterator\'),\n        @@create       = $__getWellKnownSymbol(\'create\'),\n        @@BooleanValue = $__getWellKnownSymbol(\'BooleanValue\'),\n        @@StringValue  = $__getWellKnownSymbol(\'StringValue\'),\n        @@NumberValue  = $__getWellKnownSymbol(\'NumberValue\'),\n        @@DateValue    = $__getWellKnownSymbol(\'DateValue\'),\n        @@BuiltinBrand = $__getWellKnownSymbol(\'BuiltinBrand\');\n\nconst StopIteration = $__StopIteration,\n      HIDDEN   = 6,\n      FROZEN   = 0,\n      Infinity = 1 / 0,\n      NaN      = +\'NaN\';\n\nlet undefined;\n\n\nfunction extend(object, properties){\n  const keys = $__Enumerate(properties, false, false);\n\n  let index = keys.length;\n\n  while (index--) {\n    const key  = keys[index],\n          desc = $__GetOwnProperty(properties, key);\n\n    desc.enumerable = false;\n\n    if (typeof desc.value === \'number\') {\n      desc.configurable = desc.writable = false;\n    } else if (typeof desc.value === \'function\') {\n      builtinFunction(desc.value);\n    }\n\n    $__DefineOwnProperty(object, key, desc);\n  }\n}\n\n$__extend = extend;\n\n\nfunction internalFunction(func){\n  $__setInternal(func, \'InternalFunction\', true);\n  $__setInternal(func, \'strict\', false);\n  $__delete(func, \'prototype\');\n  $__delete(func, \'caller\');\n  $__delete(func, \'arguments\');\n}\n\ninternalFunction(internalFunction);\n\nconst brands = {\n  BuiltinString: \'StringWrapper\',\n  BuiltinNumber: \'NumberWrapper\',\n  BuiltinBoolean: \'BooleanWrapper\'\n};\n\nfunction builtinClass(Ctor, brand){\n  var prototypeName = Ctor.name + \'Proto\',\n      prototype = $__GetIntrinsic(prototypeName),\n      isSymbol = Ctor.name === \'Symbol\';\n\n  if (prototype) {\n    if (!isSymbol) {\n      extend(prototype, Ctor.prototype);\n    }\n    $__set(Ctor, \'prototype\', prototype);\n  } else {\n    $__SetIntrinsic(prototypeName, Ctor.prototype);\n  }\n\n  $__setInternal(Ctor, \'BuiltinConstructor\', true);\n  $__setInternal(Ctor, \'BuiltinFunction\', true);\n  $__setInternal(Ctor, \'strict\', false);\n  $__update(Ctor, \'prototype\', FROZEN);\n  $__set(Ctor, \'length\', 1);\n  $__define(Ctor, \'caller\', null, FROZEN);\n  $__define(Ctor, \'arguments\', null, FROZEN);\n\n  if (!isSymbol) {\n    brand || (brand = \'Builtin\'+Ctor.name);\n    if (brand in brands) {\n      brand = brands[brand];\n    }\n    $__SetBuiltinBrand(Ctor.prototype, brand);\n    $__define(Ctor.prototype, @@toStringTag, Ctor.name);\n    hideEverything(Ctor);\n  }\n}\n\ninternalFunction(builtinClass);\n\n\n\nfunction builtinFunction(func){\n  $__setInternal(func, \'BuiltinFunction\', true);\n  $__delete(func, \'prototype\');\n  $__update(func, \'name\', FROZEN);\n  $__define(func, \'caller\', null, FROZEN);\n  $__define(func, \'arguments\', null, FROZEN);\n}\n\ninternalFunction(builtinFunction);\n\n\n\nfunction hideEverything(o){\n  const type = typeof o;\n  if (type === \'object\' ? o === null : type !== \'function\') {\n    return o;\n  }\n\n  const keys = $__Enumerate(o, false, true);\n\n  let index = keys.length;\n\n  while (index--) {\n    $__update(o, keys[index], typeof o[keys[index]] === \'number\' ? FROZEN : HIDDEN);\n  }\n\n  if (type === \'function\') {\n    hideEverything(o.prototype);\n  }\n\n  return o;\n}\n\ninternalFunction(hideEverything);\n\n$__hideEverything = hideEverything;\n\n\n\nfunction ensureObject(o, name){\n  const type = typeof o;\n  if (type === \'object\' ? o === null : type !== \'function\') {\n    throw $__Exception(\'called_on_non_object\', [name]);\n  }\n}\n\ninternalFunction(ensureObject);\n\n\nfunction ensureDescriptor(o){\n  if (o === null || typeof o !== \'object\') {\n    throw $__Exception(\'property_desc_object\', [typeof o])\n  }\n}\n\ninternalFunction(ensureDescriptor);\n\n\nfunction ensureArgs(o, name){\n  const brand = $__Type(o) === \'Object\' ? $__GetBuiltinBrand(o) : null;\n\n  if (brand === \'BuiltinArguments\') {\n    return [...o];\n  } else if (brand !== \'BuiltinArray\') {\n    throw $__Exception(\'apply_wrong_args\', []);\n  }\n\n  return o;\n}\n\ninternalFunction(ensureArgs);\n\n\nfunction ensureFunction(o, name){\n  if (typeof o !== \'function\') {\n    throw $__Exception(\'called_on_non_function\', [name]);\n  }\n}\n\ninternalFunction(ensureFunction);\n\n\nfunction ensureCallback(o, name){\n  if (typeof o !== \'function\') {\n    throw $__Exception(\'callback_must_be_callable\', [name]);\n  }\n}\n\ninternalFunction(ensureCallback);\n\n\nfunction ensureProto(proto){\n  if (proto !== null && $__Type(proto) !== \'Object\') {\n    throw $__Exception(\'proto_object_or_null\', [])\n  }\n}\n\ninternalFunction(ensureProto);\n\n\nfunction PutPropertyOrThrow(object, key, value, name){\n  if (!$__Put(object, key, value)) {\n    throw $__Exception(\'put_property_or_throw\', [name, key]);\n  }\n}\n\ninternalFunction(PutPropertyOrThrow);\n\n\nfunction DeletePropertyOrThrow(object, key, name){\n  if (!$__Delete(object, key)) {\n    throw $__Exception(\'delete_property_or_throw\', [name, key]);\n  }\n}\n\ninternalFunction(DeletePropertyOrThrow);\n\n',c.builtins['@@objects']='// ##############################################\n// ##### 11 Internal Methods and Properties #####\n// ##############################################\n\nimport {\n  $$ArgumentCount,\n  $$CreateArray,\n  $$CreateObject,\n  $$CreateInternalObject,\n  $$CurrentRealm,\n  $$Get,\n  $$GetPropertyAttribute,\n  $$GetPropertyValue,\n  $$GetIntrinsic,\n  $$HasArgument,\n  $$Set,\n  $$SetPropertyAttribute,\n  $$SetPropertyValue\n} from \'@@internals\';\n\nimport {\n  createAccessorDescriptor,\n  createDataDescriptor,\n  Type\n} from \'@@types\';\n\nconst E = 0x1,\n      C = 0x2,\n      W = 0x4,\n      A = 0x8,\n      ___ = 0,\n      E__ = E,\n      _C_ = C,\n      EC_ = E | C,\n      __W = W,\n      E_W = E | W,\n      _CW = C | W,\n      ECW = E | C | W,\n      __A = A,\n      E_A = E | A,\n      _CA = C | A,\n      ECA = E | C | A;\n\n\n// ##########################################################################\n// ### 11.1 Ordinary Object Internal Methods and Internal Data Properties ###\n// ##########################################################################\n\nconst OrdinaryObject = $$CreateInternalObject();\n\n\n// #############################\n// # 11.1.1 [[GetInheritance]] #\n// #############################\n\n$$Set(OrdinaryObject, function GetInheritance(){\n  return $$Get(this, \'Prototype\');\n});\n\n\n// #############################\n// # 11.1.2 [[SetInheritance]] #\n// #############################\n\n$$Set(OrdinaryObject, function SetInheritance(V){\n  $$Assert(Type(V) === \'Object\' || Type(V) === \'Null\');\n\n  if (!$$Get(this, \'Extensible\')) {\n    return false;\n  }\n\n  $$Set(this, \'Prototype\', V);\n  return true;\n});\n\n\n// ###########################\n// # 11.1.3 [[IsExtensible]] #\n// ###########################\n\n$$Set(OrdinaryObject, function IsExtensible(){\n  return $$Get(this, \'Extensible\');\n});\n\n\n// ################################\n// # 11.1.4 [[PreventExtensions]] #\n// ################################\n\n$$Set(OrdinaryObject, function PreventExtensions(){\n  $$Set(this, \'Extensible\', false);\n});\n\n\n// #############################\n// # 11.1.5 [[HasOwnProperty]] #\n// #############################\n\n$$Set(OrdinaryObject, function HasOwnProperty(P){\n  $$Assert(IsPropertyKey(P));\n  return $$HasProperty(this, P);\n});\n\n\n// #############################\n// # 11.1.6 [[GetOwnProperty]] #\n// #############################\n\n$$Set(OrdinaryObject, function GetOwnProperty(P){\n  $$Assert(IsPropertyKey(P));\n  return OrdinaryGetOwnProperty(this, P);\n});\n\n\n// 11.1.6.1 OrdinaryGetOwnProperty\n\nexport function OrdinaryGetOwnProperty(O, P){\n  $$Assert(IsPropertyKey(P));\n\n  if (!$$HasProperty(O, P)) {\n    return undefined;\n  }\n\n  const attr = $$GetPropertyAttribute(O, P),\n        val  = $$GetPropertyValue(O, P);\n\n  if (attr & A) {\n    return createAccessorDescriptor($$Get(val, \'Get\'), $$Get(val, \'Set\'), attr & E, attr & C);\n  }\n\n  return createDataDescriptor(val, attr & W, attr & E, attr & C);\n}\n\n\n// ################################\n// # 11.1.7 [[DefineOwnProperty]] #\n// ################################\n\n$$Set(OrdinaryObject, function DefineOwnProperty(P, Desc){;\n  return OrdinaryDefineOwnProperty(this, P, Desc);\n});\n\n\n// 11.1.7.1 OrdinaryDefineOwnProperty\n\nexport function OrdinaryDefineOwnProperty(O, P, Desc){\n  const current    = OrdinaryGetOwnProperty(O, P),\n        extensible = $$Get(O, \'Extensible\');\n\n  return ValidateAndApplyPropertyDescriptor(O, P, extensible, Desc, current);\n}\n\n\n// 11.1.7.2 IsCompatiblePropertyDescriptor\n\nexport function IsCompatiblePropertyDescriptor(Extensible, Desc, Current) {\n  return ValidateAndApplyPropertyDescriptor(undefined, undefined, Extensible, Desc, Current);\n}\n\n\n// 11.1.7.3 ValidateAndApplyPropertyDescriptor\n\nfunction attributesFromDescriptor(Desc){\n  if ($$Has(Desc, \'attrs\')) {\n    return $$Get(Desc, \'attrs\');\n  }\n\n  if ($$Has(Desc, \'Get\') || $$Has(Desc, \'Set\')) {\n    $$Assert(!$$Has(Desc, \'Value\') && !$$Has(Desc, \'Writable\'));\n    return $$Get(Desc, \'Enumerable\') | ($$Get(Desc, \'Configurable\') << 1) | 8;\n  }\n  return $$Get(Desc, \'Enumerable\') | ($$Get(Desc, \'Configurable\') << 1) | ($$Get(Desc, \'Writable\') << 2);\n}\n\nconst Accessor = $$CreateInternalObject();\n$$Set(Accessor, \'_type\', \'Accessor\');\n$$Set(Accessor, \'Get\', undefined);\n$$Set(Accessor, \'Set\', undefined);\n\nfunction createAccessor(Desc){\n  const accessor = $$CreateInternalObject(Accessor);\n  $$Set(accessor, \'Get\', $$Get(Desc, \'Get\'));\n  $$Set(accessor, \'Set\', $$Get(Desc, \'Set\'));\n  return accessor;\n}\n\nfunction same(a, b, field){\n  return SameValue($$Get(a, field), $$Get(b, field));\n}\n\nexport function ValidateAndApplyPropertyDescriptor(O, P, extensible, Desc, current){\n  $$Assert(O === undefined || IsPropertyKey(P));\n\n\n  // New property\n  if (current === undefined) {\n    if (!extensible) {\n      return false;\n    }\n\n    $$Assert(extensible === true);\n\n    if (O !== undefined) {\n      if (IsGenericDescriptor(Desc) || IsDataDescriptor(Desc)) {\n        $$CreateProperty(O, P, $$Get(Desc, \'Value\'), attributesFromDescriptor(Desc));\n      } else {\n        $$CreateProperty(O, P, createAccessor(Desc), attributesFromDescriptor(Desc));\n      }\n\n      if ($$Has(O, \'Notifier\')) {\n        const changeObservers = $$Get($$Get(O, \'Notifier\'), \'ChangeObservers\');\n        if ($$Get(changeObservers, \'size\')) {\n          EnqueueChangeRecord(CreateChangeRecord(\'new\', O, P), changeObservers);\n        }\n      }\n    }\n\n    return true;\n  }\n\n\n  // Empty Descriptor\n  if (!($$Has(Desc, \'Get\') || $$Has(Desc, \'Set\') || $$Has(Desc, \'Value\'))) {\n    if (!($$Has(Desc, \'Writable\') || $$Has(Desc, \'Configurable\') || $$Has(Desc, \'Enumerable\'))) {\n      return true;\n    }\n  }\n\n  //Equal Descriptor\n  if (same(Desc, current, \'Value\') && same(Desc, current, \'Get\') && same(Desc, current, \'Set\')) {\n    if (same(Desc, current, \'Writable\') && same(Desc, current, \'Enumerable\') && same(Desc, current, \'Configurable\')) {\n      return true;\n    }\n  }\n\n  let changeType = \'reconfigured\';\n\n  if ($$Get(current, \'Configurable\') === false) {\n    if ($$Get(Desc, \'Configurable\')) {\n      return false;\n    }\n    if ($$Has(Desc, \'Enumerable\') && !same(Desc, current, \'Enumerable\')) {\n      return false;\n    }\n  }\n/*\n  if (!IsGenericDescriptor(Desc)) {\n    if (IsDataDescriptor(current) !== IsDataDescriptor(Desc)) {\n      if ($$Get(current, \'Configurable\') === false) {\n        return false;\n      }\n\n      if (IsDataDescriptor(current)) {\n        if (O !== undefined) {\n\n        }\n      }\n    }\n\n    if (currentIsData && descIsData) {\n\n    if (currentIsData) {\n      if (!$$Get(current, \'Writable\') && $$Has(Desc, \'Value\') && !same(Desc, current, \'Value\')) {\n        return false;\n      }\n    } else if ($$Has(Desc, \'Set\') && !same(Desc, current, \'Set\')) {\n      return false;\n    } else if ($$Has(Desc, \'Get\') && !same(Desc, current, \'Get\')) {\n      return false;\n    }\n  }\n\n  if (O === undefined) {\n    return true;\n  }\n\n  \'Configurable\' in Desc || (Desc.Configurable = current.Configurable);\n  \'Enumerable\' in Desc || (Desc.Enumerable = current.Enumerable);\n\n  if (IsAccessorDescriptor(Desc)) {\n    O.update(P, Desc.Enumerable | (Desc.Configurable << 1) | 8);\n    if (IsDataDescriptor(current)) {\n      O.set(P, new Accessor(Desc.Get, Desc.Set));\n    } else {\n      var accessor = current.getAccessor();\n      \'Set\' in Desc && (accessor.Set = Desc.Set);\n      \'Get\' in Desc && (accessor.Get = Desc.Get);\n      (\'Set\' in Desc || \'Get\' in Desc) && O.set(P, accessor);\n    }\n  } else {\n    if (IsAccessorDescriptor(current)) {\n      current.Writable = true;\n    }\n    \'Writable\' in Desc || (Desc.Writable = current.Writable);\n    O.update(P, Desc.Enumerable | (Desc.Configurable << 1) | (Desc.Writable << 2));\n    if (\'Value\' in Desc) {\n      O.set(P, Desc.Value);\n      changeType = \'updated\';\n    }\n  }\n\n  if (O.Notifier) {\n    var changeObservers = O.Notifier.ChangeObservers;\n    if (changeObservers.size) {\n      var record = $$CreateChangeRecord(changeType, O, P, current);\n      $$EnqueueChangeRecord(record, changeObservers);\n    }\n  }\n\n  return true;*/\n}\n\n\n\n// ###########################################\n// # 11.1.18 ObjectCreate Abstract Operation #\n// ###########################################\n\nexport function ObjectCreate(proto){\n  if (!$$ArgumentCount()) {\n    proto = $$GetIntrinsic($$CurrentRealm(), \'ObjectPrototype\');\n  }\n  return $$CreateObject(\'Object\', proto);\n}\n\n\n// ###########################################\n// # 11.2.2.3 ArrayCreate Abstract Operation #\n// ###########################################\n\nexport function ArrayCreate(length){\n  return $$CreateArray($$CurrentRealm(), length);\n}\n',c.builtins['@@operations']='// #####################################\n// ####### 9 Abstract Operations #######\n// #####################################\n\n\nimport {\n  abs,\n  call,\n  floor,\n  getIntrinsic,\n  hasBrand,\n  isNaN,\n  isZeroOrInfinite,\n  sign\n} from \'@@utilities\';\n\nimport {\n  ArrayCreate,\n  ObjectCreate,\n  Type\n} from \'@@types\';\n\nimport {\n  $$Assert,\n  $$AssertIsInternalArray,\n  $$AssertIsECMAScriptValue,\n  $$AssertWontThrow,\n  $$Invoke,\n  $$CreateObject,\n  $$CreateInternalObject,\n  $$CurrentRealm,\n  $$Exception,\n  $$Get,\n  $$GetIntrinsic,\n  $$Has,\n  $$HasArgument,\n  $$StringToNumber,\n  $$Set\n} from \'@@internals\';\n\nimport {\n  NaN\n} from \'@@constants\';\n\nimport {\n  @@ToPrimitive: ToPrimitive\n} from \'@@symbols\';\n\n\n\n// ###########################################\n// ##### 9.1 Type Conversion and Testing #####\n// ###########################################\n\n\n// #########################\n// ### 9.1.1 ToPrimitive ###\n// #########################\n\nexport function ToPrimitive(argument, PreferredType){\n  if (Type(argument) !== \'Object\') {\n    return argument;\n  }\n\n  let hint = \'number\';\n  if (!$$HasArgument(\'PreferredType\')) {\n    hint = \'default\';\n  } else if (PreferredType === \'String\') {\n    hint = \'string\';\n  }\n\n  const exoticToPrim = Get(argument, @@ToPrimitive);\n  if (exoticToPrim !== undefined) {\n    if (!IsCallable(exoticToPrim)) {\n      throw $$Exception(\'cannot_convert_to_primitive\', []);\n    }\n\n    const result = call(exoticToPrim, argument);\n    if (Type(result) !== \'Object\') {\n      return result;\n    } else {\n      throw $$Exception(\'cannot_convert_to_primitive\', []);\n    }\n  }\n\n  if (hint === \'default\') {\n    hint = \'number\';\n  }\n\n  return OrdinaryToPrimitive(argument, hint);\n}\n\nexport function OrdinaryToPrimitive(O, hint){\n  $$Assert(Type(O) === \'Object\');\n  $$Assert(Type(hint) === \'String\' && hint === \'string\' || hint === \'number\');\n\n  let tryFirst, trySecond;\n  if (hint === \'string\') {\n    tryFirst = \'toString\';\n    trySecond = \'valueOf\';\n  } else {\n    tryFirst = \'valueOf\';\n    trySecond = \'toString\';\n  }\n\n  const first = Get(O, tryFirst);\n  if (IsCallable(first)) {\n    const result = call(first, O);\n    if (Type(result) !== \'Object\') {\n      return result;\n    }\n  }\n\n  const second = Get(O, trySecond);\n  if (IsCallable(second)) {\n    const result = call(second, O);\n    if (Type(result) !== \'Object\') {\n      return result;\n    }\n  }\n\n  throw $$Exception(\'cannot_convert_to_primitive\', []);\n}\n\n\n// #######################\n// ### 9.1.2 ToBoolean ###\n// #######################\n\nexport function ToBoolean(argument){\n  switch (Type(argument)) {\n    case \'Boolean\':\n      return argument;\n    case \'Undefined\':\n    case \'Null\':\n      return false;\n    case \'Number\':\n      return argument !== 0 && argument === argument;\n    case \'String\':\n      return argument !== \'\';\n    case \'Object\':\n      return true;\n  }\n}\n\n\n// ######################\n// ### 9.1.3 ToNumber ###\n// ######################\n\nexport function ToNumber(argument){\n  switch (Type(argument)) {\n    case \'Number\':\n      return argument;\n    case \'Undefined\':\n      return NaN;\n    case \'Null\':\n      return 0;\n    case \'Boolean\':\n      return argument === true ? 1 : 0;\n    case \'String\':\n      return $$StringToNumber(argument);\n    case \'Object\':\n      return ToNumber(ToPrimitive(argument), \'Number\');\n  }\n}\n\n\n// #######################\n// ### 9.1.4 ToInteger ###\n// #######################\n\nexport function ToInteger(argument){\n  const number = ToNumber(argument);\n\n  if (isNaN(number)) {\n    return 0;\n  }\n\n  if (isZeroOrInfinite(number)) {\n    return number;\n  }\n\n  return sign(number) * floor(abs(number));\n}\n\n\n// #####################\n// ### 9.1.5 ToInt32 ###\n// #####################\n\nexport function ToInt32(argument){\n  const number = ToNumber(argument);\n\n  if (isNaN(number) || isZeroOrInfinite(number)) {\n    return 0;\n  }\n\n  const int = sign(number) * floor(abs(number)) & 0xffffffff;\n\n  return int >= 0x80000000 ? int - 0x80000000 : int;\n}\n\n\n// ######################\n// ### 9.1.6 ToUint32 ###\n// ######################\n\nexport function ToUint32(argument){\n  const number = ToNumber(argument);\n\n  if (isNaN(number) || isZeroOrInfinite(number)) {\n    return 0;\n  }\n\n  return sign(number) * floor(abs(number)) & 0xffffffff;\n}\n\n\n// ######################\n// ### 9.1.7 ToUint16 ###\n// ######################\n\nexport function ToUint16(argument){\n  const number = ToNumber(argument);\n\n  if (isNaN(number) || isZeroOrInfinite(number)) {\n    return 0;\n  }\n\n  return sign(number) * floor(abs(number)) & 0xffff;\n}\n\n\n// ######################\n// ### 9.1.8 ToString ###\n// ######################\n\nexport function ToString(argument){\n  switch (Type(argument)) {\n    case \'String\':\n      return argument;\n    case \'Undefined\':\n      return \'undefined\';\n    case \'Number\':\n      return $$Invoke(argument, \'toString\');\n    case \'Null\':\n      return \'null\';\n    case \'Boolean\':\n      return argument === true ? \'true\' : \'false\';\n    case \'Object\':\n      return ToString(ToPrimitive(argument, \'String\'));\n  }\n}\n\n\n// ######################\n// ### 9.1.9 ToObject ###\n// ######################\n\nexport function ToObject(argument){\n  switch (Type(argument)) {\n    case \'Object\':\n      return argument;\n    case \'Undefined\':\n      throw $$Exception(\'undefined_to_object\', []);\n    case \'Null\':\n      throw $$Exception(\'null_to_object\', []);\n    case \'Boolean\':\n      return new (getIntrinsic(\'%Boolean%\'))(argument);\n    case \'Number\':\n      return new (getIntrinsic(\'%Number%\'))(argument);\n    case \'String\':\n      return new (getIntrinsic(\'%String%\'))(argument);\n  }\n}\n\n\n// ############################\n// ### 9.1.10 ToPropertyKey ###\n// ############################\n\nexport function ToPropertyKey(argument){\n  const type = Type(argument);\n\n  if (type === \'String\' || type === \'Object\' && hasBrand(argument, \'BuiltinSymbol\')) {\n    return argument;\n  }\n\n  return ToString(argument);\n}\n\n\n\n// #################################################\n// ##### 9.2 Testing and Comparison Operations #####\n// #################################################\n\n\n// ##################################\n// ### 9.2.1 CheckObjectCoercible ###\n// ##################################\n\nexport function CheckObjectCoercible(argument){\n  if (argument === null) {\n    throw $$Exception(\'null_to_object\', []);\n  } else if (argument === undefined) {\n    throw $$Exception(\'undefined_to_object\', []);\n  }\n\n  return argument;\n}\n\n// ########################\n// ### 9.2.2 IsCallable ###\n// ########################\n\nexport function IsCallable(argument){\n  return Type(argument) === \'Object\' && $$Has(argument, \'Call\');\n}\n\n\n// #######################\n// ### 9.2.3 SameValue ###\n// #######################\n\nexport function SameValue(x, y){\n  return x === y ? x !== 0 || 1 / x === 1 / y : isNaN(x) && isNaN(y);\n}\n\n\n// ###########################\n// ### 9.2.4 IsConstructor ###\n// ###########################\n\nexport function IsConstructor(argument){\n  return Type(argument) === \'Object\' && $$Has(argument, \'Construct\');\n}\n\n// ###########################\n// ### 9.2.5 IsPropertyKey ###\n// ###########################\n\nexport function IsPropertyKey(argument){\n  const type = Type(argument);\n  return type === \'String\' || type === \'Object\' && hasBrand(argument, \'BuiltinSymbol\');\n}\n\n\n\n\n// #####################################\n// ##### 9.3 Operations on Objects #####\n// #####################################\n\n\n// #################\n// ### 9.3.1 Get ###\n// #################\n\nexport function Get(O, P){\n  $$Assert(Type(O) === \'Object\');\n  $$Assert(IsPropertyKey(P) === true);\n\n  return $$Invoke(O, \'GetP\', O, P);\n}\n\n\n// #################\n// ### 9.3.2 Put ###\n// #################\n\nexport function Put(O, P, V, Throw){\n  $$Assert(Type(O) === \'Object\');\n  $$Assert(IsPropertyKey(P) === true);\n  $$Assert(Type(Throw) === \'Boolean\');\n\n  const success = $$Invoke(O, \'SetP\', O, P, V);\n  if (Throw && !success) {\n    throw $$Exception(\'strict_cannot_assign\', [P]);\n  }\n\n  return success;\n}\n\n\n// ###################################\n// ### 9.3.3 CreateOwnDataProperty ###\n// ###################################\n\nconst normal = $$CreateInternalObject();\n$$Set(normal, \'Writable\', true);\n$$Set(normal, \'Enumerable\', true);\n$$Set(normal, \'Configurable\', true);\n\nexport function CreateOwnDataProperty(O, P, V){\n  $$Assert(Type(O) === \'Object\');\n  $$Assert(IsPropertyKey(P) === true);\n  //$$Assert(!hasOwn(O, P));\n\n  const extensible = $$Invoke(O, \'IsExtensible\');\n  if (!extensible) {\n    return extensible;\n  }\n\n  $$Set(normal, \'Value\', V);\n  const result = $$Invoke(O, \'DefineOwnProperty\', P, normal);\n  $$Set(normal, \'Value\', undefined);\n\n  return result;\n}\n\n\n// ###################################\n// ### 9.3.4 DefinePropertyOrThrow ###\n// ###################################\n\nexport function DefinePropertyOrThrow(O, P, desc){\n  $$Assert(Type(O) === \'Object\');\n  $$Assert(IsPropertyKey(P) === true);\n\n  const success = $$Invoke(O, \'DefineOwnProperty\', P, desc);\n  if (!success) {\n    throw $$Exception(\'redefine_disallowed\', [P]);\n  }\n\n  return success;\n}\n\n\n// ###################################\n// ### 9.3.5 DeletePropertyOrThrow ###\n// ###################################\n\nexport function DeletePropertyOrThrow(O, P){\n  $$Assert(Type(O) === \'Object\');\n  $$Assert(IsPropertyKey(P) === true);\n\n  const success = $$Invoke(O, \'Delete\', P); // TODO: rename to DeleteProperty\n  if (!success) {\n    throw $$Exception(\'strict_delete_property\', [P, Type(O)]);\n  }\n  return success;\n}\n\n\n// #########################\n// ### 9.3.6 HasProperty ###\n// #########################\n\nexport function HasProperty(O, P){\n  $$Assert(Type(O) === \'Object\');\n  $$Assert(IsPropertyKey(P) === true);\n\n  return $$Invoke(O, \'HasProperty\', P);\n}\n\n\n// #######################\n// ### 9.3.7 GetMethod ###\n// #######################\n\nexport function GetMethod(O, P){\n  $$Assert(Type(O) === \'Object\');\n  $$Assert(IsPropertyKey(P) === true);\n\n  const func = $$Invoke(O, \'GetP\', O, P);\n  if (func === undefined) {\n    return func;\n  }\n\n  if (!IsCallable(func)) {\n    throw $$Exception(\'property_not_function\', [P]);\n  }\n\n  return func;\n}\n\n\n// ####################\n// ### 9.3.8 Invoke ###\n// ####################\n\nconst emptyArgs = [];\n\nexport function Invoke(O, P, args){\n  $$Assert(IsPropertyKey(P) === true);\n\n  args || (args = emptyArgs);\n\n  const obj  = ToObject(O),\n        func = GetMethod(obj, P);\n\n  if (func === undefined) {\n    throw $$Exception(\'property_not_function\', [P]);\n  }\n\n  return $$Invoke(func, \'Call\', O, $$Get(args, \'array\'));\n}\n\n\n// ################################\n// ### 9.3.9 TestIfSecureObject ###\n// ################################\n\nfunction TestIfSecureObject(O, immutable){}\n\n\n// ###############################\n// ### 9.3.10 MakeObjectSecure ###\n// ###############################\n\nfunction MakeObjectSecure(O, immutable){}\n\n\n// ##################################\n// ### 9.3.11 CreateArrayFromList ###\n// ##################################\n\nfunction CreateArrayFromList(elements){\n  $$AssertIsInternalArray(elements);\n\n  const array = ArrayCreate(0),\n        len   = $$Get(elements, \'length\');\n\n  for (let n=0; n < len; n++) {\n    const element = $$Get(elements, n);\n    $$AssertIsECMAScriptValue(elements);\n    $$AssertWontThrow(CreateOwnDataProperty(array, ToString(n), element));\n  }\n\n  return array;\n}\n\n\n// ##################################\n// ### 9.3.12 OrdinaryHasInstance ###\n// ##################################\n\nexport function OrdinaryHasInstance(C, O){\n  if (!IsCallable(C)) {\n    return false;\n  }\n\n  if ($$Has(C, \'BoundTargetFunction\')) {\n    return O instanceof $$Get(C, \'BoundTargetFunction\');\n  }\n\n  if (Type(O) !== \'Object\') {\n    return false;\n  }\n\n  const P = Get(C, \'prototype\');\n  if (Type(P) !== \'Object\') {\n    throw $$Exception(\'instanceof_nonobject_proto\');\n  }\n\n  do {\n    O = $$Invoke(O, \'GetInheritance\');\n    if (O === P) {\n      return true;\n    }\n  } while (O)\n\n  return false;\n}\n\n\n// ############################################\n// ### 9.3.13 OrdinaryCreateFromConstructor ###\n// ############################################\n\nconst protos = {\n  \'%ArrayBufferPrototype%\' : \'ArrayBufferProto\',\n  \'%ArrayPrototype%\'       : \'ArrayProto\',\n  \'%BooleanPrototype%\'     : \'%BooleanPrototype%\',\n  \'%DataViewPrototype%\'    : \'DataViewProto\',\n  \'%DatePrototype%\'        : \'%DatePrototype%\',\n  \'%Float32ArrayPrototype%\': \'Float32ArrayProto\',\n  \'%Float64ArrayPrototype%\': \'Float64ArrayProto\',\n  \'%FunctionPrototype%\'    : \'FunctionProto\',\n  \'%Int16ArrayPrototype%\'  : \'Int16ArrayProto\',\n  \'%Int32ArrayPrototype%\'  : \'Int32ArrayProto\',\n  \'%Int8ArrayPrototype%\'   : \'Int8ArrayProto\',\n  \'%MapPrototype%\'         : \'%MapPrototype%\',\n  \'%NumberPrototype%\'      : \'%NumberPrototype%\',\n  \'%ObjectPrototype%\'      : \'ObjectProto\',\n  \'%SetPrototype%\'         : \'%SetPrototype%\',\n  \'%StringPrototype%\'      : \'%StringPrototype%\',\n  \'%Uint16ArrayPrototype%\' : \'Uint16ArrayProto\',\n  \'%Uint32ArrayPrototype%\' : \'Uint32ArrayProto\',\n  \'%Uint8ArrayPrototype%\'  : \'Uint8ArrayProto\',\n  \'%WeakMapPrototype%\'     : \'%WeakMapPrototype%\'\n};\n\n\nexport function OrdinaryCreateFromConstructor(constructor, intrinsicDefaultProto){\n  if (Type(constructor) !== \'Object\') {\n    throw $$Exception(\'construct_non_constructor\', [Type(constructor)]);\n  }\n\n  let proto = Get(constructor, \'prototype\');\n\n  if (!proto) {\n    const realm = $$Has(constructor, \'Realm\') ? $$Get(constructor, \'Realm\') : $$CurrentRealm();\n    proto = $$GetIntrinsic(realm, Get(protos, intrinsicDefaultProto));\n  }\n\n  return ObjectCreate(proto);\n}\n\n',c.builtins['@@operators']='import {\n  POSITIVE_INFINITY,\n  NEGATIVE_INFINITY\n} from \'@@constants\';\n\nimport {\n  GetMethod,\n  IsCallable,\n  OrdinaryHasInstance,\n  ToNumber,\n  ToPrimitive\n} from \'@@operations\';\n\nimport {\n  Type\n} from \'@@types\';\n\nimport {\n  call,\n  isNaN\n} from \'@@utilities\';\n\nimport {\n  $$Compare,\n  $$Exception\n} from \'@@internals\';\n\nimport {\n  @@hasInstance: hasInstance\n} from \'@@symbols\';\n\n\n\n\n// ###############################\n// ## 12.8 Relational Operators ##\n// ###############################\n\n// #######################################################\n// # 12.8.1 The Abstract Relational Comparison Algorithm #\n// #######################################################\n\nfunction AbstractRelationalComparison(x, y, LeftFirst = true){\n  let px, py;\n\n  if (LeftFirst) {\n    px = ToPrimitive(x, \'Number\');\n    py = ToPrimitive(y, \'Number\');\n  } else {\n    py = ToPrimitive(y, \'Number\');\n    px = ToPrimitive(x, \'Number\');\n  }\n\n  if (Type(px) === \'String\' && Type(py) === \'String\') {\n    // TODO: full string relational comparison\n    return $$Compare(px, py);\n  }\n\n  const nx = ToNumber(px),\n        ny = ToNumber(py);\n\n  if (isNaN(nx) || isNaN(ny)) {\n    return undefined;\n  } else if (nx === ny) {\n    return false;\n  } else if (nx === POSITIVE_INFINITY) {\n    return false;\n  } else if (ny === POSITIVE_INFINITY) {\n    return true;\n  } else if (ny === NEGATIVE_INFINITY) {\n    return false;\n  } else if (nx === NEGATIVE_INFINITY) {\n    return true;\n  }\n\n  return $$Compare(nx, ny);\n}\n\n\nfunction INSTANCE_OF(lref, rref){\n  return instanceofOperator(GetValue(lref), GetValue(rref));\n}\n\nfunction instanceofOperator(O, C){\n  const instOfHandler = GetMethod(C, @@hasInstance);\n\n  if (instOfHandler !== undefined) {\n    return call(instOfHandler, C, [O]);\n  }\n\n  if (!IsCallable(C)) {\n    throw $$Exception(\'instanceof_function_expected\', [Type(C)]);\n  }\n\n  return OrdinaryHasInstance(C, O);\n}\n',c.builtins['@@types']='// #######################\n// ####### 8 Types #######\n// #######################\n\n\nimport {\n  $$ArgumentCount,\n  $$CreateObject,\n  $$CreateInternalObject,\n  $$CurrentRealm,\n  $$Get,\n  $$GetIntrinsic,\n  $$HasArgument,\n  $$Set\n} from \'@@internals\';\n\n\nconst MISSING = $$CreateInternalObject();\n\nconst ENUMERABLE   = 0x1,\n      CONFIGURABLE = 0x2,\n      WRITABLE     = 0x4,\n      ACCESSOR     = 0x8;\n\n// #########################################\n// ##### 8.1 ECMAScript Language Types #####\n// #########################################\n\n\n// ################################\n// ### 8.1.1 The Undefined Type ###\n// ################################\n\nexport const undefined = void 0;\n\n\n// ###########################\n// ### 8.1.2 The Null Type ###\n// ###########################\n\n// null\n\n\n// ##############################\n// ### 8.1.3 The Boolean Type ###\n// ##############################\n\n// true\n// false\n\n\n// #############################\n// ### 8.1.4 The String Type ###\n// #############################\n\n// #############################\n// ### 8.1.5 The Number Type ###\n// #############################\n\nexport const NaN = +\'NaN\';\nexport const Infinity = 1 / 0;\n\n\n\n// #############################\n// ### 8.1.6 The Object Type ###\n// #############################\n\n// ###############################\n// # 8.1.6.1 Property Attributes #\n// ###############################\n\n\n\nexport function isPrimitive(value){\n  switch (typeof value) {\n    case \'undefined\':\n    case \'string\':\n    case \'number\':\n    case \'boolean\':\n      return true;\n    default:\n      return value === null;\n  }\n}\n\nexport function Type(value){\n  switch (typeof value) {\n    case \'object\':\n      return value === null ? \'Null\' : \'Object\';\n    case \'undefined\':\n      return \'Undefined\';\n    case \'function\':\n      return \'Object\';\n    case \'string\':\n      return \'String\';\n    case \'number\':\n      return \'Number\';\n    case \'boolean\':\n      return \'Boolean\';\n  }\n}\n\n\n\n// #############################################\n// # 8.1.6.3 Well-Known Symbols and Intrinsics #\n// #############################################\n/*\n@@create\n@@hasInstance\n@@iterator\n@@ToPrimitive\n@@toStringTag\n\n\n\'%Object%\'\n\'%ObjectPrototype%\'\n\'%ObjProto_toString%\'\n\'%Function%\'\n\'%FunctionPrototype%\'\n\'%Array%\'\n\'%ArrayPrototype%\'\n\'%ArrayIteratorPrototype%\'\n\'%Map%\'\n\'%MapPrototype%\'\n\'%MapIteratorPrototype%\'\n\'%WeakMap%\'\n\'%WeakMapPrototype%\'\n\'%Set%\'\n\'%SetPrototype%\'\n\'%SetIteratorPrototype%\'\n\'%StopIteration%\'\n*/\n// ####################################################\n// ### 8.2.2 The List and Record Specification Type ###\n// ####################################################\n\n\n// ######################################################\n// ### 8.2.3 The Completion Record Specification Type ###\n// ######################################################\n\n\nconst CompletionRecord = $$CreateInternalObject();\n$$Set(CompletionRecord, \'_type\', \'CompletionRecord\');\n$$Set(CompletionRecord, \'type\', \'normal\');\n$$Set(CompletionRecord, \'value\', undefined);\n$$Set(CompletionRecord, \'target\', MISSING);\n\nexport function createCompletionRecord(type, value, target = MISSING){\n  const completion = $$CreateInternalObject(CompletionRecord);\n  $$Set(completion, \'type\', type);\n  $$Set(completion, \'value\', value);\n  $$Set(completion, \'target\', target);\n  return completion;\n}\n\n\n// ############################\n// # 8.2.3.1 NormalCompletion #\n// ############################\n\nconst emptyCompletion = createCompletionRecord(\'normal\');\n\nexport function NormalCompletion(argument){\n  const completion = $$CreateInternalObject(emptyCompletion);\n  $$Set(completion, \'value\', argument);\n  return completion;\n}\n\n\n// ##############################\n// # 8.2.3.3 Throw an Exception #\n// ##############################\n\nconst thrownCompletion = createCompletionRecord(\'throw\');\n\nexport function ThrowAnException(argument){\n  const completion = $$CreateInternalObject(thrownCompletion);\n  $$Set(completion, \'value\', argument);\n  throw completion;\n}\n\n\n// ##########################\n// # 8.2.3.4 ReturnIfAbrupt #\n// ##########################\n\nexport function ReturnIfAbrupt(argument){\n  if (argument && $$Get(argument, \'_type\') === \'CompletionRecord\') {\n    if ($$Get(argument, \'type\') !== \'normal\') {\n      throw argument;\n    }\n    return $$Get(argument, \'value\');\n  }\n  return argument;\n}\n\n\n// ##############################################\n// ### 8.2.4 The Reference Specification Type ###\n// ##############################################\n\nconst Reference = $$CreateInternalObject();\n$$Set(Reference, \'_type\', \'Reference\');\n$$Set(Reference, \'base\', undefined);\n$$Set(Reference, \'name\', \'\');\n$$Set(Reference, \'strict\', false);\n$$Set(Reference, \'thisValue\', undefined);\n\n\n// ########################################################\n// ### 8.2.5 The Property Descriptor Specification Type ###\n// ########################################################\n\n\nconst Descriptor = $$CreateInternalObject();\n$$Set(Descriptor, \'_type\', \'Descriptor\');\n$$Set(Descriptor, \'Configurable\', MISSING);\n$$Set(Descriptor, \'Enumerable\', MISSING);\n$$Set(Descriptor, \'Writable\', MISSING);\n$$Set(Descriptor, \'Value\', MISSING);\n$$Set(Descriptor, \'Set\', MISSING);\n$$Set(Descriptor, \'Get\', MISSING);\n\nconst descriptorDefaults = $$CreateInternalObject(Descriptor);\n$$Set(descriptorDefaults, \'Configurable\', false);\n$$Set(descriptorDefaults, \'Enumerable\', false);\n$$Set(descriptorDefaults, \'Writable\', false);\n$$Set(descriptorDefaults, \'Value\', undefined);\n$$Set(descriptorDefaults, \'Set\', undefined);\n$$Set(descriptorDefaults, \'Get\', undefined);\n\n// Data Descriptors\nconst DataDescriptor = $$CreateInternalObject(Descriptor);\n$$Set(DataDescriptor, \'_attrs\', 0);\n\nexport function createDataDescriptor(value, writable, enumerable, configurable){\n  const desc = $$CreateInternalObject(DataDescriptor);\n  let attrs = 0;\n\n  if (configurable !== MISSING) {\n    if (configurable = !!(configurable)) {\n      attrs |= CONFIGURABLE;\n    }\n    $$Set(desc, \'Configurable\', configurable);\n  }\n\n  if (enumerable !== MISSING) {\n    if (enumerable = !!(enumerable)) {\n      attrs |= ENUMERABLE;\n    }\n    $$Set(desc, \'Enumerable\', !!(enumerable));\n  }\n\n  if (writable !== MISSING) {\n    if (writable = !!(writable)) {\n      writable |= WRITABLE;\n    }\n    $$Set(desc, \'Writable\', !!(writable));\n  }\n\n  if (value !== MISSING) {\n    $$Set(desc, \'Value\', value);\n  }\n\n  $$Set(desc, \'attrs\', attrs);\n  return desc;\n}\n\n// Accessor Descriptors\nconst AccessorDescriptor = $$CreateInternalObject(Descriptor);\n$$Set(DataDescriptor, \'_attrs\', ACCESSOR);\n\nexport function createAccessorDescriptor(get, set, enumerable, configurable){\n  const desc = $$CreateInternalObject(AccessorDescriptor);\n  let attrs = ACCESSOR;\n\n  if (configurable !== MISSING) {\n    if (configurable = ToBoolean(configurable)) {\n      attrs |= CONFIGURABLE;\n    }\n    $$Set(desc, \'Configurable\', configurable);\n  }\n\n  if (enumerable !== MISSING) {\n    if (enumerable = ToBoolean(enumerable)) {\n      attrs |= ENUMERABLE;\n    }\n    $$Set(desc, \'Enumerable\', enumerable);\n  }\n\n  if (get !== MISSING) {\n    $$Set(desc, \'Set\', get);\n  }\n\n  if (set !== MISSING) {\n    $$Set(desc, \'Get\', set);\n  }\n\n  $$Set(desc, \'attrs\', attrs);\n  return desc;\n}\n\nconst normal = createDataDescriptor(undefined, true, true, true);\n\nfunction defineNormal(obj, key, value){\n  $$Set(normal, \'Value\', value);\n  const result = OrdinaryDefineOwnProperty(obj, key, normal);\n  $$Set(normal, \'Value\', undefined);\n  return result;\n}\n\nfunction isMissing(Desc, field){\n  return $$Get(Desc, field) === MISSING;\n}\n\n\n// ################################\n// # 8.2.5.1 IsAccessorDescriptor #\n// ################################\n\nexport function IsAccessorDescriptor(Desc){\n  return Desc !== undefined && $$Get(Desc, \'Get\') !== MISSING || $$Get(Desc, \'Set\') !== MISSING;\n}\n\n// ################################\n// # 8.2.5.2 IsAccessorDescriptor #\n// ################################\n\nexport function IsDataDescriptor(Desc){\n  return Desc !== undefined && $$Get(Desc, \'Value\') !== MISSING || $$Get(Desc, \'Writable\') !== MISSING;\n}\n\n// ###############################\n// # 8.2.5.3 IsGenericDescriptor #\n// ###############################\n\nexport function IsGenericDescriptor(Desc){\n  return Desc !== undefined && !IsAccessorDescriptor(Desc) && !IsDataDescriptor(Desc);\n}\n\n// ##################################\n// # 8.2.5.4 FromPropertyDescriptor #\n// ##################################\n\nfunction isEmptyOrdinaryObject(obj){\n  return true;\n}\n\nexport function FromPropertyDescriptor(Desc){\n  if (Desc === undefined) {\n    return undefined;\n  } else if ($$Has(Desc, \'Origin\')) {\n    return $$Get(Desc, \'Origin\');\n  }\n\n  const obj = ObjectCreate();\n  $$Assert(isOrdinaryEmptyObject(obj));\n\n  if ($$Has(Desc, \'Value\')) {\n    defineNormal(obj, \'value\', $$Get(Desc, \'Value\'));\n  }\n  if ($$Has(Desc, \'Writable\')) {\n    defineNormal(obj, \'writable\', $$Get(Desc, \'Writable\'));\n  }\n  if ($$Has(Desc, \'Get\')) {\n    defineNormal(obj, \'get\', $$Get(Desc, \'Get\'));\n  }\n  if ($$Has(Desc, \'Set\')) {\n    defineNormal(obj, \'set\', $$Get(Desc, \'Set\'));\n  }\n  if ($$Has(Desc, \'Enumerable\')) {\n    defineNormal(obj, \'enumerable\', $$Get(Desc, \'Enumerable\'));\n  }\n  if ($$Has(Desc, \'Configurable\')) {\n    defineNormal(obj, \'configurable\', $$Get(Desc, \'Configurable\'));\n  }\n\n  return obj;\n}\n\n\n\n// ################################\n// # 8.2.5.5 ToPropertyDescriptor #\n// ################################\n\nexport function ToPropertyDescriptor(Obj){\n  if (Type(Obj) !== \'Object\') {\n    throw $$Exception(); // TODO desc must be object\n  }\n\n  const enumerable   = HasProperty(Obj, \'enumerable\')   ? Get(Obj, \'enumerable\')   : MISSING,\n        configurable = HasProperty(Obj, \'configurable\') ? Get(Obj, \'configurable\') : MISSING,\n        value        = HasProperty(Obj, \'value\')        ? Get(Obj, \'value\')        : MISSING,\n        writable     = HasProperty(Obj, \'writable\')     ? Get(Obj, \'writable\')     : MISSING,\n        getter       = HasProperty(Obj, \'get\')          ? Get(Obj, \'get\')          : MISSING,\n        setter       = HasProperty(Obj, \'set\')          ? Get(Obj, \'set\')          : MISSING;\n\n  let desc;\n\n  if (getter !== MISSING || setter !== MISSING) {\n    if (value !== MISSING || writable !== MISSING) {\n      throw $$Exception(); // TODO accessor + data\n    }\n    if (getter !== MISSING && getter !== undefined && !IsCallable(getter)) {\n      throw $$Exception(); // TODO non-callable getter\n    }\n    if (setter !== MISSING && setter !== undefined && !IsCallable(setter)) {\n      throw $$Exception(); // TODO non-callable setter\n    }\n    desc = createAccessorDescriptor(get, set, enumerable, configurable);\n  } else {\n    desc = createDataDescriptor(value, writable, enumerable, configurable);\n  }\n\n  $$Set(desc, \'Origin\', obj);\n  return desc;\n}\n\n\n// ######################################\n// # 8.2.5.6 CompletePropertyDescriptor #\n// ######################################\n\nfunction copy(Desc, LikeDesc, field){\n  if (!$$Has(Desc, field)) {\n    $$Set(Desc, field, $$Get(LikeDesc, field));\n  }\n}\n\nexport function CompletePropertyDescriptor(Desc, LikeDesc = descriptorDefaults){\n  $$Assert($$Get(LikeDesc, \'_type\') === \'Descriptor\');\n  $$Assert($$Get(Desc, \'_type\') === \'Descriptor\');\n\n  if (IsDataDescriptor(Desc) || IsGenericDescriptor(Desc)) {\n    copy(Desc, LikeDesc, \'Value\');\n    copy(Desc, LikeDesc, \'Writable\');\n  } else {\n    copy(Desc, LikeDesc, \'Get\');\n    copy(Desc, LikeDesc, \'Set\');\n  }\n\n  copy(Desc, LikeDesc, \'Enumerable\');\n  copy(Desc, LikeDesc, \'Configurable\');\n  return Desc;\n}\n\n\nexport function ObjectCreate(proto){\n  if (!$$ArgumentCount()) {\n    proto = $$GetIntrinsic($$CurrentRealm(), \'ObjectPrototype\');\n  }\n  return $$CreateObject(\'Object\', proto);\n}\n\n\n// ###########################################\n// # 11.2.2.3 ArrayCreate Abstract Operation #\n// ###########################################\n\nexport function ArrayCreate(length){\n  return $$CreateArray($$CurrentRealm(), length);\n}\n',c.builtins['@@utilities']='import {\n  $$Invoke,\n  $$CreateInternalObject,\n  $$CreateObject,\n  $$Get,\n  $$GetIntrinsic,\n  $$Has,\n  $$NumberToString,\n  $$Set,\n  $$SetIntrinsic\n} from \'@@internals\';\n\nimport {\n  MAX_INTEGER,\n  MAX_VALUE,\n  MIN_VALUE,\n  NaN,\n  POSITIVE_INFINITY,\n  NEGATIVE_INFINITY\n} from \'@@constants\';\n\nimport {\n  toStringTag\n} from \'@@symbols\';\n\n\nconst FROZEN = 0,\n      HIDDEN = 6;\n\n\nconst padding = [\'\', \'0\', \'00\', \'000\', \'0000\', \'00000\', \'000000\'];\n\nexport function zeroPad(number, places = 2){\n  const num  = $$NumberToString(number),\n        len  = num.length,\n        diff = places - len;\n\n  if (diff > 0) {\n    return padding[diff] + num;\n  }\n  return num;\n}\n\nexport function abs(x){\n  return x < 0 ? -x : x;\n}\n\nexport function floor(x){\n  return x >> 0;\n}\n\nexport function sign(x){\n  return x < 0 ? -1 : 1;\n}\n\nexport function isZeroOrInfinite(x){\n  return x === 0 || x === POSITIVE_INFINITY || x === NEGATIVE_INFINITY;\n}\n\nexport function isNaN(x){\n  return x !== x;\n}\n\nexport function isFinite(value){\n  return typeof value === \'number\'\n      && !isNaN(value)\n      && value < POSITIVE_INFINITY\n      && value > NEGATIVE_INFINITY;\n}\n\nexport function isInteger(value) {\n  return typeof value === \'number\'\n      && !isNaN(value)\n      && value > -MAX_INTEGER\n      && value < MAX_INTEGER\n      && value | 0 === value;\n}\n\nexport function hasBrand(obj, brand){\n  if (obj == null) {\n    return false;\n  }\n  return $$Get(obj, \'BuiltinBrand\') === brand;\n}\n\nconst emptyList = $$Get([], \'array\');\n\nexport function call(func, receiver, args){\n  return $$Invoke(func, \'Call\', receiver, args ? $$Get(args, \'array\') : emptyList);\n}\n\nexport function construct(func, args){\n  return $$Invoke(func, \'Construct\', args ? $$Get(args, \'array\') : emptyList);\n}\n\n\nexport function enumerate(obj, inherited, onlyEnumerable){\n  return $$CreateObject(\'Array\', $$Invoke(obj, \'Enumerate\', inherited, onlyEnumerable));\n}\n\nexport function deleteProperty(obj, key){\n  return $$Invoke(obj, \'remove\', key);\n}\n\nexport function update(obj, key, attr){\n  return $$Invoke(obj, \'update\', key, attr);\n}\n\nexport function define(obj, key, value, attr){\n  return $$Invoke(obj, \'define\', key, value, attr);\n}\n\nexport function query(obj, key){\n  return $$Invoke(obj, \'query\', key);\n}\n\nexport function get(obj, key){\n  return $$Invoke(obj, \'get\', key);\n}\n\nexport function set(obj, key, value){\n  return $$Invoke(obj, \'set\', key, value);\n}\n\nexport function builtinFunction(func){\n  $$Set(func, \'BuiltinFunction\', true);\n  deleteProperty(func, \'prototype\');\n  update(func, \'name\', 0);\n  define(func, \'caller\', null, 0);\n  define(func, \'arguments\', null, 0);\n}\n\nexport function internalFunction(func){\n  $$Set(func, \'InternalFunction\', true);\n  $$Set(func, \'Strict\', false);\n  deleteProperty(func, \'prototype\');\n  deleteProperty(func, \'caller\');\n  deleteProperty(func, \'arguments\');\n}\n\nexport function extend(obj, properties){\n  const keys = enumerate(properties, false, false);\n  let index = keys.length;\n\n  while (index--) {\n    const key   = keys[index],\n          desc  = $$Invoke(properties, \'GetOwnProperty\', key);\n\n    $$Set(desc, \'Enumerable\', false);\n\n    if ($$Has(desc, \'Value\')) {\n      const value = $$Get(desc, \'Value\');\n\n      if (typeof value === \'number\') {\n        $$Set(desc, \'Configurable\', false);\n        $$Set(desc, \'Writable\', false);\n      } else if (typeof value === \'function\') {\n        builtinFunction(value);\n      }\n    }\n\n    $$Invoke(obj, \'DefineOwnProperty\', key, desc);\n  }\n}\n\nexport function extendInternal(internal, properties){\n  const keys = enumerate(properties, false, false);\n\n  let index = keys.length;\n\n  while (index--) {\n    const key = keys[index];\n    $$Set(internal, key, properties[key]);\n  }\n\n  return internal;\n}\n\nexport function createInternal(proto, properties){\n  return extendInternal($$CreateInternalObject(proto), properties);\n}\n\nexport function hideEverything(o){\n  const type = typeof o;\n\n  if (type === \'object\' ? o === null : type !== \'function\') {\n    return o;\n  }\n\n  const keys = enumerate(o, false, true);\n  let index = keys.length;\n\n  while (index--) {\n    const key   = keys[index],\n          attrs = query(o, key),\n          val   = get(o, key);\n\n    update(o, key, typeof val === \'number\' ? FROZEN : attrs & ~1);\n  }\n\n  if (type === \'function\') {\n    hideEverything(o.prototype);\n  }\n\n  return o;\n}\n\nexport function builtinClass(Ctor, brand){\n  $$SetIntrinsic(`%${Ctor.name}%`, Ctor);\n  $$SetIntrinsic(`%${Ctor.name}Prototype%`, Ctor.prototype);\n  $$Set(Ctor, \'BuiltinConstructor\', true);\n  $$Set(Ctor, \'BuiltinFunction\', true);\n  update(Ctor, \'prototype\', FROZEN);\n  define(Ctor, \'length\', 1, FROZEN);\n  define(Ctor, \'caller\', null, FROZEN);\n  define(Ctor, \'arguments\', null, FROZEN);\n\n  if (Ctor.name !== \'Symbol\') {\n    $$Set(Ctor.prototype, \'BuiltinBrand\', brand || \'Builtin\'+Ctor.name);\n    define(Ctor.prototype, @@toStringTag, Ctor.name);\n    hideEverything(Ctor);\n  }\n}\n\n\nexport function isInitializing(obj, internal){\n  return obj != null && $$Has(obj, internal) && $$Get(obj, internal) === undefined;\n}\n\n\n\nexport function listFrom(array){\n  return $$Get(array, \'array\') || $$Get([...array], \'array\');\n}\n\nexport function listOf(...items){\n  return $$Get(items, \'array\');\n}\n\n\nconst cache = [];\n\nexport function numbers(start, end){\n  if (!isFinite(end)) {\n    end = start;\n    start = 0;\n  }\n\n  let index = end - start;\n\n  if (end > cache.length) {\n    while (index--) {\n      const curr = start + index;\n      cache[curr] = ToString(curr);\n    }\n  }\n\n  const result = [];\n  index = 0;\n\n  while (start < end) {\n    result[index++] = cache[start++];\n  }\n\n  return result;\n}\n\nexport function getIntrinsic(name){\n  return $$GetIntrinsic($$CurrentRealm(), name);\n}\n\nexport function setTag(obj, tag){\n  define(obj, toStringTag, tag);\n}\n\n\n\n\n\nexport function ensureObject(o, name){\n  if (Type(o) !== \'Object\') {\n    throw $$Exception(\'called_on_non_object\', [name]);\n  }\n}\n\ninternalFunction(ensureObject);\n\n\nexport function ensureDescriptor(o){\n  if (o === null || typeof o !== \'object\') {\n    throw $$Exception(\'property_desc_object\', [Type(o)])\n  }\n}\n\ninternalFunction(ensureDescriptor);\n\n\nexport function ensureArgs(o, name){\n  const brand = Type(o) === \'Object\' ? $$Get(o, \'BuiltinBrand\') : null;\n\n  if (brand === \'BuiltinArguments\') {\n    return [...o];\n  } else if (brand === \'BuiltinArray\') {\n    return o;\n  }\n\n  throw $$Exception(\'apply_wrong_args\', []);\n}\n\ninternalFunction(ensureArgs);\n\n\nexport function ensureFunction(o, name){\n  if (typeof o !== \'function\') {\n    throw $$Exception(\'called_on_non_function\', [name]);\n  }\n}\n\ninternalFunction(ensureFunction);\n\n\nexport function ensureCallback(o, name){\n  if (typeof o !== \'function\') {\n    throw $$Exception(\'callback_must_be_callable\', [name]);\n  }\n}\n\ninternalFunction(ensureCallback);\n\n\nexport function ensureProto(proto){\n  if (proto !== null && Type(proto) !== \'Object\') {\n    throw $$Exception(\'proto_object_or_null\', [])\n  }\n}\n\ninternalFunction(ensureProto);\n\n',c.builtins['@array']='import {\n  @@toStringTag: toStringTag,\n  @@iterator   : iterator\n} from \'@@symbols\';\n\nimport {\n  $$ArgumentCount,\n  $$Exception\n} from \'@@internals\';\n\nimport {\n  //builtinClass,\n  builtinFunction,\n  call,\n  define,\n  ensureCallback,\n  ensureObject,\n  hasBrand,\n  internalFunction\n} from \'@@utilities\';\n\nimport {\n  ToInteger,\n  ToObject,\n  ToString,\n  ToInt32,\n  ToUint32\n} from \'@@operations\';\n\nimport {\n  Type\n} from \'@@types\';\n\nimport {\n  Iterator\n} from \'@iter\';\n\nimport {\n  Set,\n  add,\n  has\n} from \'@set\';\n\nimport {\n  min,\n  max,\n  floor\n} from \'@math\';\n\nimport {\n  hasOwn\n} from \'@reflect\';\n\n\n\nconst arrays = new Set;\n\nconst K = 0x01,\n      V = 0x02,\n      S = 0x04;\n\nconst kinds = {\n  \'key\': 1,\n  \'value\': 2,\n  \'key+value\': 3,\n  \'sparse:key\': 5,\n  \'sparse:value\': 6,\n  \'sparse:key+value\': 7\n};\n\n\n\nclass ArrayIterator extends Iterator {\n  private @array, // IteratedObject\n          @index, // ArrayIteratorNextIndex\n          @kind;  // ArrayIterationKind\n\n  constructor(array, kind){\n    this.@array = ToObject(array);\n    this.@index = 0;\n    this.@kind = kinds[kind];\n  }\n\n  next(){\n    ensureObject(this);\n\n    if (!hasOwn(this, @array) || !hasOwn(this, @index) || !hasOwn(this, @kind)) {\n      throw $$Exception(\'incompatible_array_iterator\', [\'ArrayIterator.prototype.next\']);\n    }\n\n    const array = this.@array,\n          index = this.@index,\n          kind  = this.@kind,\n          len   = ToUint32(array.length);\n\n    if (kind & S) {\n      let found = false;\n      while (!found && index < len) {\n        found = index in array;\n        if (!found) {\n          index++;\n        }\n      }\n    }\n\n    if (index >= len) {\n      this.@index = Infinity;\n      throw $__StopIteration;\n    }\n\n    this.@index = index + 1;\n    const key = ToString(index);\n    return kind & V ? kind & K ? [key, array[key]] : array[key] : key;\n  }\n}\n\n\nbuiltinClass(ArrayIterator);\n\n\n\nfunction defaultComparefn(x, y){\n  return 1 - (ToString(x) < ToString(y));\n}\n\ninternalFunction(defaultComparefn);\n\n\nfunction truncate(value, shift){\n  return value >> shift << shift;\n}\n\ninternalFunction(truncate);\n\n\n\nexport class Array {\n  constructor(...values){\n    if (values.length === 1 && typeof values[0] === \'number\') {\n      let out = [];\n      out.length = values[0];\n      return out;\n    }\n    return values;\n  }\n\n  concat(...items){\n    const array = [],\n          count = items.length;\n\n    let obj   = ToObject(this),\n        n     = 0,\n        index = 0;\n\n    do {\n      if (isArray(obj)) {\n        let len = ToUint32(obj.length),\n            i   = 0;\n\n        do {\n          if (i in obj) {\n            array[n++] = obj[i];\n          }\n        } while (++i < len)\n      } else {\n        array[n++] = obj;\n      }\n      obj = items[index];\n    } while (index++ < count)\n\n    return array;\n  }\n\n  entries(){\n    return new ArrayIterator(this, \'key+value\');\n  }\n\n  every(callbackfn, context = undefined){\n    const array = ToObject(this),\n          len   = ToUint32(array.length);\n\n    ensureCallback(callbackfn);\n\n    if (len) {\n      let index = 0;\n      do {\n        if (index in array && !call(callbackfn, context, [array[index], index, array])) {\n          return false;\n        }\n      } while (++index < len)\n    }\n\n    return true;\n  }\n\n  filter(callbackfn, context = undefined){\n    const array  = ToObject(this),\n          len    = ToUint32(array.length),\n          result = [];\n\n    ensureCallback(callbackfn);\n\n    if (len) {\n      let index = 0;\n      do {\n        if (index in array) {\n          let element = array[index];\n          if (call(callbackfn, context, [element, index, array])) {\n            result[result.length] = element;\n          }\n        }\n      } while (++index < len)\n    }\n\n    return result;\n  }\n\n  forEach(callbackfn, context = undefined){\n    const array = ToObject(this),\n          len   = $__ToUint32(array.length);\n\n    ensureCallback(callbackfn);\n\n    for (let i=0; i < len; i++) {\n      if (i in array) {\n        call(callbackfn, context, [array[i], i, this]);\n      }\n    }\n  }\n\n  indexOf(search, fromIndex = 0){\n    const array = ToObject(this),\n          len   = ToUint32(array.length);\n\n    if (len === 0) {\n      return -1;\n    }\n\n    let index = ToInteger(fromIndex);\n    if (index >= len) {\n      return -1;\n    } else if (index < 0) {\n      index += len;\n      if (index < 0) {\n        return -1;\n      }\n    }\n\n    do {\n      if (index in array && array[index] === search) {\n        return index;\n      }\n    } while (++index < len)\n\n    return -1;\n  }\n\n  join(separator){\n    const array = ToObject(this);\n\n    if (has(arrays, array)) {\n      return \'\';\n    }\n    add(arrays, array);\n\n    const sep = $$ArgumentCount() ? ToString(separator) : \',\',\n          len = ToUint32(array.length);\n\n    if (len === 0) {\n      return \'\';\n    }\n\n    let result = \'0\' in array ? ToString(array[0]) : \'\',\n        index  = 0;\n\n    while (++index < len) {\n      result += index in array ? sep + ToString(array[index]) : sep;\n    }\n\n    arrays.delete(array);\n    return result;\n  }\n\n  keys(){\n    return new ArrayIterator(this, \'key\');\n  }\n\n  lastIndexOf(search, fromIndex = this.length){\n    const array = ToObject(this),\n          len   = ToUint32(array.length);\n\n    if (len === 0) {\n      return -1;\n    }\n\n    let index = ToInteger(fromIndex);\n    if (index >= len) {\n      index = len - 1;\n    } else if (index < 0) {\n      index += len;\n      if (index < 0) {\n        return -1;\n      }\n    }\n\n    do {\n      if (index in array && array[index] === search) {\n        return index;\n      }\n    } while (index--)\n\n    return -1;\n  }\n\n  map(callbackfn, context = undefined){\n    const array  = ToObject(this),\n          len    = ToUint32(array.length),\n          result = [];\n\n    ensureCallback(callbackfn);\n\n    for (var i=0; i < len; i++) {\n      if (i in array) {\n        result[i] = call(callbackfn, context, [array[i], i, this]);\n      }\n    }\n\n    return result;\n  }\n\n  pop(){\n    const array  = ToObject(this),\n          len    = ToUint32(array.length) - 1;\n\n    if (len >= 0) {\n      const result = array[len];\n      array.length = len;\n      return result;\n    }\n  }\n\n  push(...values){\n    const array = ToObject(this),\n          len   = ToUint32(array.length),\n          count = values.length;\n\n    let index = len;\n\n    array.length += count;\n\n    for (var i=0; i < count; i++) {\n      array[index++] = values[i];\n    }\n\n    return index;\n  }\n\n  reduce(callbackfn, initialValue){\n    const array = ToObject(this),\n          len   = ToUint32(array.length);\n\n    ensureCallback(callbackfn);\n\n    let accumulator, index;\n    if ($$ArgumentCount() > 1) {\n      accumulator = initialValue;\n      index = 0;\n    } else {\n      accumulator = array[0];\n      index = 1;\n    }\n\n    do {\n      if (index in array) {\n        accumulator = call(callbackfn, this, [accumulator, array[index], array]);\n      }\n    } while (++index < len)\n\n    return accumulator;\n  }\n\n  reduceRight(callbackfn, initialValue){\n    const array = ToObject(this),\n          len   = ToUint32(array.length);\n\n    ensureCallback(callbackfn);\n\n    let accumulator, index;\n    if ($$ArgumentCount() > 1) {\n      accumulator = initialValue;\n      index = len - 1;\n    } else {\n      accumulator = array[len - 1];\n      index = len - 2;\n    }\n\n    do {\n      if (index in array) {\n        accumulator = call(callbackfn, this, [accumulator, array[index], array]);\n      }\n    } while (--index >= 0)\n\n    return accumulator;\n  }\n\n  reverse(){\n    const array  = ToObject(this),\n          len    = ToUint32(array.length),\n          middle = floor(len / 2);\n\n    let lower = -1;\n    while (++lower !== middle) {\n      const upper       = len - lower - 1,\n            lowerP      = ToString(lower),\n            upperP      = ToString(upper),\n            lowerValue  = array[lowerP],\n            upperValue  = array[upperP];\n\n      if (upperP in array) {\n        PutPropertyOrThrow(array, lowerP, upperValue, \'Array.prototype.reverse\');\n        if (lowerP in array) {\n          PutPropertyOrThrow(array, upperP, lowerValue, \'Array.prototype.reverse\');\n        } else {\n          DeletePropertyOrThrow(array, upperP, \'Array.prototype.reverse\');\n        }\n      } else if (lowerP in array) {\n        PutPropertyOrThrow(array, upperP, lowerValue, \'Array.prototype.reverse\');\n      } else {\n        DeletePropertyOrThrow(array, lowerP, \'Array.prototype.reverse\');\n      }\n    }\n\n    return array;\n  }\n\n  slice(start = 0, end = this.length){\n    const array  = ToObject(this),\n          len    = ToUint32(array.length),\n          result = [];\n\n    start = ToInteger(start);\n    if (start < 0) {\n      start = max(len + start, 0);\n    }\n\n    end = ToInteger(end);\n    if (end < 0) {\n      end = max(len + end, 0);\n    } else {\n      end = min(end, len);\n    }\n\n    if (start < end) {\n      let newIndex = 0,\n          oldIndex = start;\n\n      do {\n        result[newIndex++] = array[oldIndex++];\n      } while (oldIndex < end)\n    }\n\n    return result;\n  }\n\n  shift(){\n    const array  = ToObject(this),\n          len    = ToUint32(array.length),\n          result = array[0];\n\n    if (!len) {\n      return result;\n    }\n\n    let oldIndex = 1,\n        newIndex = 0;\n\n    do {\n      if (oldIndex in array) {\n        PutPropertyOrThrow(array, newIndex, array[oldIndex], \'Array.prototype.shift\');\n      } else {\n        DeletePropertyOrThrow(array, newIndex, \'Array.prototype.shift\');\n      }\n      newIndex++;\n    } while (++oldIndex < len)\n\n    PutPropertyOrThrow(array, \'length\', len - 1, \'Array.prototype.shift\');\n    return result;\n  }\n\n  some(callbackfn, context = undefined){\n    const array = ToObject(this),\n          len   = ToUint32(array.length);\n\n    ensureCallback(callbackfn);\n\n    if (len) {\n      let index = 0;\n      do {\n        if (index in array && call(callbackfn, context, [array[index], index, array])) {\n          return true;\n        }\n      } while (++index < len)\n    }\n\n    return false;\n  }\n\n  sort(comparefn = defaultComparefn){\n    const array = ToObject(this),\n          len   = array.length;\n\n    ensureCallback(comparefn);\n\n    if (len >= 2) {\n      let trunc = 1;\n\n      for (var start = truncate(len - 2, trunc); start >= 0; start -= 2) {\n        if (comparefn(array[start], array[start + 1]) > 0) {\n          [array[start], array[start + 1]] = [array[start + 1], array[start]];\n        }\n      }\n\n      if (len > 2) {\n        let arrayA = array,\n            arrayB = new Array(len),\n            size   = 2;\n\n        do {\n          let start  = truncate(len - 1, ++trunc),\n              countA = start + size,\n              countB = len;\n\n          countA = min(countA, len);\n\n          while (start >= 0) {\n            let toIndex   = start,\n                fromA     = toIndex,\n                fromB     = countA,\n                continues = true;\n\n            do {\n              if (fromA < countA) {\n                if (fromB < countB) {\n                  if (comparefn(arrayA[fromA], arrayA[fromB]) > 0) {\n                    arrayB[toIndex++] = arrayA[fromB++];\n                  } else {\n                    arrayB[toIndex++] = arrayA[fromA++];\n                  }\n                } else {\n                  while (fromA < countA) {\n                    arrayB[toIndex++] = arrayA[fromA++];\n                  }\n                  continues = false;\n                }\n              } else {\n                while (fromB < countB) {\n                  arrayB[toIndex++] = arrayA[fromB++];\n                }\n                continues = false;\n              }\n            } while (continues)\n\n            countB = start;\n            start -= 2 * size;\n            countA = start + size;\n          }\n\n          [arrayA, arrayB] = [arrayB, arrayA];\n          size *= 2;\n        } while (len > size)\n\n        if (!(trunc & 1)) {\n          for (var i = len - 1; i >= 0; i--) {\n            array[i] = arrayA[i];\n          }\n        }\n      }\n    }\n\n    return array;\n  }\n\n  splice(start, deleteCount, ...items){\n    const array     = ToObject(this),\n          len       = ToUint32(array.length),\n          itemCount = items.length,\n          result    = [];\n\n    start = ToInteger(start);\n    if (start < 0) {\n      start = max(len + start, 0);\n    } else {\n      start = min(start, len);\n    }\n\n    deleteCount = min(max(ToInteger(deleteCount), 0), len - start);\n\n    if (deleteCount > 0) {\n      let index = 0;\n\n      do {\n        let from = index + start;\n\n        if (from in array) {\n          PutPropertyOrThrow(result, index, array[from], \'Array.prototype.splice\');\n        }\n        index++;\n      } while (index < deleteCount)\n\n      PutPropertyOrThrow(result, \'length\', deleteCount, \'Array.prototype.splice\');\n    }\n\n    const count = len - deleteCount;\n\n    if (itemCount < deleteCount) {\n      let index = start;\n\n      while (index < count) {\n        let from = index + deleteCount,\n            to   = index + itemCount;\n\n        if (from in array) {\n          PutPropertyOrThrow(array, to, array[from], \'Array.prototype.splice\');\n        } else {\n          DeletePropertyOrThrow(array, to, \'Array.prototype.splice\');\n        }\n        index++;\n      }\n    } else if (itemCount > deleteCount) {\n      let index = count;\n\n      while (index > start) {\n        let from = index + deleteCount - 1,\n            to   = index + itemCount - 1;\n\n        if (from in array) {\n          PutPropertyOrThrow(array, to, array[from], \'Array.prototype.splice\');\n        } else {\n          DeletePropertyOrThrow(array, to, \'Array.prototype.splice\');\n        }\n\n        index--;\n      }\n    }\n\n    if (itemCount) {\n      let itemIndex = 0,\n          index     = start;\n\n      do {\n        PutPropertyOrThrow(array, index++, items[itemIndex++], \'Array.prototype.splice\');\n      } while (itemIndex < itemCount)\n    }\n\n    PutPropertyOrThrow(array, \'length\', len - deleteCount + itemCount, \'Array.prototype.splice\');\n\n    return result;\n  }\n\n  toLocaleString(){\n    const array = ToObject(this),\n          len   = ToUint32(array.length);\n\n    if (len === 0 || has(arrays, array)) {\n      return \'\';\n    }\n    add(arrays, array);\n\n    let nextElement = array[0],\n        result = nextElement == null ? \'\' : nextElement.toLocaleString(),\n        index  = 0;\n\n    while (++index < len) {\n      result += \',\';\n      nextElement = array[index];\n      if (nextElement != null) {\n        result += nextElement.toLocaleString();\n      }\n    }\n\n    arrays.delete(array);\n    return result;\n  }\n\n  toString(){\n    const array = ToObject(this);\n    let func = array.join;\n\n    if (typeof func !== \'function\') {\n      func = $__ObjectToString;\n    }\n\n    return call(func, array, []);\n  }\n\n  unshift(...values){\n    const array  = ToObject(this),\n          len    = ToUint32(array.length),\n          newLen = len + values.length;\n\n    if (len === newLen) {\n      return newLen;\n    }\n\n    PutPropertyOrThrow(array, \'length\', newLen, \'Array.prototype.unshift\');\n\n    let oldIndex = len,\n        newIndex = newLen;\n\n    while (oldIndex-- > 0) {\n      newIndex--;\n      if (oldIndex in array) {\n        PutPropertyOrThrow(array, newIndex, array[oldIndex], \'Array.prototype.unshift\');\n      } else {\n        DeletePropertyOrThrow(array, newIndex, \'Array.prototype.unshift\');\n      }\n    }\n\n    while (newIndex-- > 0) {\n      PutPropertyOrThrow(array, newIndex, values[newIndex], \'Array.prototype.unshift\');\n    }\n\n    return newLen;\n  }\n\n  values(){\n    return new ArrayIterator(this, \'value\');\n  }\n}\n\nbuiltinClass(Array);\nconst ArrayPrototype = Array.prototype;\ndefine(ArrayPrototype, @@iterator, ArrayPrototype.values);\n\n[\'push\', \'reduce\', \'reduceRight\'].forEach(name => define(ArrayPrototype[name], \'length\', 1, FROZEN));\n\nexport function isArray(array){\n  return Type(array) === \'Object\' ? hasBrand(array, \'BuiltinArray\') : false;\n}\n\nexport function from(arrayLike){\n  const obj    = ToObject(arrayLike),\n        len    = ToUint32(obj.length),\n        Ctor   = $__IsConstructor(this) ? this : Array,\n        result = new Ctor(len);\n\n  for (var i = 0; i < len; i++) {\n    if (i in obj) {\n      result[i] = obj[i];\n    }\n  }\n\n  result.length = len;\n  return result;\n}\n\nexport function of(...items){\n  if (!$__IsConstructor(this)) {\n    return items;\n  }\n\n  const len    = items.length,\n        result = new this(len);\n\n  for (var i=0; i < len; i++) {\n    result[i] = items[i];\n  }\n\n  result.length = len;\n  return result;\n}\n\nextend(Array, { isArray, from, of });\n',c.builtins['@binary-data']='import {\n  $$Invoke,\n  $$Exception,\n  $$Get,\n  $$Set\n} from \'@@internals\';\n\nimport {\n  builtinClass,\n  define,\n  extend,\n  hasBrand,\n  set\n} from \'@@utilities\';\n\nimport {\n  Type\n} from \'@@types\';\n\n\nclass Data {\n  constructor(){\n    throw $$Exception(\'abstract\', \'Data\');\n  }\n\n  update(value){\n\u2002\u2002\u2002\u2002if (Type(this) !== \'Object\' || !hasBrand(this, \'BuiltinData\')) {\n      throw $$Exception(\'not_generic\', [\'Data.prototype.update\']);\n    }\n\n    const R = $$Invoke($$Get(this, \'DataType\'), \'Convert\', [val]);\n\u2002\u2002\u2002\u2002$$Invoke(this, \'SetValue\', [Dereference(R)]);\n  }\n}\n\nextend(Data, {\n  array(number){\n\u2002\u2002\u2002\u2002if (Type(this) !== \'Object\' || !hasBrand(this, \'BuiltinDataType\')) {\n      throw $$Exception(\'not_generic\', [\'DataType.prototype.array\']);\n    }\n\n    return new ArrayType(this, number);\n  }\n});\n\nbuiltinClass(Data);\n\n\nexport class DataType extends Function {\n  constructor(){\n\n  }\n}\n\nset(DataType, \'prototype\', Data);\nbuiltinClass(DataType);\n\n\n\nexport class ArrayType extends DataType {\n\n}\n\nbuiltinClass(ArrayType);\n\n\n\nexport class StructType extends DataType {\n\n}\n\nbuiltinClass(StructType);\n\n\nvar uint8, uint16, uint32 : Type\nvar int8, int16, int32 : Type\nvar float32, float64 : Type\n\n\nfunction uint8(){}\n\n$$Set(uint8, \'DataType\', uint8.name);\n\nfunction Convert(){}\n\nLet t be one of the above built-in data type objects.\n\nt.[[Prototype]] = Function.prototype\n\nt.[[DataType]] = the name of t as a string (e.g., \u201cuint8\u201d for uint8)\n\nt.[[Convert]](val : Any) \u2192 reference[block]\n\u2002\u2002\u2002\u2002Let R = a reference to a new number-block of the appropriate size for t\n\u2002\u2002\u2002\u2002If val = true\n\u2002\u2002\u2002\u2002\u2002\u2002\u2002\u2002R := 1\n\u2002\u2002\u2002\u2002Else If val = false\n\u2002\u2002\u2002\u2002\u2002\u2002\u2002\u2002R := 0\n\u2002\u2002\u2002\u2002Else If val is an ECMAScript number in the domain of this type\n\u2002\u2002\u2002\u2002\u2002\u2002\u2002\u2002R := val\n\u2002\u2002\u2002\u2002Else If val is a UInt64 or Int64 and val.[[Value]] is in the domain of t\n\u2002\u2002\u2002\u2002\u2002\u2002\u2002\u2002R := val.[[Value]]\n\u2002\u2002\u2002\u2002Else Throw TypeError\n\u2002\u2002\u2002\u2002Return R\nt.[[IsSame]](u : Type)\n\u2002\u2002\u2002\u2002Return t.[[DataType]] = u.[[Type]]\n\nt.[[Cast]](val : Any) \u2192 number-block\n\u2002\u2002\u2002\u2002Let V = t.[[Convert]](val)\n\u2002\u2002\u2002\u2002If !IsError(V)\n\u2002\u2002\u2002\u2002\u2002\u2002\u2002\u2002Return Dereference(V.value)\n\u2002\u2002\u2002\u2002If val = Infinity or val = NaN\n\u2002\u2002\u2002\u2002\u2002\u2002\u2002\u2002Return 0\n\u2002\u2002\u2002\u2002If val is an ECMAScript number\n\u2002\u2002\u2002\u2002\u2002\u2002\u2002\u2002Return t.[[CCast]](val)\n\u2002\u2002\u2002\u2002If val is a UInt64 or Int64\n\u2002\u2002\u2002\u2002\u2002\u2002\u2002\u2002Return t.[[CCast]](val.[[Value]])\n\u2002\u2002\u2002\u2002If val is a numeric string, possibly prefixed by \u201c0x\u201d or \u201c0X\u201d for uints or /(-)?(0[xX])?/ for ints\n\u2002\u2002\u2002\u2002\u2002\u2002\u2002\u2002Let V = ParseNumber(val)\n\u2002\u2002\u2002\u2002\u2002\u2002\u2002\u2002Return uintk.[[CCast]](V)\n\u2002\u2002\u2002\u2002Throw TypeError\n\nt.[[CCast]](n : number) \u2192 number-block\n\u2002\u2002\u2002\u2002TODO: do roughly what C does\n\nt.[[Call]](val : Any) \u2192 Number\n\u2002\u2002\u2002\u2002Let x ?= t.[[Cast]](x)\n\u2002\u2002\u2002\u2002Let R = a reference to a new number block with value x\n\u2002\u2002\u2002\u2002Return t.[[Reify]](R)\n\nt.[[Reify]](R : reference[number-block])\n\u2002\u2002\u2002\u2002Let x = Dereference(R)\n\u2002\u2002\u2002\u2002If t.[[DataType]] = \u201cuint64\u201d\n\u2002\u2002\u2002\u2002\u2002\u2002\u2002\u2002Return a new UInt64 with [[Value]] x\n\u2002\u2002\u2002\u2002If t.[[DataType]] = \u201cint64\u201d\n\u2002\u2002\u2002\u2002\u2002\u2002\u2002\u2002Return a new Int64 with [[Value]] x\n\u2002\u2002\u2002\u2002Return x\n\nFor each built-in type object t with suffix k (e.g., for uint32, k = 32):\n\nt.bytes = k / 8\n',c.builtins['@boolean']='import {\n  $$ArgumentCount,\n  $$Exception,\n  $$Get,\n  $$Set\n} from \'@@internals\';\n\nimport {\n  OrdinaryCreateFromConstructor,\n  ToBoolean\n} from \'@@operations\';\n\nimport {\n  Type\n} from \'@@types\';\n\nimport {\n  builtinClass,\n  define,\n  extend,\n  hasBrand,\n  isInitializing\n} from \'@@utilities\';\n\n\n\nexport class Boolean {\n  constructor(value){\n    value = ToBoolean(value);\n\n    if (!isInitializing(this, \'BooleanValue\')) {\n      return value;\n    }\n\n    $$Set(this, \'BooleanValue\', value);\n  }\n\n  toString(){\n    if (typeof this === \'boolean\') {\n      return this;\n    } else if (hasBrand(this, \'BooleanWrapper\')) {\n      return $$Get(this, \'BooleanValue\');\n    }\n\n    throw $$Exception(\'not_generic\', [\'Boolean.prototype.toString\']);\n  }\n\n  valueOf(){\n    if (typeof this === \'boolean\') {\n      return this;\n    } else if (hasBrand(this, \'BooleanWrapper\')) {\n      return $$Get(this, \'BooleanValue\');\n    }\n\n    throw $$Exception(\'not_generic\', [\'Boolean.prototype.valueOf\']);\n  }\n}\n\n\nbuiltinClass(Boolean, \'BooleanWrapper\');\n$$Set(Boolean.prototype, \'BooleanValue\', false);\n\nextend(Boolean, {\n  @@create(){\n    const obj = OrdinaryCreateFromConstructor(this, \'%BooleanPrototype%\');\n    $$Set(obj, \'BuiltinBrand\', \'BooleanWrapper\');\n    $$Set(obj, \'BooleanValue\', undefined);\n    return obj;\n  }\n});\n',c.builtins['@console']='import { now } from \'@date\';\nimport { Map } from \'@map\';\nimport { Error } from \'@error\';\n\nconst QUIET = $__createUndetectable(\'quiet\');\n\n\nexport class Console {\n  private @output, @timers, @write, @writeln;\n\n  constructor(output){\n    this.@output = output;\n    this.@timers = new Map;\n  }\n\n  @write(value, color = \'#fff\'){\n    this.@output.signal(\'write\', $__ToString(value), $__ToString(color));\n  }\n\n  @writeln(value, color = \'#fff\'){\n    this.@output.signal(\'write\', value + \'\\n\', $__ToString(color));\n  }\n\n  assert(expression, ...values){\n    if (!expression) {\n      values = values.join(\'\');\n      this.@writeln(values);\n      throw new Error(\'Assertion failed: \'+values);\n    }\n    return QUIET;\n  }\n\n  clear(){\n    this.@output.signal(\'clear\');\n    return QUIET;\n  }\n\n  count(title){\n    // TODO\n  }\n\n  debug(...values){\n    this.@writeln(values.join(\'\'));\n    return QUIET;\n  }\n\n  dir(object){\n    this.@output.signal(\'inspect\', [object], true);\n    return QUIET;\n  }\n\n  dirxml(){\n    // TODO\n  }\n\n  error(...values){\n    this.@writeln(\'\xd7 \'+values.join(\'\'), \'#f04\');\n    return QUIET;\n  }\n\n  group(...values){\n    this.@writeln(\'\xbb \'+values.join(\'\'));\n    this.@output.signal(\'group\');\n  }\n\n  groupCollapsed(...values){\n    this.@writeln(\'\xbb \'+values.join(\'\'));\n    this.@output.signal(\'group-collapsed\');\n  }\n\n  groupEnd(){\n    this.@output.signal(\'group-end\');\n  }\n\n  info(...values){\n    this.@writeln(\'\u2020 \'+values.join(\'\'), \'#09f\');\n    return QUIET;\n  }\n\n  log(...values){\n    this.@output.signal(\'inspect\', values);\n    return QUIET;\n  }\n\n  profile(){\n    // TODO\n  }\n\n  profileEnd(){\n    // TODO\n  }\n\n  table(data, columns){\n    // TODO\n  }\n\n  time(name){\n    this.@timers[name] = now();\n    return QUIET;\n  }\n\n  timeEnd(name){\n    if (this.@timers.has(name)) {\n      const duration = now() - this.@timers.get(name);\n      this.@writeln(name + \': \' + duration + \'ms\');\n    }\n    return QUIET;\n  }\n\n  timeStamp(name){\n    this.@writeln(name + \': \' + now());\n    return QUIET;\n  }\n\n  trace(error){\n    // TODO\n  }\n\n  warn(...values){\n    this.@writeln(\'! \'+values.join(\'\'), \'#ff6\');\n    return QUIET;\n  }\n}\n\n\nexport const console = new Console({ signal: $__Signal });\n',c.builtins['@continuum']='export const createUndetectable = $__createUndetectable,\n             unwrapUndetectable = $__unwrapUndetectable,\n             isUndetectable     = $__isUndetectable,\n             callerName         = $__callerName,\n             isConstruct        = $__isConstruct,\n             argumentCount      = $__argumentCount,\n             hasArgument        = $__hasArgument,\n             nil                = $__createNil();\n',c.builtins['@date']='// #############################\n// ##### 15.9 Date Objects #####\n// #############################\n\n\nimport {\n  $$ArgumentCount,\n  $$CallerHasArgument,\n  $$CallerName,\n  $$Get,\n  $$Exception,\n  $$Has,\n  $$HasArgument,\n  $$IsConstruct,\n  $$Now,\n  $$ParseDate,\n  $$RegExpExec,\n  $$Set\n} from \'@@internals\';\n\nimport {\n  OrdinaryCreateFromConstructor,\n  OrdinaryToPrimitive,\n  IsCallable,\n  ToInteger,\n  ToNumber,\n  ToObject,\n  ToPrimitive,\n  ToString\n} from \'@@operations\';\n\nimport {\n  Type\n} from \'@@types\';\n\nimport {\n  abs,\n  call,\n  define,\n  extend,\n  hideEverything,\n  isFinite,\n  isInitializing,\n  isNaN,\n  floor,\n  zeroPad\n} from \'@@utilities\';\n\nimport {\n  DST_START_MONTH,\n  DST_START_SUNDAY,\n  DST_START_OFFSET,\n  DST_END_MONTH,\n  DST_END_SUNDAY,\n  DST_END_OFFSET,\n  LOCAL_TZ,\n  NaN\n} from \'@@constants\';\n\nimport {\n  @@create     : create,\n  @@ToPrimitive: ToPrimitive\n} from \'@@symbols\';\n\n\n\nconst msPerSecond = 1000,\n      msPerMinute = 60 * msPerSecond,\n      msPerHour   = 60 * msPerMinute,\n      msPerDay    = 24 * msPerHour;\n\n\n// ###############################################\n// ### 15.9.1.2 Day Number and Time within Day ###\n// ###############################################\n\nfunction Day(t){\n  return floor(t / msPerDay);\n}\n\nfunction TimeWithinDay(t){\n  return t % msPerDay;\n}\n\n\n// ############################\n// ### 15.9.1.3 Year Number ###\n// ############################\n\nfunction DaysInYear(y){\n  if (y % 4) {\n    return 365;\n  } else if (y % 100) {\n    return 366;\n  } else if (y % 400) {\n    return 365;\n  }\n  return 366;\n}\n\nfunction DayFromYear(y){\n  return 365 * (y - 1970) + floor((y - 1969) / 4) - floor((y - 1901) / 100) + floor((y - 1601) / 400);\n}\n\nfunction TimeFromYear(y){\n  return msPerDay * DayFromYear(y);\n}\n\nfunction YearFromTime(t) {\n  let year = floor(t / (msPerDay * 365.2425)) + 1970;\n  const t2 = TimeFromYear(year);\n\n  if (t2 > t) {\n    return year - 1;\n  } else if (t2 + msPerDay * DaysInYear(year) <= t) {\n    return year + 1;\n  }\n\n  return year;\n}\n\nfunction InLeapYear(t){\n  return DaysInYear(YearFromTime(t)) - 365;\n}\n\n\n// #############################\n// ### 15.9.1.4 Month Number ###\n// #############################\n\nconst OFFSETS      = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365],\n      LEAP_OFFSETS = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366],\n      MONTH_DAYS   = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\n\nfunction getDays(t){\n  return InLeapYear(t) ? LEAP_OFFSETS : OFFSETS\n}\n\nfunction daysInMonth(m, leap) {\n  m %= 12;\n  if (m === 1) {\n    return leap ? 28: 29;\n  }\n  return MONTH_DAYS[m];\n}\n\n\nfunction MonthFromTime(t){\n  const days = getDays(t),\n        day  = DayWithinYear(t);\n\n  if (day < days[6]) {\n    if (day < days[3]) {\n      if (day < days[1]) {\n        return 0;\n      } else if (day < days[2]) {\n        return 1;\n      } else {\n        return 2;\n      }\n    } else if (day < days[4]) {\n      return 3;\n    } else if (day < days[5]) {\n      return 4;\n    } else {\n      return 5;\n    }\n  } else if (day < days[9]) {\n    if (day < days[7]) {\n      return 6;\n    } else if (day < days[8]) {\n      return 7;\n    } else {\n      return 8;\n    }\n  } else if (day < days[10]) {\n    return 9;\n  } else if (day < days[11]) {\n    return 10;\n  } else {\n    return 11;\n  }\n}\n\nfunction DayWithinYear(t){\n  return Day(t) - DayFromYear(YearFromTime(t));\n}\n\n\n// ############################\n// ### 15.9.1.5 Date Number ###\n// ############################\n\nfunction DateFromTime(t){\n  return DayWithinYear(t) - getDays(t)[MonthFromTime(t)] + 1;\n}\n\n\n// #########################\n// ### 15.9.1.6 Week Day ###\n// #########################\n\nfunction WeekDay(t){\n  return (Day(t) + 4) % 7;\n}\n\n\nconst [\n  // ###########################################\n  // ### 15.9.1.7 Local Time Zone Adjustment ###\n  // ###########################################\n  LocalTZA,\n\n  // ################################################\n  // ### 15.9.1.8 Daylight Saving Time Adjustment ###\n  // ################################################\n  DaylightSavingTA\n\n] = (function(){\n  function nextMonth(adjustment){\n    return function(t, leap){\n      t += daysInMonth(adjustment, leap) * msPerDay;\n      return t - WeekDay(t) * msPerDay;\n    };\n  }\n\n  function currentMonth(adjustment){\n    return t => t + WeekDay(t) * msPerDay - msPerDay * 7;\n  }\n\n  const adjustFirst = (DST_START_SUNDAY ? nextMonth : currentMonth)(DST_START_MONTH),\n        adjustLast  = (DST_END_SUNDAY ? nextMonth : currentMonth)(DST_END_MONTH);\n\n\n  function DaylightSavingTA(t){\n    const year = TimeFromYear(YearFromTime(t)),\n          leap = InLeapYear(t);\n\n    if (DST_START_OFFSET + adjustFirst(year, leap) <= t && t < DST_END_OFFSET + adjustLast(year, leap)) {\n      return msPerHour;\n    }\n\n    return 0;\n  }\n\n  return [\n    LOCAL_TZ * msPerHour - DaylightSavingTA($$Now()),\n    DaylightSavingTA\n  ];\n})();\n\n\n// ###########################\n// ### 15.9.1.9 Local Time ###\n// ###########################\n\nfunction LocalTime(t){\n  return t + LocalTZA + DaylightSavingTA(t);\n}\n\nfunction ToUTC(t){\n  t -= LocalTZA;\n  return t - DaylightSavingTA(t);\n}\n\n\n// ##########################################################\n// ### 15.9.1.10 Hours, Minutes, Second, and Milliseconds ###\n// ##########################################################\n\n\nfunction HourFromTime(t){\n  return floor(t / msPerHour) % 24;\n}\n\nfunction MinFromTime(t){\n  return floor(t / msPerMinute) % 60;\n}\n\nfunction SecFromTime(t){\n  return floor(t / msPerSecond) % 60;\n}\n\nfunction msFromTime(t){\n  return t % 1000;\n}\n\n\n// ##########################\n// ### 15.9.1.11 MakeTime ###\n// ##########################\n\nfunction MakeTime(hour, min, sec, ms){\n  if (!(isFinite(hour) && isFinite(min) && isFinite(sec) && isFinite(ms))) {\n    return NaN;\n  }\n\n  hour = ToInteger(hour);\n  min = ToInteger(min);\n  sec = ToInteger(sec);\n  ms = ToInteger(ms);\n\n  return hour * msPerHour + min * msPerMinute + sec * msPerSecond + ms;\n}\n\n\n// #########################\n// ### 15.9.1.12 MakeDay ###\n// #########################\n\n// function MakeDay(year, month, date){\n//   if (!(isFinite(year) && isFinite(month) && isFinite(date))) {\n//     return NaN;\n//   }\n\n//   year = ToInteger(year);\n//   month = ToInteger(month);\n//   date = ToInteger(date);\n\n//   let t = year < 1970 ? 1 : 0;\n\n//   if (year < 1970){\n//     for (var i = 1969; i >= year; i--) {\n//       t -= DaysInYear(i) * msPerDay;\n//     }\n//   } else {\n//     for (var i = 1970; i < year; i++) {\n//       t += DaysInYear(i) * msPerDay;\n//     }\n//   }\n\n//   const days = getDays(t);\n//   for (var i = 0; i < month; i++) {\n//     t += days[i] * msPerDay;\n//   }\n\n//   if (YearFromTime(t) !== year + floor(month / 12) || MonthFromTime(t) !== month % 12 || DateFromTime(t) !== 1) {\n//     return NaN;\n//   }\n//   return Day(t) + date - 1;\n// }\n\nfunction MakeDay(year, month, date){\n  if (!(isFinite(year) && isFinite(month) && isFinite(date))) {\n    return NaN;\n  }\n\n  year = ToInteger(year);\n  month = ToInteger(month);\n  date = ToInteger(date);\n\n  return DayFromYear(year) + daysInMonth(month, InLeapYear(year)) + date - 1;\n}\n\n\n// ##########################\n// ### 15.9.1.13 MakeDate ###\n// ##########################\n\nfunction MakeDate(day, time){\n  if(!(isFinite(day) && isFinite(time))) {\n    return NaN;\n  }\n\n  return day * msPerDay + time;\n}\n\n\n// ##########################\n// ### 15.9.1.14 TimeClip ###\n// ##########################\n\nfunction TimeClip(time){\n  if(!isFinite(time) || abs(time) > 864e13){\n    return NaN;\n  }\n\n  //return ToInteger(time) + 0;\n  return time + 0;\n}\n\n\nfunction ensureDate(t){\n  if (t === undefined) {\n    throw $$Exception(\'not_generic\', [`Date.prototype.${$$CallerName()}`]);\n  }\n}\n\n// ####################\n// ### Date Getters ###\n// ####################\n\nfunction getTimezone(t, divisor){\n  if (t === undefined) {\n    throw $$Exception(\'not_generic\', [`Date.prototype.${$$CallerName()}`]);\n  }\n  return isNaN(t) ? t : (t - LocalTime(t)) / divisor;\n}\n\nfunction getTime(t, utc, callback){\n  if (t === undefined) {\n    throw $$Exception(\'not_generic\', [`Date.prototype.${$$CallerName()}`]);\n  }\n  return isNaN(t) ? t : callback(utc ? t : LocalTime(t));\n}\n\nfunction coerceNaNToZero(t){\n  return isNaN(t) ? 0 : t;\n}\n\n// ####################\n// ### Date Setters ###\n// ####################\n\nfunction makeDate(utc, date){\n  const t  = LocalTime(utc),\n        dt = ToNumber(date);\n\n  return MakeDate(MakeDay(YearFromTime(t), MonthFromTime(t), dt), TimeWithinDay(t));\n}\n\nfunction makeFullYear(utc, year, month, date){\n  const lt = LocalTime(utc),\n        t  = isNaN(lt) ? 0 : lt,\n        y  = ToNumber(year),\n        m  = $$CallerHasArgument(\'month\') ? ToNumber(month) : MonthFromTime(t),\n        dt = $$CallerHasArgument(\'date\')  ? ToNumber(date)  : DateFromTime(t);\n\n  return MakeDate(MakeDay(y, m, dt), TimeWithinDay(t));\n}\n\nfunction makeHours(utc, hour, min, sec, ms){\n  const t     = LocalTime(utc),\n        h     = ToNumber(hour),\n        m     = $$CallerHasArgument(\'min\') ? ToNumber(min) : MinFromTime(t),\n        s     = $$CallerHasArgument(\'sec\') ? ToNumber(sec) : SecFromTime(t),\n        milli = $$CallerHasArgument(\'ms\')  ? ToNumber(ms)  : msFromTime(t);\n\n  return MakeDate(Day(t), MakeTime(h, m, s, milli));\n}\n\nfunction makeMilliseconds(utc, ms){\n  const t     = LocalTime(utc),\n        milli = ToNumber(ms),\n        time  = MakeTime(HourFromTime(t), MinFromTime(t), SecFromTime(t), milli);\n\n  return MakeDate(Day(t), time);\n}\n\nfunction makeMinutes(utc, min, sec, ms){\n  const t     = LocalTime(utc),\n        m     = ToNumber(min),\n        s     = $$CallerHasArgument(\'sec\') ? ToNumber(sec) : SecFromTime(t),\n        milli = $$CallerHasArgument(\'ms\')  ? ToNumber(ms)  : msFromTime(t);\n\n  return MakeDate(Day(t), MakeTime(HourFromTime(t), m, s, milli));\n}\n\nfunction makeMonth(utc, month, date){\n  const t  = LocalTime(utc),\n        m  = ToNumber(month),\n        dt = $$CallerHasArgument(\'date\') ? ToNumber(date) : DateFromTime(t);\n\n  return MakeDate(MakeDay(YearFromTime(t), m, dt), TimeWithinDay(t));\n}\n\nfunction makeSeconds(utc, sec, ms){\n  const t     = LocalTime(utc),\n        sec   = ToNumber(sec),\n        milli = $$CallerHasArgument(\'ms\') ? ToNumber(ms) : msFromTime(t);\n\n  return MakeDate(Day(t), MakeTime(HourFromTime(t), MinFromTime(t), sec, milli));\n}\n\n\n// ##################################\n// ### Date to String Conversions ###\n// ##################################\n\nconst DAYS   = [\'Mon\', \'Tue\', \'Wed\', \'Thu\', \'Fri\', \'Sat\', \'Sun\'],\n      MONTHS = [\'Jan\', \'Feb\', \'Mar\', \'Apr\', \'May\', \'Jun\', \'Jul\', \'Aug\', \'Sep\', \'Oct\', \'Nov\', \'Dec\'];\n\nfunction toString(t){\n  return `${toDateString(t)} ${toTimeString(t)}`;\n}\n\nfunction toDateString(t){\n  const weekday = DAYS[getTime(t, false, WeekDay)],\n        month   = MONTHS[getTime(t, false, MonthFromTime)],\n        date    = zeroPad(getTime(t, false, DateFromTime)),\n        year    = zeroPad(getTime(t, false, YearFromTime), 4);\n\n  return `${weekday} ${month} ${date} ${year}`;\n}\n\nfunction toTimeString(t){\n  const timezone = getTimezone(t, msPerHour),\n        hour     = zeroPad(getTime(t, false, HourFromTime)),\n        min      = zeroPad(getTime(t, false, MinFromTime)),\n        sec      = zeroPad(getTime(t, false, SecFromTime)),\n        tz       = (timezone < 0 ? \'+\' : \'-\') + zeroPad(abs(timezone) * 100, 4);\n\n  return `${hour}:${min}:${sec} GMT${tz}`;\n}\n\nfunction toLocaleString(t){\n  return `${toLocaleDateString(t)} ${toLocaleTimeString(t)}`;\n}\n\nfunction toLocaleDateString(t){\n  const month = zeroPad(getTime(t, false, MonthFromTime) + 1),\n        date  = zeroPad(getTime(t, false, DateFromTime)),\n        year  = zeroPad(getTime(t, false, YearFromTime), 4);\n\n  return `${month}/${date}/${year}`;\n}\n\nfunction toLocaleTimeString(t){\n  const h        = getTime(t, false, HourFromTime),\n        hour     = h % 12,\n        min      = zeroPad(getTime(t, false, MinFromTime)),\n        sec      = zeroPad(getTime(t, false, SecFromTime)),\n        meridiem = h === hour ? \'AM\' : \'PM\';\n\n  return `${hour || 12}:${min}:${sec} ${meridiem}`;\n}\n\n\n// ###########################\n// ### 15.9.4.2 Date.parse ###\n// ###########################\n\nconst dateParser = /^(\\d{4}|[+\\-]\\d{6})(?:-(\\d\\d)(?:-(\\d\\d))?)?(?:T(\\d\\d):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d{3}))?)?(?:(Z)|([+\\-])(\\d\\d)(?::(\\d\\d))?)?)?$/;\n\nexport function parse(date){\n  const match = $$RegExpExec(dateParser, ToString(date));\n\n  if (match === null) {\n    return $$ParseDate(date);\n  }\n\n  let [, year, month, day, hours, minutes, seconds, ms, tzSep, tzSign, tzHours, tzMinutes] = match;\n\n  if (tzSep !== \'Z\' && tzSign !== undefined) {\n    minutes = ToNumber(minutes) + (ToNumber(tzHours) * 60 + ToNumber(tzMinutes)) * -(tzSign === \'+\');\n  }\n\n  return UTC(ToNumber(year) || 0, (ToNumber(month) || 1) - 1, day, hours, minutes, seconds, ms);\n}\n\n\n// #########################\n// ### 15.9.4.3 Date.UTC ###\n// #########################\n\nexport function UTC(year, month, date = 1, hours = 0, minutes = 0, seconds = 0, ms = 0){\n  const y     = ToNumber(year),\n        m     = ToNumber(month),\n        dt    = ToNumber(date),\n        h     = ToNumber(hours),\n        min   = ToNumber(minutes),\n        s     = ToNumber(seconds),\n        milli = ToNumber(ms);\n\n  const yInt = ToInteger(y),\n        yr   = !isNaN(y) && 0 <= yInt && yInt <= 99 ? y + 1900 : y;\n\n  return TimeClip(MakeDate(MakeDay(yr, m, dt), MakeTime(h, min, s, milli)));\n}\n\n\n// #########################\n// ### 15.9.4.4 Date.now ###\n// #########################\n\nexport function now(){\n  return $$Now();\n}\n\n\n// ######################################################\n// ### 15.9.5 Properties of the Date Prototype Object ###\n// ######################################################\n\nexport class Date {\n  // ###########################################\n  // ### 15.9.5.1 Date.prototype.constructor ###\n  // ###########################################\n  constructor(year, month, date = 1, hours = 0, minutes = 0, seconds = 0, ms = 0){\n    if (!isInitializing(this, \'DateValue\')) {\n      // 15.9.2 The Date Constructor Called as a Function\n      return toString($$Now());\n    }\n\n    // 15.9.3 The Date Constructor\n    const argc = $$ArgumentCount();\n    let date;\n\n    if (argc > 1) {\n      // 15.9.3.1 new Date (year, month [, date [, hours [, minutes [, seconds [, ms ] ] ] ] ] )\n      const y     = ToNumber(year),\n            m     = ToNumber(month),\n            dt    = ToNumber(date),\n            h     = ToNumber(hours),\n            min   = ToNumber(minutes),\n            s     = ToNumber(seconds),\n            milli = ToNumber(ms);\n\n      const yInt = ToInteger(y),\n            yr   = !isNaN(y) && 0 <= yInt && yInt <= 99 ? y + 1900 : y;\n\n      date = TimeClip(ToUTC(MakeDate(MakeDay(yr, m, dt), MakeTime(h, min, s, milli))));\n    } else if (argc === 1) {\n      // 15.9.3.2 new Date (value)\n      year = ToPrimitive(year);\n      date = TimeClip(typeof year === \'string\' ? parse(year) : year)\n    } else {\n      // 15.9.3.3 new Date ( )\n      date = $$Now();\n    }\n\n    $$Set(this, \'DateValue\', date);\n  }\n\n  // ########################################\n  // ### 15.9.5.2 Date.prototype.toString ###\n  // ########################################\n  toString(){\n    const t = $$Get(this, \'DateValue\');\n\n    ensureDate(t);\n\n    return isNaN(t) ? \'Invalid Date\' : toString(t);\n  }\n\n  // ############################################\n  // ### 15.9.5.3 Date.prototype.toDateString ###\n  // ############################################\n  toDateString(){\n    const t = $$Get(this, \'DateValue\');\n\n    ensureDate(t);\n\n    return isNaN(t) ? \'Invalid Date\' : toDateString(t);\n  }\n\n  // ############################################\n  // ### 15.9.5.4 Date.prototype.toTimeString ###\n  // ############################################\n  toTimeString(){\n    const t = $$Get(this, \'DateValue\');\n\n    ensureDate(t);\n\n    return isNaN(t) ? \'Invalid Date\' : toTimeString(t);\n  }\n\n  // ##############################################\n  // ### 15.9.5.5 Date.prototype.toLocaleString ###\n  // ##############################################\n  toLocaleString(){\n    const t = $$Get(this, \'DateValue\');\n\n    ensureDate(t);\n\n    return isNaN(t) ? \'Invalid Date\' : toLocaleString(t);\n  }\n\n  // ##################################################\n  // ### 15.9.5.6 Date.prototype.toLocaleDateString ###\n  // ##################################################\n  toLocaleDateString(){\n    const t = $$Get(this, \'DateValue\');\n\n    ensureDate(t);\n\n    return isNaN(t) ? \'Invalid Date\' : toLocaleDateString(t);\n  }\n\n  // ##################################################\n  // ### 15.9.5.7 Date.prototype.toLocaleTimeString ###\n  // ##################################################\n  toLocaleTimeString(){\n    const t = $$Get(this, \'DateValue\');\n\n    ensureDate(t);\n\n    return isNaN(t) ? \'Invalid Date\' : toLocaleTimeString(t);\n  }\n\n  // #######################################\n  // ### 15.9.5.8 Date.prototype.valueOf ###\n  // #######################################\n  valueOf(){\n    return $$Get(this, \'DateValue\');\n  }\n\n  // #######################################\n  // ### 15.9.5.9 Date.prototype.getTime ###\n  // #######################################\n  getTime(){\n    return $$Get(this, \'DateValue\');\n  }\n\n  // ############################################\n  // ### 15.9.5.10 Date.prototype.getFullYear ###\n  // ############################################\n  getFullYear(){\n    return getTime($$Get(this, \'DateValue\'), false, YearFromTime);\n  }\n\n  // ###############################################\n  // ### 15.9.5.11 Date.prototype.getUTCFullYear ###\n  // ###############################################\n  getUTCFullYear(){\n    return getTime($$Get(this, \'DateValue\'), true, YearFromTime);\n  }\n\n  // #########################################\n  // ### 15.9.5.12 Date.prototype.getMonth ###\n  // #########################################\n  getMonth(){\n    return getTime($$Get(this, \'DateValue\'), false, MonthFromTime);\n  }\n\n  // ############################################\n  // ### 15.9.5.13 Date.prototype.getUTCMonth ###\n  // ############################################\n  getUTCMonth(){\n    return getTime($$Get(this, \'DateValue\'), true, MonthFromTime);\n  }\n\n  // ########################################\n  // ### 15.9.5.14 Date.prototype.getDate ###\n  // ########################################\n  getDate(){\n    return getTime($$Get(this, \'DateValue\'), false, DateFromTime);\n  }\n\n  // ###########################################\n  // ### 15.9.5.15 Date.prototype.getUTCDate ###\n  // ###########################################\n  getUTCDate(){\n    return getTime($$Get(this, \'DateValue\'), true, DateFromTime);\n  }\n\n  // #######################################\n  // ### 15.9.5.16 Date.prototype.getDay ###\n  // #######################################\n  getDay(){\n    return getTime($$Get(this, \'DateValue\'), false, WeekDay);\n  }\n\n  // ##########################################\n  // ### 15.9.5.17 Date.prototype.getUTCDay ###\n  // ##########################################\n  getUTCDay(){\n    return getTime($$Get(this, \'DateValue\'), true, WeekDay);\n  }\n\n  // #########################################\n  // ### 15.9.5.18 Date.prototype.getHours ###\n  // #########################################\n  getHours(){\n    return getTime($$Get(this, \'DateValue\'), false, HourFromTime);\n  }\n\n  // ############################################\n  // ### 15.9.5.19 Date.prototype.getUTCHours ###\n  // ############################################\n  getUTCHours(){\n    return getTime($$Get(this, \'DateValue\'), true, HourFromTime);\n  }\n\n  // ###########################################\n  // ### 15.9.5.20 Date.prototype.getMinutes ###\n  // ###########################################\n  getMinutes(){\n    return getTime($$Get(this, \'DateValue\'), false, MinFromTime);\n  }\n\n  // ##############################################\n  // ### 15.9.5.21 Date.prototype.getUTCMinutes ###\n  // ##############################################\n  getUTCMinutes(){\n    return getTime($$Get(this, \'DateValue\'), true, MinFromTime);\n  }\n\n  // ###########################################\n  // ### 15.9.5.22 Date.prototype.getSeconds ###\n  // ###########################################\n  getSeconds(){\n    return getTime($$Get(this, \'DateValue\'), false, SecFromTime);\n  }\n\n  // ##############################################\n  // ### 15.9.5.23 Date.prototype.getUTCSeconds ###\n  // ##############################################\n  getUTCSeconds(){\n    return getTime($$Get(this, \'DateValue\'), true, SecFromTime);\n  }\n\n  // ################################################\n  // ### 15.9.5.24 Date.prototype.getMilliseconds ###\n  // ################################################\n  getMilliseconds(){\n    return getTime($$Get(this, \'DateValue\'), false, msFromTime);\n  }\n\n  // ###################################################\n  // ### 15.9.5.25 Date.prototype.getUTCMilliseconds ###\n  // ###################################################\n  getUTCMilliseconds(){\n    return getTime($$Get(this, \'DateValue\'), true, msFromTime);\n  }\n\n  // ##################################################\n  // ### 15.9.5.26 Date.prototype.getTimezoneOffset ###\n  // ##################################################\n  getTimezoneOffset(){\n    return getTimezone($$Get(this, \'DateValue\'), msPerMinute);\n  }\n\n  // ########################################\n  // ### 15.9.5.27 Date.prototype.setTime ###\n  // ########################################\n  setTime(time){\n    return $$Set(this, \'DateValue\', TimeClip(ToNumber(time)));\n  }\n\n  // ################################################\n  // ### 15.9.5.28 Date.prototype.setMilliseconds ###\n  // ################################################\n  setMilliseconds(ms){\n    return $$Set(this, \'DateValue\', TimeClip(ToUTC(makeMilliseconds($$Get(this, \'DateValue\'), ms))));\n  }\n\n  // ###################################################\n  // ### 15.9.5.29 Date.prototype.setUTCMilliseconds ###\n  // ###################################################\n  setUTCMilliseconds(ms){\n    return $$Set(this, \'DateValue\', TimeClip(makeMilliseconds($$Get(this, \'DateValue\'), ms)));\n  }\n\n  // ###########################################\n  // ### 15.9.5.30 Date.prototype.setSeconds ###\n  // ###########################################\n  setSeconds(sec, ms){\n    return $$Set(this, \'DateValue\', TimeClip(ToUTC(makeSeconds($$Get(this, \'DateValue\'), sec, ms))));\n  }\n\n  // ##############################################\n  // ### 15.9.5.31 Date.prototype.setUTCSeconds ###\n  // ##############################################\n  setUTCSeconds(sec, ms){\n    return $$Set(this, \'DateValue\', TimeClip(makeSeconds($$Get(this, \'DateValue\'), sec, ms)));\n  }\n\n  // ###########################################\n  // ### 15.9.5.32 Date.prototype.setMinutes ###\n  // ###########################################\n  setMinutes(min, sec, ms){\n    return $$Set(this, \'DateValue\', TimeClip(ToUTC(makeMinutes($$Get(this, \'DateValue\'), min, sec, ms))));\n  }\n\n  // ##############################################\n  // ### 15.9.5.33 Date.prototype.setUTCMinutes ###\n  // ##############################################\n  setUTCMinutes(min, sec, ms){\n    return $$Set(this, \'DateValue\', TimeClip(makeMinutes($$Get(this, \'DateValue\'), min, sec, ms)));\n  }\n\n  // #########################################\n  // ### 15.9.5.34 Date.prototype.setHours ###\n  // #########################################\n  setHours(hour, min, sec, ms){\n    return $$Set(this, \'DateValue\', TimeClip(ToUTC(makeHours($$Get(this, \'DateValue\'), hour, min, sec, ms))));\n  }\n\n  // ############################################\n  // ### 15.9.5.35 Date.prototype.setUTCHours ###\n  // ############################################\n  setUTCHours(hour, min, sec, ms){\n    return $$Set(this, \'DateValue\', TimeClip(makeHours($$Get(this, \'DateValue\'), hour, min, sec, ms)));\n  }\n\n  // ########################################\n  // ### 15.9.5.36 Date.prototype.setDate ###\n  // ########################################\n  setDate(date){\n    return $$Set(this, \'DateValue\', TimeClip(ToUTC(makeDate($$Get(this, \'DateValue\'), date))));\n  }\n\n  // ###########################################\n  // ### 15.9.5.37 Date.prototype.setUTCDate ###\n  // ###########################################\n  setUTCDate(date){\n    return $$Set(this, \'DateValue\', TimeClip(makeDate($$Get(this, \'DateValue\'), date)));\n  }\n\n  // #########################################\n  // ### 15.9.5.38 Date.prototype.setMonth ###\n  // #########################################\n  setMonth(month, date){\n    return $$Set(this, \'DateValue\', TimeClip(ToUTC(makeMonth($$Get(this, \'DateValue\'), month, date))));\n  }\n\n  // ############################################\n  // ### 15.9.5.39 Date.prototype.setUTCMonth ###\n  // ############################################\n  setUTCMonth(month, date){\n    return $$Set(this, \'DateValue\', TimeClip(makeMonth($$Get(this, \'DateValue\'), month, date)));\n  }\n\n  // ############################################\n  // ### 15.9.5.40 Date.prototype.setFullYear ###\n  // ############################################\n  setFullYear(year, month, date){\n    return $$Set(this, \'DateValue\', TimeClip(ToUTC(makeFullYear($$Get(this, \'DateValue\'), year, month, date))));\n  }\n\n  // ###############################################\n  // ### 15.9.5.41 Date.prototype.setUTCFullYear ###\n  // ###############################################\n  setUTCFullYear(year, month, date){\n    return $$Set(this, \'DateValue\', TimeClip(makeFullYear($$Get(this, \'DateValue\'), year, month, date)));\n  }\n\n  // ############################################\n  // ### 15.9.5.42 Date.prototype.toUTCString ###\n  // ############################################\n  toUTCString(){\n    const t = $$Get(this, \'DateValue\');\n\n    ensureDate(t);\n\n    if (isNaN(t)) {\n      return \'Invalid Date\';\n    }\n\n    const weekday = DAYS[getTime(t, true, WeekDay)],\n          date    = zeroPad(getTime(t, true, DateFromTime)),\n          month   = MONTHS[getTime(t, true, MonthFromTime)],\n          year    = zeroPad(getTime(t, true, YearFromTime), 4),\n          hour    = zeroPad(getTime(t, true, HourFromTime)),\n          min     = zeroPad(getTime(t, true, MinFromTime)),\n          sec     = zeroPad(getTime(t, true, SecFromTime));\n\n    return `${weekday}, ${date} ${month} ${year} ${hour}:${min}:${sec} GMT`;\n  }\n\n  // ############################################\n  // ### 15.9.5.43 Date.prototype.toISOString ###\n  // ############################################\n  toISOString(){\n    const t = $$Get(this, \'DateValue\');\n\n    ensureDate(t);\n\n    if (isNaN(t)) {\n      return \'Invalid Date\';\n    }\n\n    const year  = zeroPad(getTime(t, true, YearFromTime), 4),\n          month = zeroPad(getTime(t, true, MonthFromTime) + 1),\n          date  = zeroPad(getTime(t, true, DateFromTime)),\n          hour  = zeroPad(getTime(t, true, HourFromTime)),\n          min   = zeroPad(getTime(t, true, MinFromTime)),\n          sec   = zeroPad(getTime(t, true, SecFromTime)),\n          ms    = zeroPad(getTime(t, true, msFromTime), 3);\n\n    return `${year}-${month}-${date}T${hour}:${min}:${sec}.${ms}Z`;\n  }\n\n  // #######################################\n  // ### 15.9.5.44 Date.prototype.toJSON ###\n  // #######################################\n  toJSON(){\n    const obj = ToObject(this);\n\n    if (!isFinite(ToPrimitive(obj, \'Number\'))) {\n      return null;\n    }\n\n    const toISO = obj.toISOString;\n\n    if (!IsCallable(toISO)) {\n      throw $$Exception(\'called_non_callable\', [\'Date.prototype.toISOString\']);\n    }\n\n    return call(toISO, obj);\n  }\n\n  // ##############################################\n  // ### 15.9.5.45 Date.prototype.@@ToPrimitive ###\n  // ##############################################\n  @@ToPrimitive(hint){\n    if (Type(this) !== \'Object\') {\n      throw $$Exception(\'cannot_convert_to_primitive2\', [\'Date.prototype.@@ToPrimitive\']);\n    }\n\n    const tryFirst = hint === \'string\' || hint === \'default\' ? \'string\' : \'number\';\n\n    return OrdinaryToPrimitive(this, tryFirst);\n  }\n}\n\nbuiltinClass(Date);\n$$Set(Date.prototype, \'DateValue\', NaN);\nextend(Date, { parse, UTC, now });\n\nextend(Date, {\n  // 15.9.4.6 Date.@@create\n  @@create(){\n    const obj = OrdinaryCreateFromConstructor(this, \'%DatePrototype%\');\n    $$Set(obj, \'BuiltinBrand\', \'BuiltinDate\');\n    $$Set(obj, \'DateValue\', undefined);\n    return obj;\n  }\n});\n',c.builtins['@debugger']='import {\n  dict\n} from \'@dict\';\n\nimport {\n  WeakMap;\n} from \'@weakmap\';\n\n\nfunction ensureHandler(value){\n  if (value !== undefined && typeof value !== \'function\') {\n    throw new TypeError(`${$$CallerName()} must be a function or undefined`);\n  }\n}\n\nexport class Debugger {\n  private @enabled,\n          @globals,\n          @uncaughtExceptionHook,\n          @onNewScript,\n          @onDebuggerStatement,\n          @onEnterFrame,\n          @onEnterFrame,\n          @onThrow,\n          @onException,\n          @onExceptionUnwind,\n          @onError,\n          @onNewGlobalObject,\n\n  constructor(...globals){\n    this.uncaughtExceptionHook = null;\n    this.@globals = new WeakMap;\n\n    for (let global of globals) {\n      this.addDebuggee(global);\n    }\n\n    this.enabled = true;\n  }\n\n  addDebuggee(global){\n    if (!hasBrand(global, \'GlobalObject\')) {\n      throw new TypeError(\'Only global objects may be debugged\');\n    }\n\n    const globals = this.@globals;\n\n    if (globals.has(global)) {\n      return globals.get(global);\n    }\n\n    if ($$CurrentRealm() === $$Get(global, \'Realm\')) {\n      // TODO this check isn\'t adequate since Realms are inherited for the purpose of modules\n      throw new Error(\'Debuggee must belong to a different realm than debugger\');\n    }\n\n    return globals.set(global, new DebuggerObject(global));\n  }\n\n  removeDebuggee(global){\n    if (!hasBrand(global, \'GlobalObject\')) {\n      if (global instanceof DebuggerObject) {\n\n      }\n    }\n    this.@globals.delete(global);\n  }\n\n  hasDebuggee(global){\n\n  }\n\n  getDebuggees(){\n\n  }\n\n  getNewestFrame(){\n\n  }\n\n  findScriptURLs(query){\n    assertSignature(query, Undefined, String);\n  }\n\n  findScripts(query){\n    assertSignature(query, Undefined, Query);\n  }\n\n  set enabled(value){\n    if (value !== this.@enabled) {\n      this.@enabled = value;\n      $$ToggleDebugger(this, value);\n    }\n  }\n\n  get enabled(){\n    return this.@enabled;\n  }\n\n  get uncaughtExceptionHook(){\n    return $$GetUncaughtExceptionHook(this);\n  }\n\n  set uncaughtExceptionHook(value){\n    if (typeof value !== \'function\' && value !== null) {\n      throw new TypeError(\'uncaughtExceptionHook must be either a function or null\');\n    }\n    $$SetUncaughtExceptionHook(this, value);\n  }\n\n  get onNewScript(){\n    return this.@onNewScript;\n  }\n\n  set onNewScript(value){\n    assertSignature(value, Undefined, Function);\n    if (value !== this.@onNewScript) {\n      this.@onNewScript = value;\n      this.@setHandler(\'onNewScript\', value);\n    }\n  }\n\n  get onDebuggerStatement(){\n    return this.@onDebuggerStatement;\n  }\n\n  set onDebuggerStatement(value){\n    assertSignature(value, Undefined, Function);\n    if (value !== this.@onDebuggerStatement) {\n      this.@onDebuggerStatement = value;\n      this.@setHandler(\'onDebuggerStatement\', value);\n    }\n  }\n\n  get onEnterFrame(){\n    return this.@onEnterFrame;\n  }\n\n  set onEnterFrame(value){\n    assertSignature(value, Undefined, Function);\n    if (value !== this.@onEnterFrame) {\n      this.@onEnterFrame = value;\n      this.@setHandler(\'onEnterFrame\', value);\n    }\n  }\n\n  get onThrow(){\n    return this.@onThrow;\n  }\n\n  set onThrow(value){\n    assertSignature(value, Undefined, Function);\n    if (value !== this.@onThrow) {\n      this.@onThrow = value;\n      this.@setHandler(\'onThrow\', value);\n    }\n  }\n\n  get onException(){\n    return this.@onException;\n  }\n\n  set onException(value){\n    assertSignature(value, Undefined, Function);\n    if (value !== this.@onException) {\n      this.@onException = value;\n      this.@setHandler(\'onException\', value);\n    }\n  }\n\n  get onExceptionUnwind(){\n    return this.@onExceptionUnwind;\n  }\n\n  set onExceptionUnwind(value){\n    assertSignature(value, Undefined, Function);\n    if (value !== this.@onExceptionUnwind) {\n      this.@onExceptionUnwind = value;\n      this.@setHandler(\'onExceptionUnwind\', value);\n    }\n  }\n\n  get onError(){\n    return this.@onError;\n  }\n\n  set onError(value){\n    assertSignature(value, Undefined, Function);\n    if (value !== this.@onError) {\n      this.@onError = value;\n      this.@setHandler(\'onError\', value);\n    }\n  }\n\n  get onNewGlobalObject(){\n    return this.@onNewGlobalObject;\n  }\n\n  set onNewGlobalObject(value){\n    assertSignature(value, Undefined, Function);\n    if (value !== this.@onNewGlobalObject) {\n      this.@onNewGlobalObject = value;\n      this.@setHandler(\'onNewGlobalObject\', value);\n    }\n  }\n}\n\n\nconst DebuggerDebuggeeWouldRun = Debugger.DebuggeeWouldRun = class DebuggeeWouldRun {\n  constructor(cause){\n    if (cause) {\n      this.cause = cause;\n    }\n  }\n};\n\nconst DebuggerFrame = Debugger.Frame = class Frame {\n  constructor(){\n\n  }\n\n  eval(code){\n    assertSignature(code, String);\n  }\n\n  evalWithBindings(code, bindings){\n    assertSignature(code, String);\n    assertSignature(bindings, Object);\n  }\n\n  pop(completion){\n    assertSignature(completion, CompletionValue);\n  }\n\n  replaceCall(func, thisArg, ...arguments){\n    assertSignature(func, DebuggerObject);\n    assertSignature(thisArg, DebuggeeValue);\n    assertSignatures(arguments, DebuggeeValue);\n  }\n\n  get onStep(){\n    return this.@onStep;\n  }\n\n  set onStep(value){\n    assertSignature(value, Undefined, Function);\n    if (value !== this.@onStep) {\n      this.@onStep = value;\n      this.@setHandler(\'onStep\', value);\n    }\n  }\n\n  get onPop(){\n    return this.@onPop;\n  }\n\n  set onPop(value){\n    assertSignature(value, Undefined, Function);\n    if (value !== this.@onPop) {\n      this.@onPop = value;\n      this.@setHandler(\'onPop\', value);\n    }\n  }\n\n  get onResume(){\n    return this.@onResume;\n  }\n\n  set onResume(value){\n    assertSignature(value, Undefined, Function);\n    if (value !== this.@onResume) {\n      this.@onResume = value;\n      this.@setHandler(\'onResume\', value);\n    }\n  }\n\n  get type(){\n    return $$Get()\n  }\n\n  get this(){\n  }\n\n  get older(){\n  }\n\n  get depth(){\n  }\n\n  get live(){\n  }\n\n  get script(){\n  }\n\n  get offset(){\n  }\n\n  get environment(){\n  }\n\n  get callee(){\n  }\n\n  get generator(){\n  }\n\n  get constructing(){\n  }\n};\n\nconst DebuggerScript = Debugger.Script = class Script {\n  decompile(pretty){\n    assertSignature(pretty, Undefined, Boolean);\n  }\n\n  getAllOffsets(){\n  }\n\n  getLineOffsets(line){\n    assertSignature(line, Number);\n  }\n\n  getOffsetLine(offset){\n    assertSignature(offset, Number);\n  }\n\n  getChildScripts(){\n  }\n\n  setBreakpoint(offset, handler){\n    assertSignature(offset, Number);\n    assertSignature(handler, BreakpointHandler);\n  }\n\n  getBreakpoints(offset){\n    assertSignature(offset, Undefined, Number);\n  }\n\n  clearBreakpoints(handler, offset){\n    assertSignature(handler, BreakpointHandler);\n    assertSignature(offset, Undefined, Number);\n  }\n\n  get url(){\n  }\n\n  get startLine(){\n  }\n\n  get lineCount(){\n  }\n\n  get staticLevel(){\n  }\n};\n\nconst DebuggerObject = Debugger.Object = class Object {\n  getProperty(name) {\n    assertSignature(name, String);\n  }\n\n  setProperty(name, value){\n    assertSignature(name, String);\n    assertSignature(value, DebuggeeValue);\n  }\n\n  getOwnPropertyDescriptor(name){\n    assertSignature(name, String);\n  }\n\n  getOwnPropertyNames(){\n  }\n\n  defineProperty(name, attributes){\n    assertSignature(name, String);\n    assertSignature(attributes, Descriptor);\n  }\n\n  defineProperties(properties){\n    assertSignature(properties, Object);\n  }\n\n  deleteProperty(name){\n    assertSignature(name, String);\n  }\n\n  seal(){\n  }\n\n  freeze(){\n  }\n\n  preventExtensions(){\n  }\n\n  isSealed(){\n  }\n\n  isFrozen(){\n  }\n\n  isExtensible(){\n  }\n\n  copy(value){\n    assertSignature(value, DebuggerObject);\n  }\n\n  create(prototype, properties){\n    assertSignature(prototype, DebuggerObject, Null);\n    assertSignature(properties, Undefined, Object);\n  }\n\n  makeDebuggeeValue(value){\n  }\n\n  decompile(pretty){\n    assertSignature(pretty, Undefined, Boolean);\n  }\n\n  call(thisArg, ...arguments){\n    assertSignature(thisArg, DebuggeeValue, AsConstructor);\n    assertSignatures(arguments, DebuggeeValue);\n  }\n\n  apply(thisArg, arguments){\n    assertSignature(thisArg, DebuggeeValue, AsConstructor);\n    assertSignature(arguments, DebuggeeValue);\n  }\n\n  evalInGlobal(code){\n    assertSignature(code, String);\n  }\n\n  evalInGlobalWithBindings(code, bindings){\n    assertSignature(code, String);\n    assertSignature(bindings, Object);\n  }\n\n  asEnvironment(){\n  }\n\n  setObjectWatchpoint(handler){\n    assertSignature(handler, WatchpointHandler, Null);\n  }\n\n  clearObjectWatchpoint(){\n  }\n\n  setPropertyWatchpoint(name, handler){\n    assertSignature(name, String);\n    assertSignature(handler, WatchpointHandler, Null);\n  }\n\n  clearPropertyWatchpoint(name){\n    assertSignature(name, String);\n  }\n\n  unwrap(){\n  }\n\n  get proto(){\n  }\n\n  get brand(){\n  }\n\n  get callable(){\n  }\n\n  get name(){\n  }\n\n  get displayName(){\n  }\n\n  get parameters(){\n  }\n\n  get script(){\n  }\n\n  get environment(){\n  }\n\n  get proxyHandler(){\n  }\n\n  get global(){\n  }\n};\n\nconst DebuggerEnvironment = Debugger.Environment = class Environment {\n  names(){\n  }\n\n  getVariable(name){\n    assertSignature(name, String);\n  }\n\n  setVariable(name, value){\n    assertSignature(name, String);\n    assertSignature(value, DebuggeeValue);\n  }\n\n  getVariableDescriptor(name){\n    assertSignature(name, String);\n  }\n\n  defineVariable(name, descriptor){\n    assertSignature(name, String);\n    assertSignature(descriptor, Descriptor);\n  }\n\n  deleteVariable(name){\n    assertSignature(name, String);\n  }\n\n  find(name){\n    assertSignature(name, String);\n  }\n\n  eval(code){\n    assertSignature(code, String);\n  }\n\n  evalWithBindings(code, bindings){\n    assertSignature(code, String);\n    assertSignature(bindings, Object);\n  }\n\n  get type(){\n  }\n\n  get parent(){\n  }\n\n  get object(){\n  }\n\n  get thisValue(){\n  }\n};\n',c.builtins['@dict']='import {\n  builtinFunction\n} from \'@@utilities\';\n\nimport {\n  ObjectCreate\n} from \'@@types\';\n\nimport {\n  ToObject\n} from \'@@operations\';\n\nimport {\n  hasOwn\n} from \'@reflect\';\n\n\nexport function keys(obj){\n  obj = ToObject(obj);\n  return (function*(){\n    for (let x in obj) {\n      if (hasOwn(obj, x)) {\n        yield x;\n      }\n    }\n  })();\n}\n\nbuiltinFunction(keys);\n\n\nexport function values(obj){\n  obj = ToObject(obj);\n  return (function*(){\n    for (let x in obj) {\n      if (hasOwn(obj, x)) {\n        yield obj[x];\n      }\n    }\n  })();\n}\n\nbuiltinFunction(values);\n\n\nexport function entries(obj){\n  obj = ToObject(obj);\n  return (function*(){\n    for (let x in obj) {\n      if (hasOwn(obj, x)) {\n        yield [x, obj[x]];\n      }\n    }\n  })();\n}\n\nbuiltinFunction(entries);\n\n\nexport function dict(init){\n  const d = ObjectCreate(null);\n  if (init) {\n    for (let key of keys(init)) {\n      d[key] = init[key];\n    }\n  }\n  return d;\n}\n\nbuiltinFunction(dict);\n',c.builtins['@error']='import {\n  $$GetIntrinsic\n} from \'@@internals\';\n\nimport {\n  builtinClass\n} from \'@@utilities\';\n\nimport {\n  ToString\n} from \'@@operations\';\n\nconst global = $$GetIntrinsic(\'global\');\n\nexport class Error {\n  constructor(message){\n    message = ToString(message);\n    if (this == null || this === global || this === ErrorPrototype) {\n      return $__ErrorCreate(\'Error\', message);\n    }\n    this.message = message;\n    return this;\n  }\n\n  toString(){\n    return this.name + \': \' + this.message;\n  }\n}\n\nbuiltinClass(Error, \'BuiltinError\');\n\n\nexport class EvalError extends Error {\n  constructor(message){\n    message = ToString(message);\n    if (this == null || this === global || this === EvalErrorPrototype) {\n      return $__ErrorCreate(\'EvalError\', message);\n    }\n    this.message = message;\n    return this;\n  }\n}\n\nbuiltinClass(EvalError, \'BuiltinError\');\n\n\nexport class RangeError extends Error {\n  constructor(message){\n    message = ToString(message);\n    if (this == null || this === global || this === RangeErrorPrototype) {\n      return $__ErrorCreate(\'RangeError\', message);\n    }\n    this.message = message;\n    return this;\n  }\n}\n\nbuiltinClass(RangeError, \'BuiltinError\');\n\n\nexport class ReferenceError extends Error {\n  constructor(message){\n    message = ToString(message);\n    if (this == null || this === global || this === ReferenceErrorPrototype) {\n      return $__ErrorCreate(\'ReferenceError\', message);\n    }\n    this.message = message;\n    return this;\n  }\n}\n\nbuiltinClass(ReferenceError, \'BuiltinError\');\n\n\nexport class SyntaxError extends Error {\n  constructor(message){\n    message = ToString(message);\n    if (this == null || this === global || this === SyntaxErrorPrototype) {\n      return $__ErrorCreate(\'SyntaxError\', message);\n    }\n    this.message = message;\n    return this;\n  }\n}\n\nbuiltinClass(SyntaxError, \'BuiltinError\');\n\n\nexport class TypeError extends Error {\n  constructor(message){\n    message = ToString(message);\n    if (this == null || this === global || this === TypeErrorPrototype) {\n      return $__ErrorCreate(\'TypeError\', message);\n    }\n    this.message = message;\n    return this;\n  }\n}\n\nbuiltinClass(TypeError, \'BuiltinError\');\n\n\nexport class URIError extends Error {\n  constructor(message){\n    message = ToString(message);\n    if (this == null || this === global || this === URIErrorPrototype) {\n      return $__ErrorCreate(\'URIError\', message);\n    }\n    this.message = message;\n    return this;\n  }\n}\n\nbuiltinClass(URIError, \'BuiltinError\');\n\n\nconst ErrorPrototype          = Error.prototype,\n      EvalErrorPrototype      = EvalError.prototype,\n      RangeErrorPrototype     = RangeError.prototype,\n      ReferenceErrorPrototype = ReferenceError.prototype,\n      SyntaxErrorPrototype    = SyntaxError.prototype,\n      TypeErrorPrototype      = TypeError.prototype,\n      URIErrorPrototype       = URIError.prototype;\n',c.builtins['@function']='import {\n  @@create: create,\n  @@hasInstance: hasInstance\n} from \'@@symbols\';\n\nimport {\n  OrdinaryCreateFromConstructor,\n  OrdinaryHasInstance\n} from \'@@operations\';\n\nimport {\n  //builtinClass,\n  define,\n  ensureArgs,\n  ensureFunction\n} from \'@@utilities\';\n\nimport {\n  $$Invoke\n} from \'@@internals\';\n\nexport class Function {\n  constructor(...args){\n    return $__FunctionCreate(...args);\n  }\n\n  apply(thisArg, args){\n    ensureFunction(this, \'Function.prototype.apply\');\n    return $$Invoke(this, \'Call\', thisArg, $$Get(ensureArgs(args), \'array\'));\n  }\n\n  bind(thisArg, ...args){\n    ensureFunction(this, \'Function.prototype.bind\');\n    return $__BoundFunctionCreate(this, thisArg, args);\n  }\n\n  call(thisArg, ...args){\n    ensureFunction(this, \'Function.prototype.call\');\n    return $$Invoke(this, \'Call\', thisArg, $$Get(args, \'array\'));\n  }\n\n  toString(){\n    ensureFunction(this, \'Function.prototype.toString\');\n    return $__FunctionToString(this);\n  }\n\n  @@create(){\n    return OrdinaryCreateFromConstructor(this, \'%ObjectPrototype%\');\n  }\n\n  @@hasInstance(V){\n    return OrdinaryHasInstance(this, V);\n  }\n}\n\nbuiltinClass(Function);\n\ndefine(Function.prototype, \'name\', \'\', FROZEN);\n\n\n\nexport function apply(func, thisArg, args){\n  ensureFunction(func, \'@function.apply\');\n  return $$Invoke(func, \'Call\', thisArg, $$Get(ensureArgs(args), \'array\'));\n}\n\nbuiltinFunction(apply);\n\n\nexport function bind(func, thisArg, ...args){\n  ensureFunction(func, \'@function.bind\');\n  return $__BoundFunctionCreate(func, thisArg, args);\n}\n\nbuiltinFunction(bind);\n\n\nexport function call(func, thisArg, ...args){\n  ensureFunction(func, \'@function.call\');\n  return $$Invoke(func, \'Call\', thisArg, $$Get(args, \'array\'));\n}\n\nbuiltinFunction(call);\n',c.builtins['@globals']='import {\n  $$Get,\n  $$GetIntrinsic,\n  $$Set\n} from \'@@internals\';\n\nimport {\n  builtinFunction,\n  define,\n  setTag\n} from \'@@utilities\';\n\nimport {\n  ToNumber,\n  ToPrimitive,\n  ToString\n} from \'@@operations\';\n\nsetTag($$GetIntrinsic(\'global\'), \'global\');\nsetTag($$GetIntrinsic(\'StopIteration\'), \'StopIteration\');\n\n\nexport function decodeURI(value){\n  return $__decodeURI(ToString(value));\n}\n\nbuiltinFunction(decodeURI);\n\n\nexport function decodeURIComponent(value){\n  return $__decodeURIComponent(ToString(value));\n}\n\nbuiltinFunction(decodeURIComponent);\n\n\nexport function encodeURI(value){\n  return $__encodeURI(ToString(value));\n}\n\nbuiltinFunction(encodeURI);\n\n\nexport function encodeURIComponent(value){\n  return $__encodeURIComponent(ToString(value));\n}\n\nbuiltinFunction(encodeURIComponent);\n\n\nexport function escape(value){\n  return $__escape(ToString(value));\n}\n\nbuiltinFunction(escape);\n\n\nexport function eval(source){}\nbuiltinFunction(eval);\n$$Set(eval, \'Call\', $$Get($__eval, \'Call\'));\n$$Set(eval, \'Construct\', $$Get($__eval, \'Construct\'));\n\n\nexport function isFinite(number){\n  number = ToNumber(number);\n  return number === number && number !== Infinity && number !== -Infinity;\n}\n\nbuiltinFunction(isFinite);\n\n\nexport function isNaN(number){\n  number = ToNumber(number);\n  return number !== number;\n}\n\nbuiltinFunction(isNaN);\n\n\nexport function parseFloat(value){\n  return $__parseFloat(ToPrimitive(value));\n}\n\nbuiltinFunction(parseFloat);\n\n\nexport function parseInt(value, radix){\n  return $__parseInt(ToPrimitive(value), +radix);\n}\n\nbuiltinFunction(parseInt);\n\n\nexport function unescape(value){\n  return $__unescape(ToString(value));\n}\n\nbuiltinFunction(unescape);\n',c.builtins['@iter']='import {\n  builtinClass,\n  builtinFunction\n} from \'@@utilities\';\n\nimport {\n  @@iterator: iterator\n} from \'@@symbols\';\n\nimport {\n  ToObject\n} from \'@@operations\';\n\n\nexport const iterator = @@iterator;\n\n\nexport function zip(a, b){\n  const keys = a.@@iterator(),\n        vals = b.@@iterator();\n\n  return (function*(){\n    while (true) {\n      yield [keys.next(), vals.next()];\n    }\n  })();\n}\n\nbuiltinFunction(zip);\n\n\nexport function unzip(iterable){\n  const obj = ToObject(iterable);\n\n  if (\'values\' in obj) {\n    const keys = \'keys\' in obj ? obj.keys() : obj.values(),\n          vals = obj.values();\n\n    return [ (function*(){ while (1) yield keys.next() })(),\n             (function*(){ while (1) yield vals.next() })() ];\n  }\n\n  let key = \'entries\' in obj ? \'entries\' : @@iterator in obj ? @@iterator : null;\n  if (key) {\n    const keys = obj[key](),\n          vals = obj[key]();\n\n    return [ (function*(){ while (1) yield keys.next()[0] })(),\n             (function*(){ while (1) yield vals.next()[1] })() ];\n  }\n}\n\nbuiltinFunction(unzip);\n\n\nexport class Iterator {\n  @@iterator(){\n    return this;\n  }\n}\n\nbuiltinClass(Iterator);\n',c.builtins['@json']='import {\n  call,\n  extend,\n  hasBrand,\n  setTag\n} from \'@@utilities\';\n\nimport {\n  $$Get,\n  $$Exception,\n  $$Set\n} from \'@@internals\';\n\nimport {\n  ToNumber,\n  ToString\n} from \'@@operations\';\n\nimport {\n  Type\n} from \'@@types\';\n\nimport {\n  add,\n  has,\n  Set\n} from \'@set\';\n\nlet ReplacerFunction, PropertyList, stack, indent, gap;\n\nfunction J(value){\n  if (has(stack, value)) {\n    throw $$Exception(\'circular_structure\', []);\n  }\n\n  const stepback = indent,\n        partial  = [];\n\n  let brackets;\n\n  indent += gap;\n  add(stack, value);\n\n  if (hasBrand(value, \'BuiltinArray\')) {\n    brackets = [\'[\', \']\'];\n\n    for (var i=0, len = value.length; i < len; i++) {\n      var prop = Str(i, value);\n      partial[i] = prop === undefined ? \'null\' : prop;\n    }\n  } else {\n    const keys  = PropertyList || $__Enumerate(value, false, true),\n          colon = gap ? \': \' : \':\';\n\n    brackets = [\'{\', \'}\'];\n\n    for (var i=0, len=keys.length; i < len; i++) {\n      const prop = Str(keys[i], value);\n      if (prop !== undefined) {\n        partial.push($__Quote(keys[i]) + colon + prop);\n      }\n    }\n  }\n\n  let final;\n  if (!partial.length) {\n    final = \'\';\n  } else if (!gap) {\n    final = partial.join(\',\');\n  } else {\n    final = \'\\n\' + indent + partial.join(\',\\n\' + indent) + \'\\n\' + stepback;\n  }\n\n  stack.delete(value);\n  indent = stepback;\n  return brackets[0] + final + brackets[1];\n}\n\ninternalFunction(J);\n\nfunction Str(key, holder){\n  let value = holder[key];\n\n  if (Type(value) === \'Object\') {\n    const toJSON = value.toJSON;\n    if (typeof toJSON === \'function\') {\n      value = call(toJSON, value, [key]);\n    }\n  }\n\n  if (ReplacerFunction) {\n    value = call(ReplacerFunction, holder, [key, value]);\n  }\n\n  if (Type(value) === \'Object\') {\n    const brand = $$Get(value, \'BuiltinBrand\');\n    if (brand === \'NumberWrapper\') {\n      value = $$Get(value, \'NumberValue\');\n    } else if (brand === \'StringWrapper\') {\n      value = $$Get(value, \'StringValue\');\n    } else if (brand === \'BooleanWrapper\') {\n      value = $$Get(value, \'BooleanValue\');\n    }\n  }\n\n\n  if (value === null) {\n    return \'null\';\n  } else if (value === true) {\n    return \'true\';\n  } else if (value === false) {\n    return \'false\';\n  }\n\n  const type = Type(value);\n  if (type === \'String\') {\n    return $__Quote(value);\n  } else if (type === \'Number\') {\n    return isNaN(value) || value === Infinity || value === -Infinity ? \'null\' : ToString(value);\n  } else if (type === \'Object\') {\n    return J(value);\n  }\n}\n\ninternalFunction(Str);\n\nexport function stringify(value, replacer, space){\n  ReplacerFunction = undefined;\n  PropertyList = undefined;\n  stack = new Set;\n  indent = \'\';\n\n  if (Type(replacer) === \'Object\') {\n    if (typeof replacer === \'function\') {\n      ReplacerFunction = replacer;\n    } else if (hasBrand(replacer, \'BuiltinArray\')) {\n      let props = new Set;\n\n      for (let value of replacer) {\n        const type = Type(value);\n        let item;\n\n        if (type === \'String\') {\n          item = value;\n        } else if (type === \'Number\') {\n          item = ToString(value);\n        } else if (type === \'Object\') {\n          const brand = $$Get(value, \'BuiltinBrand\');\n          if (brand === \'String\' || brand === \'Number\') {\n            item = ToString(value);\n          }\n        }\n\n        if (item !== undefined) {\n          add(props, item);\n        }\n      }\n\n      PropertyList = [...props];\n    }\n  }\n\n  if (Type(space) === \'Object\') {\n    space = ToString(space);\n  }\n\n  if (Type(space) === \'String\') {\n    gap = $__StringSlice(space, 0, 10);\n  } else if (Type(space) === \'Number\') {\n    space |= 0;\n    space = space > 10 ? 10 : space < 1 ? 0 : space\n    gap = \' \'.repeat(space);\n  } else {\n    gap = \'\';\n  }\n\n  return Str(\'\', { \'\': value });\n}\n\nexport function parse(source, reviver){\n  return $__JSONParse(source, reviver);\n}\n\n\n\nexport const JSON = {};\nextend(JSON, { stringify, parse });\n$$Set(JSON, \'BuiltinBrand\', \'BuiltinJSON\');\nsetTag(JSON, \'JSON\');\n',c.builtins['@map']='import {\n  @@iterator: iterator,\n  @@create  : create\n} from \'@@symbols\';\n\nimport {\n  $$Exception,\n  $$Get,\n  $$Has,\n  $$Set\n} from \'@@internals\';\n\n\nimport {\n  builtinClass,\n  builtinFunction,\n  define,\n  extend,\n  hasBrand,\n  internalFunction,\n  isInitializing\n} from \'@@utilities\';\n\nimport {\n  ObjectCreate,\n  Type\n} from \'@@types\';\n\nimport {\n  OrdinaryCreateFromConstructor,\n  ToObject,\n  ToString\n} from \'@@operations\';\n\nimport {\n  Iterator\n} from \'@iter\';\n\nimport {\n  hasOwn\n} from \'@reflect\';\n\n\nfunction ensureMap(o, name){\n  if (Type(o) !== \'Object\' || !$$Has(o, \'MapData\')) {\n    throw $$Exception(\'called_on_incompatible_object\', [\'Map.prototype.\'+name]);\n  }\n}\n\ninternalFunction(ensureMap);\n\n\nclass MapIterator extends Iterator {\n  private @map,  // Map\n          @key,  // MapNextKey\n          @kind; // MapIterationKind\n\n  constructor(map, kind){\n    this.@map = ToObject(map);\n    this.@key = $__MapSigil();\n    this.@kind = kind;\n  }\n\n  next(){\n    if (Type(this) !== \'Object\') {\n      throw $$Exception(\'called_on_non_object\', [\'MapIterator.prototype.next\']);\n    }\n\n    if (!(hasOwn(this, @map) && hasOwn(this, @key) && hasOwn(this, @kind))) {\n      throw $$Exception(\'called_on_incompatible_object\', [\'MapIterator.prototype.next\']);\n    }\n\n    var kind = this.@kind,\n        item = $__MapNext(this.@map, this.@key);\n\n    if (!item) {\n      throw StopIteration;\n    }\n\n    this.@key = item[0];\n\n    if (kind === \'key+value\') {\n      return item;\n    } else if (kind === \'key\') {\n      return item[0];\n    }\n    return item[1];\n  }\n}\n\nbuiltinClass(MapIterator);\n\n\nexport class Map {\n  constructor(iterable){\n    if (!isInitializing(this, \'MapData\')) {\n      return new Map(iterable);\n    }\n\n    $__MapInitialization(this, iterable);\n  }\n\n  get size(){\n    if (this && $$Has(this, \'MapData\')) {\n      return $__MapSize(this);\n    }\n    return 0;\n  }\n\n  clear(){\n    ensureMap(this, \'clear\');\n    $__MapClear(this, key);\n    return this;\n  }\n\n  delete(key){\n    ensureMap(this, \'delete\');\n    return $__MapDelete(this, key);\n  }\n\n  get(key){\n    ensureMap(this, \'get\');\n    return $__MapGet(this, key);\n  }\n\n  has(key){\n    ensureMap(this, \'has\');\n    return $__MapHas(this, key);\n  }\n\n  entries(){\n    ensureMap(this, \'entries\');\n    return new MapIterator(this, \'key+value\');\n  }\n\n  keys(){\n    ensureMap(this, \'keys\');\n    return new MapIterator(this, \'key\');\n  }\n\n  set(key, value){\n    ensureMap(this, \'set\');\n    $__MapSet(this, key, value);\n    return this;\n  }\n\n  values(){\n    ensureMap(this, \'values\');\n    return new MapIterator(this, \'value\');\n  }\n}\n\nextend(Map, {\n  @@create(){\n    const obj = OrdinaryCreateFromConstructor(this, \'%MapPrototype%\');\n    $$Set(obj, \'MapData\', undefined);\n    $$Set(obj, \'BuiltinBrand\', \'BuiltinMap\');\n    return obj;\n  }\n});\n\nbuiltinClass(Map);\nconst MapPrototype = Map.prototype;\ndefine(MapPrototype, @@iterator, MapPrototype.entries);\n\n\n\nfunction mapClear(map){\n  ensureMap(map, \'@map.clear\');\n  $__MapClear(map);\n  return map;\n}\n\nbuiltinFunction(mapClear);\n\n\nfunction mapDelete(map, key){\n  ensureMap(map, \'@map.delete\');\n  return $__MapDelete(map, key);\n}\n\nbuiltinFunction(mapDelete);\n\n\nfunction mapGet(map, key){\n  ensureMap(map, \'@map.get\');\n  return $__MapGet(map, key);\n}\n\nbuiltinFunction(mapGet);\n\n\nfunction mapHas(map, key){\n  ensureMap(map, \'@map.has\');\n  return $__MapHas(map, key);\n}\n\nbuiltinFunction(mapHas);\n\n\nfunction mapIterate(map, kind){\n  ensureMap(map, \'@map.iterate\');\n  return new MapIterator(map, kind === undefined ? \'key+value\' : ToString(kind));\n}\n\nbuiltinFunction(mapIterate);\n\n\nfunction mapSet(map, key, value){\n  ensureMap(map, \'@map.set\');\n  $__MapSet(map, key, value);\n  return map;\n}\n\nbuiltinFunction(mapSet);\n\n\nfunction mapSize(map){\n  ensureMap(map, \'@map.size\');\n  return $__MapSize(map);\n}\n\nbuiltinFunction(mapSize);\n\n\nexport const clear   = mapClear,\n           //delete  = mapDelete, TODO: fix exporting reserved names\n             get     = mapGet,\n             has     = mapHas,\n             iterate = mapIterate,\n             set     = mapSet,\n             size    = mapSize;\n',c.builtins['@math']='import {\n  ToInt32,\n  ToNumber,\n  ToUint32\n} from \'@@operations\';\n\nimport {\n  builtinFunction,\n  define,\n  internalFunction,\n  set,\n  setTag,\n  update\n} from \'@@utilities\';\n\nimport {\n  $$Set\n} from \'@@internals\';\n\n\n\nexport const E       = 2.718281828459045,\n             LN10    = 2.302585092994046,\n             LN2     = 0.6931471805599453,\n             LOG10E  = 0.4342944819032518,\n             LOG2E   = 1.4426950408889634,\n             PI      = 3.141592653589793,\n             SQRT1_2 = 0.7071067811865476,\n             SQRT2   = 1.4142135623730951;\n\n\nfunction isFiniteNonZero(value) {\n  return value === value\n      && value !== 0\n      && value !== -Infinity\n      && value !== Infinity;\n}\n\ninternalFunction(isFiniteNonZero);\n\n\nfunction factorial(x){\n  let i = 2,\n      n = 1;\n\n  while (i <= x) {\n    n *= i++;\n  }\n\n  return n;\n}\n\ninternalFunction(factorial);\n\n\nexport function abs(x){\n  x = ToNumber(x);\n  return x === 0 ? 0 : x < 0 ? -x : x;\n}\n\nexport function acos(x){\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? $__acos(x) : x;\n}\n\nexport function acosh(x){\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? $__log(x + $__sqrt(x * x - 1)) : x;\n}\n\nexport function asin(x){\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? $__asin(x) : x;\n}\n\nexport function asinh(x){\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? $__log(x + $__sqrt(x * x + 1)) : x;\n}\n\nexport function atan(x){\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? $__atan(x) : x;\n}\n\nexport function atan2(x){\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? $__atan2(x) : x;\n}\n\nexport function atanh(x) {\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? .5 * $__log((1 + x) / (1 - x)) : x;\n}\n\nexport function ceil(x){\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? x + 1 >> 0 : x;\n}\n\nexport function cos(x){\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? $__cos(x) : x;\n}\n\nexport function cosh(x) {\n  x = ToNumber(x);\n  if (!isFiniteNonZero(x)) {\n    return x;\n  }\n  x = abs(x);\n  if (x > 21) {\n    return $__exp(x) / 2;\n  }\n  return ($__exp(x) + $__exp(-x)) / 2;\n}\n\nexport function exp(x){\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? $__exp(x) : x;\n}\n\nexport function expm1(x) {\n  x = ToNumber(x);\n  if (!isFiniteNonZero(x)) {\n    return x;\n  }\n\n  let o = 0,\n      n = 50;\n\n  for (var i = 1; i < n; i++) {\n    o += $__pow(x, i) / factorial(i);\n  }\n\n  return o;\n}\n\nexport function floor(x){\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? x >> 0 : x;\n}\n\nexport function hypot(x, y) {\n  x = ToNumber(x);\n  y = ToNumber(y);\n  if (!isFiniteNonZero(x)) {\n    return x;\n  }\n  if (!isFiniteNonZero(y)) {\n    return y;\n  }\n  return $__sqrt(x * x + y * y);\n}\n\nexport function imul(x, y){\n  x = ToUint32(x);\n  y = ToUint32(y);\n\n  return ToInt32((x * y) & 0xffffffff);\n}\n\nexport function log(x){\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? $__log(x) : x;\n}\n\nexport function log10(x){\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? $__log(x) * LOG10E : x;\n}\n\nexport function log1p(x){\n  x = ToNumber(x);\n  if (!isFiniteNonZero(x)) {\n    return x;\n  }\n\n  let o = 0,\n      n = 50;\n\n  if (x <= -1) {\n    return -Infinity;\n  } else if (x < 0 || x > 1) {\n    return $__log(1 + x);\n  } else {\n    for (var i = 1; i < n; i++) {\n      if ((i % 2) === 0) {\n        o -= $__pow(x, i) / i;\n      } else {\n        o += $__pow(x, i) / i;\n      }\n    }\n    return o;\n  }\n}\n\nexport function log2(x){\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? $__log(x) * LOG2E : x;\n}\n\nexport function max(...values){\n  const count = values.length;\n\n  if (count === 0) {\n    return -Infinity;\n  } else if (count === 1) {\n    return ToNumber(values[0]);\n  } else if (count === 2) {\n    const x = ToNumber(values[0]),\n          y = ToNumber(values[1]);\n\n    if (x !== x || y !== y) {\n      return NaN;\n    }\n    return x > y ? x : y;\n  } else {\n    let index   = count,\n        maximum = -Infinity;\n\n    while (index--) {\n      const current = ToNumber(values[index]);\n\n      if (current !== current) {\n        return NaN;\n      } else if (current > maximum) {\n        maximum = current;\n      }\n    }\n\n    return maximum;\n  }\n}\n\nset(max, \'length\', 2);\n\nexport function min(...values){\n  const count = values.length;\n\n  if (count === 0) {\n    return Infinity;\n  } else if (count === 1) {\n    return ToNumber(values[0]);\n  } else if (count === 2) {\n    const x = ToNumber(values[0]),\n          y = ToNumber(values[1]);\n\n    if (x !== x || y !== y) {\n      return NaN;\n    }\n    return x < y ? x : y;\n  } else {\n    let index   = count,\n        minimum = Infinity;\n\n    while (index--) {\n      const current = ToNumber(values[index]);\n\n      if (current !== current) {\n        return NaN;\n      } else if (current < minimum) {\n        minimum = current;\n      }\n    }\n\n    return minimum;\n  }\n}\n\nset(min, \'length\', 2);\n\nexport function pow(x, y){\n  return $__pow(ToNumber(x), ToNumber(y));\n}\n\nexport let random = $__random;\n\nexport function round(x){\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? x + .5 | 0 : x;\n}\n\nexport function sign(x){\n  x = ToNumber(x);\n  return x === 0 || x !== x ? x : x < 0 ? -1 : 1;\n}\n\nexport function sin(x){\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? $__sin(x) : x;\n}\n\nexport function sinh(x){\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? ($__exp(x) - $__exp(-x)) / 2 : x;\n}\n\nexport function sqrt(x, y){\n  return $__sqrt(+x, +y);\n}\n\nexport function tan(x){\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? $__tan(x) : x;\n}\n\nexport function tanh(x) {\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? ($__exp(x) - $__exp(-x)) / ($__exp(x) + $__exp(-x)) : x;\n}\n\nexport function trunc(x){\n  x = ToNumber(x);\n  return isFiniteNonZero(x) ? ~~x : x;\n}\n\nexport const Math = {\n  E, LN10, LN2, LOG10E, LOG2E, PI, SQRT1_2, SQRT2,\n  abs, acos, acosh, asinh, asin, atan, atanh, atan2, ceil, cos,\n  cosh, exp, expm1, floor, hypot, log, log2, log10, log1p, max,\n  min, pow, random, round, sign, sinh, sin, sqrt, tan, tanh, trunc\n};\n\n$$Set(Math, \'BuiltinBrand\', \'BuiltinMath\');\nsetTag(Math, \'Math\');\n\nfor (let k in Math) {\n  if (typeof Math[k] === \'function\') {\n    builtinFunction(Math[k]);\n    update(Math, k, 6);\n  } else {\n    update(Math, k, 0);\n  }\n}\n',c.builtins['@number']='import {\n  $$ArgumentCount,\n  $$Exception,\n  $$Get,\n  $$NumberToString,\n  $$Set\n} from \'@@internals\';\n\nimport {\n  OrdinaryCreateFromConstructor,\n  ToInteger,\n  ToNumber\n} from \'@@operations\';\n\nimport {\n  Type\n} from \'@@types\';\n\nimport {\n  builtinClass,\n  define,\n  extend,\n  floor,\n  hasBrand,\n  isInitializing\n} from \'@@utilities\';\n\n\n\nexport const EPSILON           = 2.220446049250313e-16,\n             MAX_INTEGER       = 9007199254740992,\n             MAX_VALUE         = 1.7976931348623157e+308,\n             MIN_VALUE         = 5e-324,\n             NaN               = +\'NaN\',\n             NEGATIVE_INFINITY = 1 / -0,\n             POSITIVE_INFINITY = 1 / 0;\n\n\n\n\nexport class Number {\n  constructor(value){\n    value = $$ArgumentCount() ? ToNumber(value) : 0;\n\n    if (!isInitializing(this, \'NumberValue\')) {\n      return value;\n    }\n\n    $$Set(this, \'NumberValue\', value);\n  }\n\n  toString(radix = 10){\n    if (typeof this === \'number\') {\n      return $$NumberToString(this, ToInteger(radix));\n    } else if (hasBrand(this, \'NumberWrapper\')) {\n      return $$NumberToString($$Get(this, \'NumberValue\'), ToInteger(radix));\n    }\n\n    throw $$Exception(\'not_generic\', [\'Number.prototype.toString\']);\n  }\n\n  valueOf(){\n    if (typeof this === \'number\') {\n      return this;\n    } else if (hasBrand(this, \'NumberWrapper\')) {\n      return $$Get(this, \'NumberValue\');\n    }\n\n    throw $$Exception(\'not_generic\', [\'Number.prototype.valueOf\']);\n  }\n\n  clz(){\n    let x = ToNumber(this);\n\n    if (!x || !isFinite(x)) {\n      return 32;\n    }\n\n    x = x < 0 ? floor(x + 1) : floor(x);\n    x -= floor(x / 0x100000000) * 0x100000000;\n    return 32 - $$NumberToString(x, 2).length;\n  }\n}\n\nbuiltinClass(Number, \'NumberWrapper\');\n$$Set(Number.prototype, \'NumberValue\', 0);\n\n\nexport function isNaN(value){\n  return value !== value;\n}\n\nexport function isFinite(value){\n  return typeof value === \'number\'\n      && value === value\n      && value < POSITIVE_INFINITY\n      && value > NEGATIVE_INFINITY;\n}\n\n\nexport function isInteger(value) {\n  return typeof value === \'number\'\n      && value === value\n      && value > -MAX_INTEGER\n      && value < MAX_INTEGER\n      && value | 0 === value;\n}\n\nexport function toInteger(value){\n  return (value / 1 || 0) | 0;\n}\n\nextend(Number, { isNaN, isFinite, isInteger, toInteger,\n                 EPSILON, MAX_INTEGER, MAX_VALUE, MIN_VALUE,\n                 NaN, NEGATIVE_INFINITY, POSITIVE_INFINITY });\n\nextend(Number, {\n  @@create(){\n    const obj = OrdinaryCreateFromConstructor(this, \'%NumberPrototype%\');\n    $$Set(obj, \'BuiltinBrand\', \'NumberWrapper\');\n    $$Set(obj, \'NumberValue\', undefined);\n    return obj;\n  }\n});\n',c.builtins['@object']='import {\n  ToBoolean,\n  ToObject,\n  ToPropertyKey\n} from \'@@operations\';\n\nimport {\n  //builtinClass,\n  builtinFunction,\n  ensureFunction,\n  ensureObject,\n  ensureProto,\n  extend,\n  query\n} from \'@@utilities\';\n\nimport {\n  ObjectCreate,\n  Type\n} from \'@@types\';\n\nimport {\n  $$Exception,\n  $$Has,\n  $$Invoke,\n  $$GetIntrinsic,\n  $$SetIntrinsic\n} from \'@@internals\';\n\nimport {\n  toStringTag: @@toStringTag\n} from \'@@symbols\'\n\nimport {\n  hasOwn\n} from \'@reflect\';\n\n\nexport class Object {\n  constructor(value){\n    return value == null ? {} : ToObject(value);\n  }\n\n  hasOwnProperty(key){\n    return hasOwn(ToObject(this), key);\n  }\n\n  isPrototypeOf(object){\n    while (Type(object) === \'Object\') {\n      object = $$Invoke(object, \'GetInheritance\');\n      if (object === this) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  propertyIsEnumerable(key){\n    return ToBoolean(query(ToObject(this), key) & 1);\n  }\n\n  toLocaleString(){\n    return this.toString();\n  }\n\n  toString(){\n    if (this === undefined) {\n      return \'[object Undefined]\';\n    } else if (this === null) {\n      return \'[object Null]\';\n    }\n    return \'[object \' + ToObject(this).@@toStringTag + \']\';\n  }\n\n  valueOf(){\n    return ToObject(this);\n  }\n}\n\nbuiltinClass(Object);\n\n$$SetIntrinsic(\'%ObjProto_toString%\', Object.prototype.toString);\n\n\nexport function assign(target, source){\n  ensureObject(target, \'Object.assign\');\n  source = ToObject(source);\n\n  for (let [i, key] of $__Enumerate(source, false, true)) {\n    const prop = source[key];\n    if (typeof prop === \'function\' && $$Has(prop, \'HomeObject\')) {\n      // TODO\n    }\n    target[key] = prop;\n  }\n\n  return target;\n}\n\nexport function create(proto, properties){\n  ensureProto(proto, \'Object.create\');\n  const object = ObjectCreate(proto);\n\n  if (properties !== undefined) {\n    ensureDescriptor(properties);\n\n    for (var key in properties) {\n      const desc = properties[key];\n      ensureDescriptor(desc);\n      $__DefineOwnProperty(object, key, desc);\n    }\n  }\n\n  return object;\n}\n\nexport function defineProperty(object, key, property){\n  ensureObject(object, \'Object.defineProperty\');\n  ensureDescriptor(property);\n  $__DefineOwnProperty(object, ToPropertyKey(key), property);\n  return object;\n}\n\nexport function defineProperties(object, properties){\n  ensureObject(object, \'Object.defineProperties\');\n  ensureDescriptor(properties);\n\n  for (var key in properties) {\n    const desc = properties[key];\n    ensureDescriptor(desc);\n    $__DefineOwnProperty(object, key, desc);\n  }\n\n  return object;\n}\n\nexport function freeze(object){\n  ensureObject(object, \'Object.freeze\');\n  const props = $__Enumerate(object, false, false);\n\n  for (var i=0; i < props.length; i++) {\n    const desc = $__GetOwnProperty(object, props[i]);\n    if (desc.configurable) {\n      desc.configurable = false;\n      if (\'writable\' in desc) {\n        desc.writable = false;\n      }\n      $__DefineOwnProperty(object, props[i], desc);\n    }\n  }\n\n  $$Invoke(object, \'PreventExtensions\');\n  return object;\n}\n\n$__freeze = freeze;\n\nexport function getOwnPropertyDescriptor(object, key){\n  ensureObject(object, \'Object.getOwnPropertyDescriptor\');\n  return $__GetOwnProperty(object, ToPropertyKey(key));\n}\n\nexport function getOwnPropertyNames(object){\n  ensureObject(object, \'Object.getOwnPropertyNames\');\n  return $__Enumerate(object, false, false);\n}\n\nexport function getPropertyDescriptor(object, key){\n  ensureObject(object, \'Object.getPropertyDescriptor\');\n  return $__GetProperty(object, ToPropertyKey(key));\n}\n\nexport function getPropertyNames(object){\n  ensureObject(object, \'Object.getPropertyNames\');\n  return $__Enumerate(object, true, false);\n}\n\nexport function getPrototypeOf(object){\n  ensureObject(object, \'Object.getPrototypeOf\');\n  return $$Invoke(object, \'GetInheritance\');\n}\n\nexport function is(x, y){\n  return x === y ? x !== 0 || 1 / x === 1 / y : x !== x && y !== y;\n}\n\nexport function isnt(x, y){\n  return x === y ? x === 0 && 1 / x !== 1 / y : x === x || y === y;\n}\n\nexport function isExtensible(object){\n  ensureObject(object, \'Object.isExtensible\');\n  return $$Invoke(object, \'IsExtensible\');\n}\n\nexport function isFrozen(object){\n  ensureObject(object, \'Object.isFrozen\');\n  if ($$Invoke(object, \'IsExtensible\')) {\n    return false;\n  }\n\n  const props = $__Enumerate(object, false, false);\n\n  for (var i=0; i < props.length; i++) {\n    const desc = $__GetOwnProperty(object, props[i]);\n    if (desc && desc.configurable || \'writable\' in desc && desc.writable) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function isSealed(object){\n  ensureObject(object, \'Object.isSealed\');\n  if ($$Invoke(object, \'IsExtensible\')) {\n    return false;\n  }\n\n  const props = $__Enumerate(object, false, false);\n\n  for (var i=0; i < props.length; i++) {\n    const desc = $__GetOwnProperty(object, props[i]);\n    if (desc && desc.configurable) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function keys(object){\n  ensureObject(object, \'Object.keys\');\n  return $__Enumerate(object, false, true);\n}\n\nexport function preventExtensions(object){\n  ensureObject(object, \'Object.preventExtensions\');\n  $$Invoke(object, \'PreventExtensions\');\n  return object;\n}\n\nexport function seal(object){\n  ensureObject(object, \'Object.seal\');\n\n  const desc = { configurable: false },\n        props = $__Enumerate(object, false, false);\n\n  for (var i=0; i < props.length; i++) {\n    $__DefineOwnProperty(object, props[i], desc);\n  }\n\n  $$Invoke(object, \'PreventExtensions\');\n  return object;\n}\n\n\nfunction getObservers(object){\n  return $$GetInternal($__GetNotifier(object), \'ChangeObservers\');\n}\n\ninternalFunction(getObservers);\n\nexport function observe(object, callback){\n  ensureObject(object, \'Object.observe\');\n  ensureFunction(callback, \'Object.observe\');\n  if (isFrozen(callback)) {\n\n  }\n\n  $__AddObserver(getObservers(object), callback);\n  $__AddObserver($$GetIntrinsic(\'ObserverCallbacks\'), callback);\n  return object;\n}\n\nexport function unobserve(object, callback){\n  ensureObject(object, \'Object.unobserve\');\n  ensureFunction(callback, \'Object.unobserve\');\n  $__RemoveObserver(getObservers(object), callback);\n  return object;\n}\n\nexport function deliverChangeRecords(callback){\n  ensureFunction(callback, \'Object.deliverChangeRecords\');\n  $__DeliverChangeRecords(callback);\n}\n\nexport function getNotifier(object){\n  ensureObject(object, \'Object.getNotifier\');\n  return isFrozen(object) ? null : $__GetNotifier(object);\n}\n\n\nextend(Object, { assign, create, defineProperty, defineProperties, deliverChangeRecords,\n  freeze, getNotifier, getOwnPropertyDescriptor, getOwnPropertyNames, getPropertyDescriptor,\n  getPropertyNames, getPrototypeOf, is, isnt, isExtensible, isFrozen, isSealed, keys, observe,\n  preventExtensions, seal, unobserve\n});\n\n\n\nexport function isPrototypeOf(object, prototype){\n  while (prototype) {\n    prototype = $$Invoke(prototype, \'GetInheritance\');\n    if (prototype === object) {\n      return true;\n    }\n  }\n  return false;\n}\n\nbuiltinFunction(isPrototypeOf);\n\n\nexport function hasOwnProperty(object, key){\n  return hasOwn(ToObject(object), key);\n}\n\nbuiltinFunction(hasOwnProperty);\n\n\nexport function propertyIsEnumerable(object, key){\n  return ToBoolean(query(ToObject(object), key) & 1);\n}\n\nbuiltinFunction(propertyIsEnumerable);\n',c.builtins['@parser']='\nexport function parse(src, { loc, range, raw, tokens, comment, source, tolerant } = { source: null }){\n  return $__parse(src, loc, range, raw, tokens, comment, tolerant, source);\n}\n\nexport class Position {\n  constructor(line = 1, column = 0){\n    this.line = line;\n    this.column = column;\n  }\n}\n\nexport class SourceLocation {\n  constructor(start, end){\n    this.start = new Position(start);\n    this.end = new Position(end);\n  }\n}\n\nexport class ASTNode {\n  private @type;\n  constructor(type) {\n    this.type = type;\n  }\n  get type() {\n    return this.@type;\n  }\n  set type(val) {\n    this.@type = val;\n  }\n}\n\nexport class ASTNodeList {\n  private @nodes;\n  constructor(...nodes) {\n    return index(this, nodes, @nodes);\n  }\n}\n\nexport class Expression extends ASTNode {}\nexport class Pattern extends ASTNode {}\nexport class Statement extends ASTNode {}\nexport class Declaration extends Statement {}\n\nexport class ArrayExpression extends Expression {\n  private @elements;\n  constructor(elements) {\n    this.elements = elements;\n  }\n  get elements() {\n    return this.@elements;\n  }\n  set elements(nodelist) {\n    this.@elements = nodelist;\n  }\n}\n\nexport class ArrayPattern extends Pattern {\n  private @elements;\n  constructor(elements) {\n    this.elements = elements;\n  }\n  get elements() {\n    return this.@elements;\n  }\n  set elements(nodelist) {\n    this.@elements = nodelist;\n  }\n}\n\nexport class ArrowFunctionExpression extends Expression {\n  private @params, @body, @defaults, @rest, @generator;\n  constructor(params, body, defaults, rest, generator) {\n    this.params = params;\n    this.body = body;\n    this.defaults = defaults;\n    this.rest = rest;\n    this.generator = generator;\n  }\n  get params() {\n    return this.@params;\n  }\n  set params(nodelist) {\n    this.@params = nodelist;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(node) {\n    this.@body = node;\n  }\n  get defaults() {\n    return this.@defaults;\n  }\n  set defaults(nodelist) {\n    this.@defaults = nodelist;\n  }\n  get rest() {\n    return this.@rest;\n  }\n  set rest(node) {\n    this.@rest = node;\n  }\n  get generator() {\n    return this.@generator;\n  }\n  set generator(val) {\n    this.@generator = val;\n  }\n}\n\nexport class AssignmentExpression extends Expression {\n  private @left, @right, @operator;\n  constructor(left, right, operator) {\n    this.left = left;\n    this.right = right;\n    this.operator = operator;\n  }\n  get left() {\n    return this.@left;\n  }\n  set left(node) {\n    this.@left = node;\n  }\n  get right() {\n    return this.@right;\n  }\n  set right(node) {\n    this.@right = node;\n  }\n  get operator() {\n    return this.@operator;\n  }\n  set operator(val) {\n    this.@operator = val;\n  }\n}\n\nexport class AtSymbol extends Expression {\n  private @name, @internal;\n  constructor(name, internal) {\n    this.name = name;\n    this.internal = internal;\n  }\n  get name() {\n    return this.@name;\n  }\n  set name(val) {\n    this.@name = val;\n  }\n  get internal() {\n    return this.@internal;\n  }\n  set internal(val) {\n    this.@internal = val;\n  }\n}\n\nexport class BlockStatement extends Statement {\n  private @body;\n  constructor(body) {\n    this.body = body;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(nodelist) {\n    this.@body = nodelist;\n  }\n}\n\nexport class BinaryExpression extends Expression {\n  private @left, @right, @operator;\n  constructor(left, right, operator) {\n    this.left = left;\n    this.right = right;\n    this.operator = operator;\n  }\n  get left() {\n    return this.@left;\n  }\n  set left(node) {\n    this.@left = node;\n  }\n  get right() {\n    return this.@right;\n  }\n  set right(node) {\n    this.@right = node;\n  }\n  get operator() {\n    return this.@operator;\n  }\n  set operator(val) {\n    this.@operator = val;\n  }\n}\n\nexport class BreakStatement extends Statement {\n  private @label;\n  constructor(label) {\n    this.label = label;\n  }\n  get label() {\n    return this.@label;\n  }\n  set label(val) {\n    this.@label = val;\n  }\n}\n\nexport class CallExpression extends Expression {\n  private @callee, @args;\n  constructor(callee, args) {\n    this.callee = callee;\n    this.args = args;\n  }\n  get callee() {\n    return this.@callee;\n  }\n  set callee(node) {\n    this.@callee = node;\n  }\n  get args() {\n    return this.@args;\n  }\n  set args(nodelist) {\n    this.@args = nodelist;\n  }\n}\n\nexport class CatchClause extends ASTNode {\n  private @param, @body;\n  constructor(param, body) {\n    this.param = param;\n    this.body = body;\n  }\n  get param() {\n    return this.@param;\n  }\n  set param(node) {\n    this.@param = node;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(node) {\n    this.@body = node;\n  }\n}\n\nexport class ConditionalExpression extends Expression {\n  private @test, @consequent, @alternate;\n  constructor(test, consequent, alternate) {\n    this.test = test;\n    this.consequent = consequent;\n    this.alternate = alternate;\n  }\n  get test() {\n    return this.@test;\n  }\n  set test(node) {\n    this.@test = node;\n  }\n  get consequent() {\n    return this.@consequent;\n  }\n  set consequent(node) {\n    this.@consequent = node;\n  }\n  get alternate() {\n    return this.@alternate;\n  }\n  set alternate(node) {\n    this.@alternate = node;\n  }\n}\n\nexport class ClassBody extends ASTNode {\n  private @body;\n  constructor(body) {\n    this.body = body;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(nodelist) {\n    this.@body = nodelist;\n  }\n}\n\nexport class ClassDeclaration extends Declaration {\n  private @id, @body, @superClass;\n  constructor(id, body, superClass) {\n    this.id = id;\n    this.body = body;\n    this.superClass = superClass;\n  }\n  get id() {\n    return this.@id;\n  }\n  set id(node) {\n    this.@id = node;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(node) {\n    this.@body = node;\n  }\n  get superClass() {\n    return this.@superClass;\n  }\n  set superClass(node) {\n    this.@superClass = node;\n  }\n}\n\nexport class ClassExpression extends Expression {\n  private @id, @body, @superClass;\n  constructor(id, body, superClass) {\n    this.id = id;\n    this.body = body;\n    this.superClass = superClass;\n  }\n  get id() {\n    return this.@id;\n  }\n  set id(node) {\n    this.@id = node;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(node) {\n    this.@body = node;\n  }\n  get superClass() {\n    return this.@superClass;\n  }\n  set superClass(node) {\n    this.@superClass = node;\n  }\n}\n\nexport class ContinueStatement extends Statement {\n  private @label;\n  constructor(label) {\n    this.label = label;\n  }\n  get label() {\n    return this.@label;\n  }\n  set label(val) {\n    this.@label = val;\n  }\n}\n\nexport class ComprehensionBlock extends ASTNode {\n  private @left, @right, @body;\n  constructor(left, right, body) {\n    this.left = left;\n    this.right = right;\n    this.body = body;\n  }\n  get left() {\n    return this.@left;\n  }\n  set left(node) {\n    this.@left = node;\n  }\n  get right() {\n    return this.@right;\n  }\n  set right(node) {\n    this.@right = node;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(node) {\n    this.@body = node;\n  }\n}\n\nexport class ComprehensionExpression extends Expression {\n  private @filter, @blocks, @body;\n  constructor(filter, blocks, body) {\n    this.filter = filter;\n    this.blocks = blocks;\n    this.body = body;\n  }\n  get filter() {\n    return this.@filter;\n  }\n  set filter(node) {\n    this.@filter = node;\n  }\n  get blocks() {\n    return this.@blocks;\n  }\n  set blocks(nodelist) {\n    this.@blocks = nodelist;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(node) {\n    this.@body = node;\n  }\n}\n\nexport class DoWhileStatement extends Statement {\n  private @body, @test;\n  constructor(body, test) {\n    this.body = body;\n    this.test = test;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(node) {\n    this.@body = node;\n  }\n  get test() {\n    return this.@test;\n  }\n  set test(node) {\n    this.@test = node;\n  }\n}\n\nexport class DebuggerStatement extends Statement {\n}\n\nexport class EmptyStatement extends Statement {\n}\n\nexport class ExportDeclaration extends Statement {\n  private @specifiers, @declaration;\n  constructor(specifiers, declaration) {\n    this.specifiers = specifiers;\n    this.declaration = declaration;\n  }\n  get specifiers() {\n    return this.@specifiers;\n  }\n  set specifiers(nodelist) {\n    this.@specifiers = nodelist;\n  }\n  get declaration() {\n    return this.@declaration;\n  }\n  set declaration(node) {\n    this.@declaration = node;\n  }\n}\n\nexport class ExportSpecifier extends ASTNode {\n  private @id, @from;\n  constructor(id, from) {\n    this.id = id;\n    this.from = from;\n  }\n  get id() {\n    return this.@id;\n  }\n  set id(node) {\n    this.@id = node;\n  }\n  get from() {\n    return this.@from;\n  }\n  set from(node) {\n    this.@from = node;\n  }\n}\n\nexport class ExportSpecifierSet extends ASTNode {\n  private @specifiers;\n  constructor(specifiers) {\n    this.specifiers = specifiers;\n  }\n  get specifiers() {\n    return this.@specifiers;\n  }\n  set specifiers(node) {\n    this.@specifiers = node;\n  }\n}\n\nexport class ExpressionStatement extends Statement {\n  private @expression;\n  constructor(expression) {\n    this.expression = expression;\n  }\n  get expression() {\n    return this.@expression;\n  }\n  set expression(node) {\n    this.@expression = node;\n  }\n}\n\nexport class ForStatement extends Statement {\n  private @init, @test, @update, @body;\n  constructor(init, test, update, body) {\n    this.init = init;\n    this.test = test;\n    this.update = update;\n    this.body = body;\n  }\n  get init() {\n    return this.@init;\n  }\n  set init(node) {\n    this.@init = node;\n  }\n  get test() {\n    return this.@test;\n  }\n  set test(node) {\n    this.@test = node;\n  }\n  get update() {\n    return this.@update;\n  }\n  set update(node) {\n    this.@update = node;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(node) {\n    this.@body = node;\n  }\n}\n\nexport class ForInStatement extends Statement {\n  private @left, @right, @body;\n  constructor(left, right, body) {\n    this.left = left;\n    this.right = right;\n    this.body = body;\n  }\n  get left() {\n    return this.@left;\n  }\n  set left(node) {\n    this.@left = node;\n  }\n  get right() {\n    return this.@right;\n  }\n  set right(node) {\n    this.@right = node;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(node) {\n    this.@body = node;\n  }\n}\n\nexport class ForOfStatement extends Statement {\n  private @left, @right, @body;\n  constructor(left, right, body) {\n    this.left = left;\n    this.right = right;\n    this.body = body;\n  }\n  get left() {\n    return this.@left;\n  }\n  set left(node) {\n    this.@left = node;\n  }\n  get right() {\n    return this.@right;\n  }\n  set right(node) {\n    this.@right = node;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(node) {\n    this.@body = node;\n  }\n}\n\nexport class FunctionDeclaration extends Declaration {\n  private @id, @params, @body, @defaults, @rest, @generator;\n  constructor(id, params, body, defaults, rest, generator) {\n    this.id = id;\n    this.params = params;\n    this.body = body;\n    this.defaults = defaults;\n    this.rest = rest;\n    this.generator = generator;\n  }\n  get id() {\n    return this.@id;\n  }\n  set id(node) {\n    this.@id = node;\n  }\n  get params() {\n    return this.@params;\n  }\n  set params(nodelist) {\n    this.@params = nodelist;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(node) {\n    this.@body = node;\n  }\n  get defaults() {\n    return this.@defaults;\n  }\n  set defaults(nodelist) {\n    this.@defaults = nodelist;\n  }\n  get rest() {\n    return this.@rest;\n  }\n  set rest(node) {\n    this.@rest = node;\n  }\n  get generator() {\n    return this.@generator;\n  }\n  set generator(val) {\n    this.@generator = val;\n  }\n}\n\nexport class FunctionExpression extends Expression {\n  private @id, @params, @body, @defaults, @rest, @generator;\n  constructor(id, params, body, defaults, rest, generator) {\n    this.id = id;\n    this.params = params;\n    this.body = body;\n    this.defaults = defaults;\n    this.rest = rest;\n    this.generator = generator;\n  }\n  get id() {\n    return this.@id;\n  }\n  set id(node) {\n    this.@id = node;\n  }\n  get params() {\n    return this.@params;\n  }\n  set params(nodelist) {\n    this.@params = nodelist;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(node) {\n    this.@body = node;\n  }\n  get defaults() {\n    return this.@defaults;\n  }\n  set defaults(nodelist) {\n    this.@defaults = nodelist;\n  }\n  get rest() {\n    return this.@rest;\n  }\n  set rest(node) {\n    this.@rest = node;\n  }\n  get generator() {\n    return this.@generator;\n  }\n  set generator(val) {\n    this.@generator = val;\n  }\n}\n\nexport class Glob extends ASTNode {\n}\n\nexport class Identifier extends Expression {\n  private @name;\n  constructor(name) {\n    this.name = name;\n  }\n  get name() {\n    return this.@name;\n  }\n  set name(val) {\n    this.@name = val;\n  }\n}\n\nexport class IfStatement extends Statement {\n  private @test, @consequent, @alternate;\n  constructor(test, consequent, alternate) {\n    this.test = test;\n    this.consequent = consequent;\n    this.alternate = alternate;\n  }\n  get test() {\n    return this.@test;\n  }\n  set test(node) {\n    this.@test = node;\n  }\n  get consequent() {\n    return this.@consequent;\n  }\n  set consequent(node) {\n    this.@consequent = node;\n  }\n  get alternate() {\n    return this.@alternate;\n  }\n  set alternate(node) {\n    this.@alternate = node;\n  }\n}\n\nexport class ImportDeclaration extends Statement {\n  private @specifiers, @from;\n  constructor(specifiers, from) {\n    this.specifiers = specifiers;\n    this.from = from;\n  }\n  get specifiers() {\n    return this.@specifiers;\n  }\n  set specifiers(nodelist) {\n    this.@specifiers = nodelist;\n  }\n  get from() {\n    return this.@from;\n  }\n  set from(node) {\n    this.@from = node;\n  }\n}\n\nexport class ImportSpecifier extends ASTNode {\n  private @id, @from;\n  constructor(id, from) {\n    this.id = id;\n    this.from = from;\n  }\n  get id() {\n    return this.@id;\n  }\n  set id(node) {\n    this.@id = node;\n  }\n  get from() {\n    return this.@from;\n  }\n  set from(node) {\n    this.@from = node;\n  }\n}\n\nexport class Literal extends Expression {\n  private @value;\n  constructor(value) {\n    this.value = value;\n  }\n  get value() {\n    return this.@value;\n  }\n  set value(val) {\n    this.@value = val;\n  }\n}\n\nexport class LabeledStatement extends Statement {\n  private @label, @body;\n  constructor(label, body) {\n    this.label = label;\n    this.body = body;\n  }\n  get label() {\n    return this.@label;\n  }\n  set label(val) {\n    this.@label = val;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(node) {\n    this.@body = node;\n  }\n}\n\nexport class LogicalExpression extends Expression {\n  private @left, @right, @operator;\n  constructor(left, right, operator) {\n    this.left = left;\n    this.right = right;\n    this.operator = operator;\n  }\n  get left() {\n    return this.@left;\n  }\n  set left(node) {\n    this.@left = node;\n  }\n  get right() {\n    return this.@right;\n  }\n  set right(node) {\n    this.@right = node;\n  }\n  get operator() {\n    return this.@operator;\n  }\n  set operator(val) {\n    this.@operator = val;\n  }\n}\n\nexport class MemberExpression extends Expression {\n  private @object, @property, @computed;\n  constructor(object, property, computed) {\n    this.object = object;\n    this.property = property;\n    this.computed = computed;\n  }\n  get object() {\n    return this.@object;\n  }\n  set object(node) {\n    this.@object = node;\n  }\n  get property() {\n    return this.@property;\n  }\n  set property(node) {\n    this.@property = node;\n  }\n  get computed() {\n    return this.@computed;\n  }\n  set computed(val) {\n    this.@computed = val;\n  }\n}\n\nexport class MethodDefinition extends ASTNode {\n  private @key, @value, @kind;\n  constructor(key, value, kind) {\n    this.key = key;\n    this.value = value;\n    this.kind = kind;\n  }\n  get key() {\n    return this.@key;\n  }\n  set key(node) {\n    this.@key = node;\n  }\n  get value() {\n    return this.@value;\n  }\n  set value(node) {\n    this.@value = node;\n  }\n  get kind() {\n    return this.@kind;\n  }\n  set kind(val) {\n    this.@kind = val;\n  }\n}\n\nexport class ModuleDeclaration extends Declaration {\n  private @id, @body, @from;\n  constructor(id, body, from) {\n    this.id = id;\n    this.body = body;\n    this.from = from;\n  }\n  get id() {\n    return this.@id;\n  }\n  set id(node) {\n    this.@id = node;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(node) {\n    this.@body = node;\n  }\n  get from() {\n    return this.@from;\n  }\n  set from(node) {\n    this.@from = node;\n  }\n}\n\nexport class NewExpression extends Expression {\n  private @callee, @args;\n  constructor(callee, args) {\n    this.callee = callee;\n    this.args = args;\n  }\n  get callee() {\n    return this.@callee;\n  }\n  set callee(node) {\n    this.@callee = node;\n  }\n  get args() {\n    return this.@args;\n  }\n  set args(nodelist) {\n    this.@args = nodelist;\n  }\n}\n\nexport class ObjectExpression extends Expression {\n  private @properties;\n  constructor(properties) {\n    this.properties = properties;\n  }\n  get properties() {\n    return this.@properties;\n  }\n  set properties(nodelist) {\n    this.@properties = nodelist;\n  }\n}\n\nexport class ObjectPattern extends Pattern {\n  private @properties;\n  constructor(properties) {\n    this.properties = properties;\n  }\n  get properties() {\n    return this.@properties;\n  }\n  set properties(nodelist) {\n    this.@properties = nodelist;\n  }\n}\n\nexport class Path extends ASTNode {\n  private @body;\n  constructor(body) {\n    this.body = body;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(nodelist) {\n    this.@body = nodelist;\n  }\n}\n\nexport class Program extends ASTNode {\n  private @body;\n  constructor(body) {\n    this.body = body;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(nodelist) {\n    this.@body = nodelist;\n  }\n}\n\nexport class Property extends ASTNode {\n  private @key, @value, @kind, @method, @shorthand;\n  constructor(key, value, kind, method, shorthand) {\n    this.key = key;\n    this.value = value;\n    this.kind = kind;\n    this.method = method;\n    this.shorthand = shorthand;\n  }\n  get key() {\n    return this.@key;\n  }\n  set key(node) {\n    this.@key = node;\n  }\n  get value() {\n    return this.@value;\n  }\n  set value(node) {\n    this.@value = node;\n  }\n  get kind() {\n    return this.@kind;\n  }\n  set kind(val) {\n    this.@kind = val;\n  }\n  get method() {\n    return this.@method;\n  }\n  set method(val) {\n    this.@method = val;\n  }\n  get shorthand() {\n    return this.@shorthand;\n  }\n  set shorthand(val) {\n    this.@shorthand = val;\n  }\n}\n\nexport class ReturnStatement extends Statement {\n  private @arg;\n  constructor(arg) {\n    this.arg = arg;\n  }\n  get arg() {\n    return this.@arg;\n  }\n  set arg(node) {\n    this.@arg = node;\n  }\n}\n\nexport class SequenceExpression extends Expression {\n  private @expressions;\n  constructor(expressions) {\n    this.expressions = expressions;\n  }\n  get expressions() {\n    return this.@expressions;\n  }\n  set expressions(nodelist) {\n    this.@expressions = nodelist;\n  }\n}\n\nexport class SpreadElement extends ASTNode {\n  private @arg;\n  constructor(arg) {\n    this.arg = arg;\n  }\n  get arg() {\n    return this.@arg;\n  }\n  set arg(node) {\n    this.@arg = node;\n  }\n}\n\nexport class SwitchStatement extends Statement {\n  private @descriminant, @cases;\n  constructor(descriminant, cases) {\n    this.descriminant = descriminant;\n    this.cases = cases;\n  }\n  get descriminant() {\n    return this.@descriminant;\n  }\n  set descriminant(node) {\n    this.@descriminant = node;\n  }\n  get cases() {\n    return this.@cases;\n  }\n  set cases(nodelist) {\n    this.@cases = nodelist;\n  }\n}\n\nexport class SwitchCase extends ASTNode {\n  private @test, @consequent;\n  constructor(test, consequent) {\n    this.test = test;\n    this.consequent = consequent;\n  }\n  get test() {\n    return this.@test;\n  }\n  set test(node) {\n    this.@test = node;\n  }\n  get consequent() {\n    return this.@consequent;\n  }\n  set consequent(nodelist) {\n    this.@consequent = nodelist;\n  }\n}\n\nexport class SymbolDeclaration extends Declaration {\n  private @declarations, @kind;\n  constructor(declarations, kind) {\n    this.declarations = declarations;\n    this.kind = kind;\n  }\n  get declarations() {\n    return this.@declarations;\n  }\n  set declarations(nodelist) {\n    this.@declarations = nodelist;\n  }\n  get kind() {\n    return this.@kind;\n  }\n  set kind(val) {\n    this.@kind = val;\n  }\n}\n\nexport class SymbolDeclarator extends ASTNode {\n  private @id, @init;\n  constructor(id, init) {\n    this.id = id;\n    this.init = init;\n  }\n  get id() {\n    return this.@id;\n  }\n  set id(node) {\n    this.@id = node;\n  }\n  get init() {\n    return this.@init;\n  }\n  set init(node) {\n    this.@init = node;\n  }\n}\n\nexport class TaggedTemplateExpression extends Expression {\n  private @tag, @template;\n  constructor(tag, template) {\n    this.tag = tag;\n    this.template = template;\n  }\n  get tag() {\n    return this.@tag;\n  }\n  set tag(node) {\n    this.@tag = node;\n  }\n  get template() {\n    return this.@template;\n  }\n  set template(node) {\n    this.@template = node;\n  }\n}\n\nexport class TemplateElement extends ASTNode {\n  private @value, @tail;\n  constructor(value, tail) {\n    this.value = value;\n    this.tail = tail;\n  }\n  get value() {\n    return this.@value;\n  }\n  set value(val) {\n    this.@value = val;\n  }\n  get tail() {\n    return this.@tail;\n  }\n  set tail(val) {\n    this.@tail = val;\n  }\n}\n\nexport class TemplateLiteral extends Expression {\n  private @elements, @expressions;\n  constructor(elements, expressions) {\n    this.elements = elements;\n    this.expressions = expressions;\n  }\n  get elements() {\n    return this.@elements;\n  }\n  set elements(nodelist) {\n    this.@elements = nodelist;\n  }\n  get expressions() {\n    return this.@expressions;\n  }\n  set expressions(nodelist) {\n    this.@expressions = nodelist;\n  }\n}\n\nexport class ThisExpression extends Expression {\n}\n\nexport class ThrowStatement extends Statement {\n  private @arg;\n  constructor(arg) {\n    this.arg = arg;\n  }\n  get arg() {\n    return this.@arg;\n  }\n  set arg(node) {\n    this.@arg = node;\n  }\n}\n\nexport class TryStatement extends Statement {\n  private @block, @handlers, @finalizer;\n  constructor(block, handlers, finalizer) {\n    this.block = block;\n    this.handlers = handlers;\n    this.finalizer = finalizer;\n  }\n  get block() {\n    return this.@block;\n  }\n  set block(node) {\n    this.@block = node;\n  }\n  get handlers() {\n    return this.@handlers;\n  }\n  set handlers(nodelist) {\n    this.@handlers = nodelist;\n  }\n  get finalizer() {\n    return this.@finalizer;\n  }\n  set finalizer(node) {\n    this.@finalizer = node;\n  }\n}\n\nexport class UnaryExpression extends Expression {\n  private @arg, @operator;\n  constructor(arg, operator) {\n    this.arg = arg;\n    this.operator = operator;\n  }\n  get arg() {\n    return this.@arg;\n  }\n  set arg(node) {\n    this.@arg = node;\n  }\n  get operator() {\n    return this.@operator;\n  }\n  set operator(val) {\n    this.@operator = val;\n  }\n}\n\nexport class UpdateExpression extends Expression {\n  private @arg, @operator, @prefix;\n  constructor(arg, operator, prefix) {\n    this.arg = arg;\n    this.operator = operator;\n    this.prefix = prefix;\n  }\n  get arg() {\n    return this.@arg;\n  }\n  set arg(node) {\n    this.@arg = node;\n  }\n  get operator() {\n    return this.@operator;\n  }\n  set operator(val) {\n    this.@operator = val;\n  }\n  get prefix() {\n    return this.@prefix;\n  }\n  set prefix(val) {\n    this.@prefix = val;\n  }\n}\n\nexport class VariableDeclaration extends Declaration {\n  private @declarations, @kind;\n  constructor(declarations, kind) {\n    this.declarations = declarations;\n    this.kind = kind;\n  }\n  get declarations() {\n    return this.@declarations;\n  }\n  set declarations(nodelist) {\n    this.@declarations = nodelist;\n  }\n  get kind() {\n    return this.@kind;\n  }\n  set kind(val) {\n    this.@kind = val;\n  }\n}\n\nexport class VariableDeclarator extends ASTNode {\n  private @id, @init;\n  constructor(id, init) {\n    this.id = id;\n    this.init = init;\n  }\n  get id() {\n    return this.@id;\n  }\n  set id(node) {\n    this.@id = node;\n  }\n  get init() {\n    return this.@init;\n  }\n  set init(node) {\n    this.@init = node;\n  }\n}\n\nexport class WhileStatement extends Statement {\n  private @test, @body;\n  constructor(test, body) {\n    this.test = test;\n    this.body = body;\n  }\n  get test() {\n    return this.@test;\n  }\n  set test(node) {\n    this.@test = node;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(node) {\n    this.@body = node;\n  }\n}\n\nexport class WithStatement extends Statement {\n  private @object, @body;\n  constructor(object, body) {\n    this.object = object;\n    this.body = body;\n  }\n  get object() {\n    return this.@object;\n  }\n  set object(node) {\n    this.@object = node;\n  }\n  get body() {\n    return this.@body;\n  }\n  set body(node) {\n    this.@body = node;\n  }\n}\n\nexport class YieldExpression extends Expression {\n  private @arg;\n  constructor(arg) {\n    this.arg = arg;\n  }\n  get arg() {\n    return this.@arg;\n  }\n  set arg(node) {\n    this.@arg = node;\n  }\n}\n',c.builtins['@reflect']='import {\n  ToObject,\n  ToPropertyKey,\n  ToString,\n  ToUint32\n} from \'@@operations\';\n\nimport {\n  ObjectCreate,\n  Type\n} from \'@@types\';\n\nimport {\n  builtinClass,\n  builtinFunction,\n  call\n} from \'@@utilities\';\n\nimport {\n  $$Get,\n  $$Invoke\n} from \'@@internals\';\n\n\nexport class Proxy {\n  constructor(target, handler){\n    ensureObject(target, \'Proxy\');\n    ensureObject(handler, \'Proxy\');\n    return $__ProxyCreate(target, handler);\n  }\n}\n\nbuiltinClass(Proxy);\n\n$__delete(Proxy, \'prototype\');\n\nconst normal = { writable: true,\n                 enumerable: true,\n                 configurable: true };\n\nexport class Handler {\n  getOwnPropertyDescriptor(target, propertyKey){\n    //throw $__Exception(\'missing_fundamental_trap\', [\'getOwnPropertyDescriptor\']);\n    return getOwnPropertyDescriptor(target, propertyKey);\n  }\n\n  getOwnPropertyNames(target){\n    //throw $__Exception(\'missing_fundamental_trap\', [\'getOwnPropertyNames\']);\n    return getOwnPropertyNames(target);\n  }\n\n  getPrototypeOf(target){\n    //throw $__Exception(\'missing_fundamental_trap\', [\'getPrototypeOf\']);\n    return getPrototypeOf(target);\n  }\n\n  setPrototypeOf(target, proto){\n    //throw $__Exception(\'missing_fundamental_trap\', [\'setPrototypeOf\']);\n    return setPrototypeOf(target, proto);\n  }\n\n  defineProperty(target, propertyKey, desc){\n    //throw $__Exception(\'missing_fundamental_trap\', [\'defineProperty\']);\n    return defineProperty(target, propertyKey, desc);\n  }\n\n  deleteProperty(target, propertyKey){\n    //throw $__Exception(\'missing_fundamental_trap\', [\'deleteProperty\']);\n    return deleteProperty(target, propertyKey);\n  }\n\n  preventExtensions(target){\n    //throw $__Exception(\'missing_fundamental_trap\', [\'preventExtensions\']);\n    return preventExtensions(target);\n  }\n\n  isExtensible(target){\n    //throw $__Exception(\'missing_fundamental_trap\', [\'isExtensible\']);\n    return isExtensible(target);\n  }\n\n  apply(target, thisArg, args){\n    //throw $__Exception(\'missing_fundamental_trap\', [\'apply\']);\n    return apply(target, thisArg, args);\n  }\n\n  seal(target) {\n    if (!this.preventExtensions(target)) return false;\n\n    const props = this.getOwnPropertyNames(target),\n          len   = ToUint32(props.length);\n\n    for (var i = 0; i < len; i++) {\n      success = success && this.defineProperty(target, props[i], { configurable: false });\n    }\n    return success;\n  }\n\n  freeze(target){\n    if (!this.preventExtensions(target)) return false;\n\n    const props = this.getOwnPropertyNames(target),\n          len   = ToUint32(props.length);\n\n    for (var i = 0; i < len; i++) {\n      const propertyKey = props[i];\n      let desc = this.getOwnPropertyDescriptor(target, propertyKey);\n\n      if (desc) {\n        desc = \'writable\' in desc || \'value\' in desc\n              ? { configurable: false, writable: false }\n              : { configurable: false };\n        success = success && this.defineProperty(target, propertyKey, desc);\n      }\n    }\n\n    return success;\n  }\n\n  isSealed(target){\n    const props = this.getOwnPropertyNames(target),\n          len   = ToUint32(props.length);\n\n    for (var i = 0; i < len; i++) {\n      const desc = this.getOwnPropertyDescriptor(target, props[i]);\n\n      if (desc && desc.configurable) {\n        return false;\n      }\n    }\n\n    return !this.isExtensible(target);\n  }\n\n  isFrozen(target){\n    const props = this.getOwnPropertyNames(target),\n          len   = ToUint32(props.length);\n\n    for (var i = 0; i < len; i++) {\n      const desc = this.getOwnPropertyDescriptor(target, props[i]);\n\n      if (desc.configurable || (\'writable\' in desc || \'value\' in desc) && desc.writable) {\n        return false;\n      }\n    }\n\n    return !this.isExtensible(target);\n  }\n\n  has(target, propertyKey){\n    const desc = this.getOwnPropertyDescriptor(target, propertyKey);\n    if (desc) {\n      return true;\n    }\n\n    const proto = $$Invoke(target, \'GetInheritance\');\n    return proto === null ? false : this.has(proto, propertyKey);\n  }\n\n  hasOwn(target, propertyKey){\n    return this.getOwnPropertyDescriptor(target, propertyKey) !== undefined;\n  }\n\n  get(target, propertyKey, receiver = target){\n    const desc = this.getOwnPropertyDescriptor(target, propertyKey);\n\n    if (desc === undefined) {\n      const proto = $$Invoke(target, \'GetInheritance\');\n      return proto === null ? undefined : this.get(proto, propertyKey, receiver);\n    }\n\n    if (\'writable\' in desc || \'value\' in desc) {\n      return desc.value;\n    }\n\n    const getter = desc.get;\n    return getter === undefined ? undefined : call(getter, receiver);\n  }\n\n  set(target, propertyKey, value, receiver) {\n    const ownDesc = this.getOwnPropertyDescriptor(target, propertyKey);\n\n    if (ownDesc !== undefined) {\n      if (\'get\' in ownDesc || \'set\' in ownDesc) {\n        const setter = ownDesc.set;\n        if (setter === undefined) {\n          return false;\n        }\n        call(setter, receiver, [value]);\n        return true;\n      } else if (ownDesc.writable === false) {\n        return false;\n      } else if (receiver === target) {\n        $__DefineOwnProperty(receiver, propertyKey, { value: value });\n        return true;\n      } else if (!$__IsExtensible(receiver)) {\n        return false;\n      }\n      normal.value = value;\n      $__DefineOwnProperty(receiver, propertyKey, normal);\n      normal.value = undefined;\n      return true;\n    }\n\n    const proto = $$Invoke(target, \'GetInheritance\');\n    if (proto === null) {\n      if (!$__IsExtensible(receiver)) {\n        return false;\n      }\n      normal.value = value;\n      $__DefineOwnProperty(receiver, propertyKey, normal);\n      normal.value = undefined;\n      return true;\n    }\n\n    return this.set(proto, propertyKey, value, receiver);\n  }\n\n  enumerate(target){\n    const result = this.getOwnPropertyNames(target),\n          len    = ToUint32(result.length),\n          result = [];\n\n    for (var i = 0; i < len; i++) {\n      const propertyKey = ToString(result[i]),\n            desc = this.getOwnPropertyDescriptor(propertyKey);\n\n      if (desc != null && desc.enumerable) {\n        result.push(propertyKey);\n      }\n    }\n\n    const proto = $$Invoke(target, \'GetInheritance\');\n\n    return proto === null ? result : result.concat(enumerate(proto));\n  }\n\n  keys(target){\n    const result = this.getOwnPropertyNames(target),\n          len    = ToUint32(result.length);\n          result = [];\n\n    for (var i = 0; i < len; i++) {\n      const propertyKey = ToString(result[i]),\n            desc = this.getOwnPropertyDescriptor(propertyKey);\n\n      if (desc != null && desc.enumerable) {\n        result.push(propertyKey);\n      }\n    }\n\n    return result;\n  }\n\n  construct(target, args) {\n    const proto    = this.get(target, \'prototype\', target),\n          instance = Type(proto) === \'Object\' ? ObjectCreate(proto) : {},\n          result   = this.apply(target, instance, args);\n\n    return Type(result) === \'Object\' ? result : instance;\n  }\n}\n\nbuiltinClass(Handler);\n\n\n\nexport function apply(target, thisArg, args){\n  ensureFunction(target, \'@reflect.apply\');\n  return $$Invoke(target, \'Call\', thisArg, $$Get(ensureArgs(args), \'array\'));\n}\n\nbuiltinFunction(apply);\n\n\nexport function construct(target, args){\n  ensureFunction(target, \'@reflect.construct\');\n  return $$Invoke(target, \'Construct\', $$Get(ensureArgs(args), \'array\'));\n}\n\nbuiltinFunction(construct);\n\n\nexport function defineProperty(target, propertyKey, attributes){\n  ensureObject(target, \'@reflect.defineProperty\');\n  ensureDescriptor(attributes);\n  return $__DefineOwnProperty(target, ToPropertyKey(propertyKey), attributes);\n}\n\nbuiltinFunction(defineProperty);\n\n\nexport function deleteProperty(target, propertyKey){\n  ensureObject(target, \'@reflect.deleteProperty\');\n  return $__Delete(target, ToPropertyKey(propertyKey), false);\n}\n\nbuiltinFunction(deleteProperty);\n\n\nexport function enumerate(target){\n  return $__Enumerate(ToObject(target), true, true);\n}\n\nbuiltinFunction(enumerate);\n\n\nexport function freeze(target){\n  if (Type(target) !== \'Object\' || !$$Invoke(target, \'PreventExtensions\')) {\n    return false;\n  }\n\n  const props = $__Enumerate(target, false, false),\n        len   = props.length;\n\n  letsuccess = true;\n\n  for (var i = 0; i < len; i++) {\n    const desc = $__GetOwnProperty(target, props[i]),\n          attrs = \'writable\' in desc || \'value\' in desc\n            ? { configurable: false, writable: false }\n            : desc !== undefined\n              ? { configurable: false }\n              : null;\n\n    if (attrs !== null) {\n      success = success && $__DefineOwnProperty(target, props[i], attrs);\n    }\n  }\n\n  return success;\n}\n\nbuiltinFunction(freeze);\n\n\nexport function get(target, propertyKey, receiver = target){\n  return $__GetP(ToObject(target), ToPropertyKey(propertyKey), ToObject(receiver));\n}\n\nbuiltinFunction(get);\n\n\nexport function getOwnPropertyDescriptor(target, propertyKey){\n  ensureObject(target, \'@reflect.getOwnPropertyDescriptor\');\n  return $__GetOwnProperty(target, ToPropertyKey(propertyKey));\n}\n\nbuiltinFunction(getOwnPropertyDescriptor);\n\n\nexport function getOwnPropertyNames(target){\n  ensureObject(target, \'@reflect.getOwnPropertyNames\');\n  return $__Enumerate(target, false, false);\n}\n\nbuiltinFunction(getOwnPropertyNames);\n\n\nexport function ownKeys(target){\n  ensureObject(target, \'@reflect.ownKeys\');\n  // TODO implement OwnPropertyKeys\n  //return $__OwnPropertyKeys(target, false, false);\n}\n\nbuiltinFunction(getOwnPropertyNames);\n\nexport function getPrototypeOf(target){\n  ensureObject(target, \'@reflect.getPrototypeOf\');\n  return $$Invoke(target, \'GetInheritence\');\n}\n\nexport function setPrototypeOf(target, proto){\n  ensureObject(target, \'@reflect.setPrototypeOf\');\n  ensureProto(proto, \'@reflect.setPrototypeOf\');\n  return $$Invoke(target, \'SetInheritance\', proto);\n}\n\nbuiltinFunction(getPrototypeOf);\n\n\nexport function has(target, propertyKey){\n  return $$Invoke(ToObject(target), \'HasProperty\', ToPropertyKey(propertyKey));\n}\n\nbuiltinFunction(has);\n\n\nexport function hasOwn(target, propertyKey){\n  return $$Invoke(ToObject(target), \'HasOwnProperty\', ToPropertyKey(propertyKey));\n}\n\nbuiltinFunction(hasOwn);\n\n\nexport function isFrozen(target){\n  ensureObject(target, \'@reflect.isFrozen\');\n\n  if ($$Invoke(target, \'IsExtensible\')) {\n    return false;\n  }\n\n  const props = $__Enumerate(target, false, false);\n\n  for (var i=0; i < props.length; i++) {\n    const desc = $__GetOwnProperty(target, props[i]);\n    if (desc && desc.configurable || \'writable\' in desc && desc.writable) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nbuiltinFunction(isFrozen);\n\n\nexport function isSealed(target){\n  ensureObject(target, \'@reflect.isSealed\');\n\n  if ($$Invoke(target, \'IsExtensible\')) {\n    return false;\n  }\n\n  const props = $__Enumerate(target, false, false);\n\n  for (var i=0; i < props.length; i++) {\n    const desc = $__GetOwnProperty(target, props[i]);\n    if (desc && desc.configurable) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nbuiltinFunction(isSealed);\n\n\nexport function isExtensible(target){\n  ensureObject(target, \'@reflect.isExtensible\');\n  return $$Invoke(target, \'IsExtensible\');\n}\n\nbuiltinFunction(isExtensible);\n\n\nexport function keys(target){\n  ensureObject(target, \'@reflect.keys\');\n  return $__Enumerate(target, false, true);\n}\n\nbuiltinFunction(keys);\n\n\nexport function preventExtensions(target){\n  return Type(target) === \'Object\' ? $$Invoke(target, \'PreventExtensions\') : false;\n}\n\nbuiltinFunction(preventExtensions);\n\n\nexport function seal(target){\n  if (Type(target) !== \'Object\') {\n    return false;\n  }\n\n  let success = $$Invoke(target, \'PreventExtensions\');\n  if (!success) {\n    return success;\n  }\n\n  const props = $__Enumerate(target, false, false),\n        len   = props.length,\n        desc  = { configurable: false };\n\n  for (var i = 0; i < len; i++) {\n    success = success && $__DefineOwnProperty(target, props[i], desc);\n  }\n\n  return success;\n}\n\nbuiltinFunction(seal);\n\n\nexport function set(target, propertyKey, value, receiver = target){\n  return $__SetP(ToObject(target), ToPropertyKey(propertyKey), value, ToObject(receiver));\n}\n\nbuiltinFunction(set);\n',c.builtins['@regexp']='import {\n  Type\n} from \'@@types\';\n\nimport {\n  ToString\n} from \'@@operations\';\n\nimport {\n  //builtinClass,\n  builtinFunction,\n  hasBrand\n} from \'@@utilities\';\n\nimport {\n  $$Exception\n} from \'@@internals\';\n\n\nexport class RegExp {\n  constructor(pattern, flags){\n    if ($__isConstruct()) {\n      if (pattern === undefined) {\n        pattern = \'\';\n      } else if (hasBrand(pattern, \'BuiltinRegExp\')) {\n        if (flags !== undefined) {\n          throw $$Exception(\'regexp_flags\', []);\n        }\n      } else {\n        pattern = ToString(pattern);\n      }\n    } else if (flags === undefined && hasBrand(pattern, \'BuiltinRegExp\')) {\n      return pattern;\n    }\n    return $__RegExpCreate(pattern, flags);\n  }\n\n  exec(string){\n    if (hasBrand(this, \'BuiltinRegExp\')) {\n      return $__RegExpExec(this, ToString(string));\n    }\n\n    throw $$Exception(\'not_generic\', [\'RegExp.prototype.exec\']);\n  }\n\n  test(string){\n    if (hasBrand(this, \'BuiltinRegExp\')) {\n      return $__RegExpTest(this, ToString(string));\n    }\n\n    throw $$Exception(\'not_generic\', [\'RegExp.prototype.test\']);\n  }\n\n  toString(){\n    if (hasBrand(this, \'BuiltinRegExp\')) {\n      return $__RegExpToString(this);\n    }\n\n    throw $$Exception(\'not_generic\', [\'RegExp.prototype.toString\']);\n  }\n}\n\nbuiltinClass(RegExp);\n\n\nexport function exec(regexp, string){\n  if (hasBrand(regexp, \'BuiltinRegExp\')) {\n    return $__RegExpExec(regexp, ToString(string));\n  }\n  throw $$Exception(\'not_generic\', [\'@regexp.exec\']);\n}\n\nbuiltinFunction(exec);\n\n\nexport function test(regexp, string){\n  if (hasBrand(regexp, \'BuiltinRegExp\')) {\n    return $__RegExpTest(regexp, [ToString(string)]);\n  }\n  throw $$Exception(\'not_generic\', [\'@regexp.test\']);\n}\n\nbuiltinFunction(test);\n',c.builtins['@set']='import {\n  @@iterator: iterator,\n  @@create  : create\n} from \'@@symbols\';\n\nimport {\n  $$Exception,\n  $$Get,\n  $$Has,\n  $$Set\n} from \'@@internals\';\n\nimport {\n  builtinClass,\n  builtinFunction,\n  define,\n  extend,\n  hasBrand,\n  hideEverything,\n  internalFunction,\n  isInitializing\n} from \'@@utilities\';\n\nimport {\n  Type\n} from \'@@types\';\n\nimport {\n  OrdinaryCreateFromConstructor,\n  ToObject\n} from \'@@operations\';\n\nimport {\n  Map\n} from \'@map\';\n\nimport {\n  Iterator\n} from \'@iter\';\n\nimport {\n  hasOwn\n} from \'@reflect\';\n\n\n\nfunction ensureSet(o, name){\n  const type = typeof o;\n  if (type === \'object\' ? o === null : type !== \'function\') {\n    throw $$Exception(\'called_on_non_object\', [name]);\n  }\n\n  const data = $$Get(o, \'SetData\');\n  if (!data) {\n    throw $$Exception(\'called_on_incompatible_object\', [name]);\n  }\n\n  return data;\n}\n\ninternalFunction(ensureSet);\n\n\n\nclass SetIterator extends Iterator {\n  private @data, // Set\n          @key;  // SetNextKey\n\n  constructor(set){\n    this.@data = ensureSet(ToObject(set), \'SetIterator\');\n    this.@key  = $__MapSigil();\n  }\n\n  next(){\n    if (Type(this) !== \'Object\') {\n      throw $$Exception(\'called_on_non_object\', [\'SetIterator.prototype.next\']);\n    }\n\n    if (!hasOwn(this, @data) || !hasOwn(this, @key)) {\n      throw $$Exception(\'called_on_incompatible_object\', [\'SetIterator.prototype.next\']);\n    }\n\n    const next = $__MapNext(this.@data, this.@key);\n    if (!next) {\n      throw StopIteration;\n    }\n\n    return this.@key = next[0];\n  }\n}\n\nbuiltinClass(SetIterator);\n\n\n\n\nexport class Set {\n  constructor(iterable){\n    if (!isInitializing(this, \'SetData\')) {\n      return new Set(iterable);\n    }\n\n    const data = new Map;\n    $$Set(this, \'SetData\', data);\n\n    if (iterable !== undefined) {\n      iterable = ToObject(iterable);\n      for (let [key, value] of iterable) {\n        $__MapSet(data, value, true);\n      }\n    }\n  }\n\n  get size(){\n    if (this && $$Has(this, \'SetData\')) {\n      return $__MapSize($$Get(this, \'SetData\'));\n    }\n    return 0;\n  }\n\n  clear(){\n    $__MapClear(ensureSet(this, \'clear\'));\n    return this;\n  }\n\n  add(value){\n    $__MapSet(ensureSet(this, \'add\'), value, value);\n    return this;\n  }\n\n  has(value){\n    return $__MapHas(ensureSet(this, \'has\'), value);\n  }\n\n  delete(value){\n    return $__MapDelete(ensureSet(this, \'delete\'), value);\n  }\n\n  values(){\n    return new SetIterator(this);\n  }\n}\n\nextend(Set, {\n  @@create(){\n    const obj = OrdinaryCreateFromConstructor(this, \'%SetPrototype%\');\n    $$Set(obj, \'SetData\', undefined);\n    $$Set(obj, \'BuiltinBrand\', \'BuiltinSet\');\n    return obj;\n  }\n});\n\nbuiltinClass(Set);\nconst SetPrototype = Set.prototype;\ndefine(SetPrototype, @@iterator, SetPrototype.values);\n\n\n\nfunction setAdd(set, value){\n  $__MapSet(ensureSet(set, \'@set.add\'), value, value);\n  return set;\n}\n\nbuiltinFunction(setAdd);\n\n\nfunction setClear(set){\n  $__MapClear(ensureSet(set, \'@set.clear\'));\n  return set;\n}\n\nbuiltinFunction(setClear);\n\n\nfunction setDelete(set, value){\n  return $__MapDelete(ensureSet(set, \'@set.delete\'), value);\n}\n\nbuiltinFunction(setDelete);\n\n\nfunction setHas(set, value){\n  return $__MapHas(ensureSet(set, \'@set.has\'), value);\n}\n\nbuiltinFunction(setHas);\n\n\nfunction setSize(set){\n  return $__MapSize(ensureMap(set, \'@set.size\'));\n}\n\nbuiltinFunction(setSize);\n\n\nfunction setIterate(set){\n  return new SetIterator(set);\n}\n\nbuiltinFunction(setIterate);\n\n\nexport const add     = setAdd,\n             clear   = setClear,\n           //delete  = setDelete, TODO: fix exporting reserved names\n             has     = setHas,\n             iterate = setIterate,\n             size    = setSize;\n',c.builtins['@std']='// standard constants\nconst NaN       = +\'NaN\',\n      Infinity  = 1 / 0,\n      undefined = void 0;\n\n// standard functions\nimport { escape,\n         decodeURI,\n         decodeURIComponent,\n         encodeURI,\n         encodeURIComponent,\n         eval,\n         isFinite,\n         isNaN,\n         parseFloat,\n         parseInt,\n         unescape } from \'@globals\';\n\n\nimport { clearImmediate,\n         clearInterval,\n         clearTimeout,\n         setImmediate,\n         setInterval,\n         setTimeout } from \'@timers\';\n\n// standard types\nimport { Array    } from \'@array\';\nimport { Boolean  } from \'@boolean\';\nimport { Date     } from \'@date\';\nimport { Function } from \'@function\';\nimport { Map      } from \'@map\';\nimport { Number   } from \'@number\';\nimport { Object   } from \'@object\';\nimport { Proxy    } from \'@reflect\';\nimport { RegExp   } from \'@regexp\';\nimport { Set      } from \'@set\';\nimport { String   } from \'@string\';\nimport { WeakMap  } from \'@weakmap\';\n\n\n// standard errors\nimport { Error,\n         EvalError,\n         RangeError,\n         ReferenceError,\n         SyntaxError,\n         TypeError,\n         URIError } from \'@error\';\n\nimport { ArrayBuffer,\n         DataView,\n         Float32Array,\n         Float64Array,\n         Int16Array,\n         Int32Array,\n         Int8Array,\n         Uint16Array,\n         Uint32Array,\n         Uint8Array } from \'@typed-arrays\';\n\n\n// standard pseudo-modules\nimport { JSON     } from \'@json\';\nimport { Math     } from \'@math\';\n\nimport { Symbol   } from \'@symbol\';\nimport { Iterator } from \'@iter\';\n\nimport { console  } from \'@console\';\n\n\nconst StopIteration = $__StopIteration;\n\n\nexport Array, Boolean, Date, Function, Map, Number, Object, Proxy, RegExp, Set, String, WeakMap,\n       Error, EvalError, RangeError, ReferenceError, SyntaxError, TypeError, URIError,\n       ArrayBuffer, DataView, Float32Array, Float64Array, Int16Array,\n       Int32Array, Int8Array, Uint16Array, Uint32Array, Uint8Array,\n       clearImmediate, clearInterval, clearTimeout, setImmediate, setInterval, setTimeout,\n       decodeURI, decodeURIComponent, escape, encodeURI, encodeURIComponent,\n       eval, isFinite, isNaN, parseFloat, parseInt, unescape,\n       console, StopIteration, JSON, Math,\n       NaN, Infinity, undefined;\n',c.builtins['@string']='import {\n  $$ArgumentCount,\n  $$Call,\n  $$CreateInternalObject,\n  $$Get,\n  $$Exception,\n  $$Has,\n  $$Invoke,\n  $$Set\n} from \'@@internals\';\n\nimport {\n  builtinClass,\n  call,\n  createInternal,\n  define,\n  extend,\n  extendInternal,\n  hasBrand,\n  isInitializing,\n  listFrom,\n  listOf,\n  numbers\n} from \'@@utilities\';\n\nimport {\n  OrdinaryCreateFromConstructor,\n  ToInteger,\n  ToString,\n  ToUint32\n} from \'@@operations\';\n\nimport {\n  MAX_INTEGER\n} from \'@number\';\n\nimport {\n  RegExp\n} from \'@regexp\';\n\n\nimport {\n  Array\n} from \'@array\';\n\nimport {\n  dict\n} from \'@dict\';\n\n\n\nconst trimmer = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/;\n\n\nfunction ensureCoercible(target, method){\n  if (target === null || target === undefined) {\n    throw $$Exception(\'object_not_coercible\', [\'String.prototype.\'+method, target]);\n  }\n  return ToString(target);\n}\n\ninternalFunction(ensureCoercible);\n\n\nfunction ToHTML(tag, content, attrName, attrVal){\n  const attr = attrName === undefined ? \'\' : \' \'+attrName+\'="\'+$__StringReplace(ToString(attrVal), \'"\', \'&quot;\')+\'"\';\n\n  return \'<\'+tag+attr+\'>\'+content+\'</\'+tag+\'>\';\n}\n\ninternalFunction(ToHTML);\n\n\nfunction stringIndexOf(string, search, position){\n  const searchStr = ToString(search),\n        pos       = ToInteger(position),\n        len       = string.length,\n        searchLen = searchStr.length,\n        maxLen    = len - searchLen;\n\n  let index = pos > 0 ? pos < len ? pos : len : 0;\n\n  while (index < maxLen) {\n    let offset = 0;\n    while (offset < searchLen && searchStr[offset] === string[index + offset]) {\n      if (offset++ === searchLen - 1) {\n        return index;\n      }\n    }\n  }\n\n  return -1;\n}\n\ninternalFunction(stringIndexOf);\n\n\nfunction stringMatch(string, regexp){\n  if (!hasBrand(regexp, \'BuiltinRegExp\')) {\n    regexp = new RegExp(regexp);\n  }\n\n  if (!regexp.global) {\n    return $__RegExpExec(regexp, string);\n  }\n\n  const array = [];\n  let previous  = 0,\n      index     = 0,\n      lastMatch = true;\n\n  regexp.lastIndex = 0;\n\n  while (lastMatch) {\n    let result = $__RegExpExec(regexp, string);\n    if (result === null) {\n      lastMatch = false;\n    } else {\n      let thisIndex = regexp.lastIndex;\n      if (thisIndex === lastIndex) {\n        previous = regexp.lastIndex = thisIndex + 1;\n      } else {\n        previous = thisIndex;\n      }\n      array[index++] = result[0];\n    }\n  }\n\n  return index === 0 ? null : array;\n}\n\ninternalFunction(stringMatch);\n\n\nfunction useHost(value, method){\n  return $$Invoke(ensureCoercible(value, method), method);\n}\n\ninternalFunction(useHost);\n\n\n\nexport class String {\n  constructor(value){\n    value = $$ArgumentCount() ? ToString(value) : \'\';\n\n    if (!isInitializing(this, \'StringValue\')) {\n      return value;\n    }\n\n    $$Set(this, \'StringValue\', value);\n    define(this, \'length\', value.length, 0);\n  }\n\n  anchor(name){\n    return ToHTML(\'a\', ensureCoercible(this, \'anchor\'), \'name\', name);\n  }\n\n  big(){\n    return ToHTML(\'big\', ensureCoercible(this, \'big\'));\n  }\n\n  blink(){\n    return ToHTML(\'blink\', ensureCoercible(this, \'blink\'));\n  }\n\n  bold(){\n    return ToHTML(\'b\', ensureCoercible(this, \'bold\'));\n  }\n\n  fixed(){\n    return ToHTML(\'fixed\', ensureCoercible(this, \'fixed\'));\n  }\n\n  fontcolor(color){\n    return ToHTML(\'font\', ensureCoercible(this, \'fontcolor\'), \'color\', color);\n  }\n\n  fontsize(size){\n    return ToHTML(\'font\', ensureCoercible(this, \'fontsize\'), \'size\', size);\n  }\n\n  italics(){\n    return ToHTML(\'i\', ensureCoercible(this, \'italics\'));\n  }\n\n  link(href){\n    return ToHTML(\'a\', ensureCoercible(this, \'link\'), \'href\', href);\n  }\n\n  small(){\n    return ToHTML(\'small\', ensureCoercible(this, \'small\'));\n  }\n\n  strike(){\n    return ToHTML(\'s\', ensureCoercible(this, \'strike\'));\n  }\n\n  sub(){\n    return ToHTML(\'sub\', ensureCoercible(this, \'sub\'));\n  }\n\n  sup(){\n    return ToHTML(\'sup\', ensureCoercible(this, \'sup\'));\n  }\n\n  charAt(position){\n    const string = ensureCoercible(this, \'charAt\');\n\n    position = ToInteger(position);\n\n    return position < 0 || position >= string.length ? \'\' : string[position];\n  }\n\n  charCodeAt(position){\n    const string = ensureCoercible(this, \'charCodeAt\');\n\n    position = ToInteger(position);\n\n    return position < 0 || position >= string.length ? NaN : $__CodeUnit(string[position]);\n  }\n\n  concat(...args){\n    let string = ensureCoercible(this, \'concat\');\n\n    for (var i=0; i < args.length; i++) {\n      string += ToString(args[i]);\n    }\n\n    return string;\n  }\n\n  indexOf(searchString, position = 0){\n    return stringIndexOf(ensureCoercible(this, \'indexOf\'), searchString, position);\n  }\n\n  lastIndexOf(searchString, position = Infinity){\n    const string    = ensureCoercible(this, \'lastIndexOf\'),\n          search    = ToString(searchString),\n          len       = string.length,\n          searchLen = searchString.length,\n          pos       = ToInteger(position) - searchLen;\n\n    let index = pos > 0 ? pos < len ? pos : len : 0;\n\n    while (index--) {\n      let offset = 0;\n      while (offset < searchLen && searchString[offset] === string[index + offset]) {\n        if (++offset === searchLen) {\n          return index;\n        }\n      }\n    }\n\n    return -1;\n  }\n\n  localeCompare(){\n    // TODO\n  }\n\n  match(regexp){\n    return stringMatch(ensureCoercible(this, \'match\'), regexp);\n  }\n\n  repeat(count){\n    let string = ensureCoercible(this, \'repeat\'),\n        factor = ToInteger(count),\n        result = \'\';\n\n    if (factor <= 1 || factor === Infinity || factor === -Infinity) {\n      throw $$Exception(\'invalid_repeat_count\', []);\n    }\n\n    while (factor > 0) {\n      (factor & 1) && (result += string);\n      factor >>= 1;\n      string += string;\n    }\n\n    return result;\n  }\n\n  replace(search, replace){\n    const string = ensureCoercible(this, \'replace\');\n\n    if (typeof replace === \'function\') {\n      let match, count;\n      if (hasBrand(search, \'BuiltinRegExp\')) {\n        match = stringMatch(string, search);\n        count = matches.length;\n      } else {\n        match = stringIndexOf(string, ToString(search));\n        count = 1;\n      }\n      //TODO\n    } else {\n      replace = ToString(replace);\n      if (!hasBrand(search, \'BuiltinRegExp\')) {\n        search = ToString(search);\n      }\n\n      return $__StringReplace(string, search, replace);\n    }\n  }\n\n  search(regexp){\n    const string = ensureCoercible(this, \'search\');\n\n    if (!hasBrand(regexp, \'BuiltinRegExp\')) {\n      regexp = new RegExp(regexp);\n    }\n\n    return $__StringSearch(string, regexp);\n  }\n\n  slice(start = 0, end = this.length){\n    const string = ensureCoercible(this, \'slice\');\n\n    start = ToInteger(start);\n    end = ToInteger(end);\n\n    return $$Invoke(string, \'slice\', start, end);\n  }\n\n  split(separator, limit = MAX_INTEGER - 1){\n    const string = ensureCoercible(this, \'split\');\n\n    limit = ToInteger(limit);\n    separator = hasBrand(separator, \'BuiltinRegExp\') ? separator : ToString(separator);\n\n    return $__StringSplit(string, separator, limit);\n  }\n\n  substr(start = 0, length = Infinity){\n    const string = ensureCoercible(this, \'substr\'),\n          chars  = string.length;\n\n    start = ToInteger(start);\n    length = ToInteger(length);\n\n    if (start < 0) {\n      start += chars;\n      if (start < 0) start = 0;\n    }\n    if (length < 0) {\n      length = 0;\n    }\n    if (length > chars - start) {\n      length = chars - start;\n    }\n\n    return length <= 0 ? \'\' : $$Invoke(string, \'slice\', start, start + length);\n  }\n\n  substring(start = 0, end = this.length){\n    const string = ensureCoercible(this, \'substring\'),\n          len    = string.length;\n\n    start = ToInteger(start);\n    end = ToInteger(end);\n\n    start = start > 0 ? start < len ? start : len : 0;\n    end = end > 0 ? end < len ? end : len : 0;\n\n    const from = start < end ? start : end,\n          to = start > end ? start : end;\n\n    return $$Invoke(string, \'slice\', from, to);\n  }\n\n  toLocaleLowerCase(){\n    return $$Invoke(ensureCoercible(this, \'toLocaleLowerCase\'), \'toLocaleLowerCase\');\n  }\n\n  toLocaleUpperCase(){\n    return $$Invoke(ensureCoercible(this, \'toLocaleUpperCase\'), \'toLocaleUpperCase\');\n  }\n\n  toLowerCase(){\n    return $$Invoke(ensureCoercible(this, \'toLowerCase\'), \'toLowerCase\');\n  }\n\n  toString(){\n    if (typeof this === \'string\') {\n      return this;\n    } else if (hasBrand(this, \'StringWrapper\')) {\n      return $$Get(this, \'StringValue\');\n    }\n    throw $$Exception(\'not_generic\', [\'String.prototype.toString\']);\n  }\n\n  toUpperCase(){\n    return $$Invoke(ensureCoercible(this, \'toUpperCase\'), \'toUpperCase\');\n  }\n\n  trim(){\n    return $__StringReplace(ensureCoercible(this, \'trim\'), trimmer, \'\');\n  }\n\n  valueOf(){\n    if (typeof this === \'string\') {\n      return this;\n    } else if (hasBrand(this, \'StringWrapper\')) {\n      return $$Get(this, \'StringValue\');\n    }\n    throw $$Exception(\'not_generic\', [\'String.prototype.toString\']);\n  }\n}\n\nbuiltinClass(String, \'StringWrapper\');\n$$Set(String.prototype, \'StringValue\', \'\');\ndefine(String.prototype, \'length\', 0, FROZEN);\n\n\nexport function fromCharCode(...codeUnits){\n  const length = codeUnits.length;\n  let result = \'\';\n\n  for (var i=0; i < length; i++) {\n    result += $__FromCharCode($__ToUint16(codeUnits[i]));\n  }\n\n  return result;\n}\n\nextend(String, {\n  fromCharCode,\n  @@create(){\n    const obj = OrdinaryCreateFromConstructor(this, \'%StringPrototype%\');\n    $$Set(obj, \'BuiltinBrand\', \'StringWrapper\');\n    $$Set(obj, \'StringValue\', undefined);\n    return extendInternal(obj, internalMethods);\n  }\n});\n\n\n\n\nfunction unique(strings){\n  const len    = strings.length,\n        count  = 0,\n        seen   = dict(),\n        result = [];\n\n  for (var i=0; i < len; i++) {\n    const string = strings[i];\n    if (!(string in seen)) {\n      seen[string] = true;\n      result[count++] = string;\n    }\n  }\n\n  return result;\n}\n\ninternalFunction(unique);\n\n\nfunction getCharacter(obj, key){\n  const string = $$Get(obj, \'StringValue\'),\n        index  = ToUint32(key);\n\n  if (ToString(index) === key && index < $$Get(string, \'length\')) {\n    return $$Get(string, key);\n  }\n}\n\ninternalFunction(getCharacter);\n\n\nconst StringIndexDescriptor = createInternal(null, {\n  Value: undefined,\n  Writable: false,\n  Enumerable: true,\n  Configurable: false,\n  attrs: 1\n});\n\nconst GetOwnProperty = $$Get(String.prototype, \'GetOwnProperty\'),\n      Enumerate      = $$Get(String.prototype, \'Enumerate\'),\n      describe       = $$Get(String.prototype, \'describe\'),\n      get            = $$Get(String.prototype, \'get\'),\n      has            = $$Get(String.prototype, \'has\'),\n      query          = $$Get(String.prototype, \'query\'),\n      each           = $$Get(String.prototype, \'each\');\n\nconst internalMethods = {\n  GetOwnProperty(P){\n    const char = getCharacter(this, P);\n\n    if (char) {\n      const Desc = $$CreateInternalObject(StringIndexDescriptor);\n      $$Set(Desc, \'Value\', char);\n      return Desc;\n    }\n\n    return $$Call(GetOwnProperty, this, P);\n  },\n  Get(P){\n    const char = getCharacter(this, P);\n\n    if (char) {\n      return char;\n    }\n\n    return $$Invoke(this, \'GetP\', this, P);\n  },\n  Enumerate(includePrototype, onlyEnumerable){\n    const length = this.length,\n          props  = $$Call(Enumerate, this, includePrototype, onlyEnumerable);\n\n    if (!length) {\n      return props;\n    }\n\n    const array = [];\n    $$Set(array, \'array\', props);\n    return listFrom(unique(numbers($$Get(props, \'length\')).concat(array)));\n  },\n  each(callback){\n    const string = $$Get(this, \'StringValue\'),\n          length = $$Get(string, \'length\');\n\n    for (var i=0; i < length; i++) {\n      $$Call(callback, this, listOf(ToString(i), $$Get(string, i), 1));\n    }\n\n    return $$Call(each, this, callback);\n  },\n  has(key){\n    if (getCharacter(this, key)) {\n      return true;\n    }\n\n    return $$Call(has, this, key);\n  },\n  get(key){\n    const char = getCharacter(this, key);\n\n    if (char) {\n      return char;\n    }\n\n    return $$Call(get, this, key);\n  },\n  query(key){\n    const char = getCharacter(this, key);\n\n    if (char) {\n      return 1;\n    }\n\n    return $$Call(query, this, key);\n  },\n  describe(key){\n    const char = getCharacter(this, key);\n\n    if (char) {\n      return listOf(key, char, 1);\n    }\n\n    return $$Call(describe, this, key);\n  }\n}\n',c.builtins['@symbol']='import {\n  $$Exception\n} from \'@@internals\';\n\nimport {\n  builtinClass\n} from \'@@utilities\';\n\n\nexport class Symbol {\n  constructor(name, isPublic){\n    if (name == null) {\n      throw $$Exception(\'unnamed_symbol\', []);\n    }\n    return $__SymbolCreate(name, !!isPublic);\n  }\n}\n\n\nbuiltinClass(Symbol);\n',c.builtins['@system']='import {\n  ToObject\n} from \'@@operations\';\n\nimport {\n  ObjectCreate,\n  Type\n} from \'@@types\';\n\nimport {\n  builtinFunction,\n  define,\n  hasBrand\n} from \'@@utilities\';\n\nimport {\n  $$CurrentRealm,\n  $$EvaluateModule,\n  $$EvaluateModuleAsync,\n  $$Fetch,\n  $$GetIntrinsic,\n  $$Set,\n  $$SetIntrinsic,\n  $$ToModule\n} from \'@@internals\';\n\n\nclass Request {\n  private @loader, @callback, @errback, @mrl, @resolved;\n\n  constructor(loader, mrl, resolved, callback, errback){\n    this.@loader   = loader;\n    this.@mrl      = mrl;\n    this.@resolved = resolved;\n    this.@callback = callback;\n    this.@errback  = errback;\n  }\n\n  fulfill(src){\n    const loader = this.@loader;\n    let translated = (loader.@translate)(src, this.@mrl, loader.baseURL, this.@resolved);\n\n    if (loader.@strict) {\n      translated = \'"use strict";\\n\' + translated;\n    }\n\n    $$EvaluateModuleAsync(loader, translated, this.@resolved, module => {\n      $$Set(module, \'loader\', loader);\n      $$Set(module, \'resolved\', this.@resolved);\n      $$Set(module, \'mrl\', this.@mrl);\n      loader.@modules[this.@resolved] = module;\n      (this.@callback)(module);\n    }, msg => this.reject(msg));\n  }\n\n  redirect(mrl, baseURL){\n    const loader   = this.@loader,\n          resolved = (loader.@resolve)(mrl, baseURL),\n          module   = loader.get(resolved);\n\n    this.@resolved = resolved;\n    this.@mrl = mrl;\n\n    if (module) {\n      (this.@callback)(module);\n    } else {\n      (loader.@fetch)(mrl, baseURL, this, resolved);\n    }\n  }\n\n  reject(msg){\n    (this.@errback)(msg);\n  }\n}\n\n\nprivate @strict, @resolve, @modules, @translate, @fetch;\n\n\nexport class Loader {\n  private @options, @parent;\n\n  constructor(parent, options = {}){\n    this.@strict  = true;\n    this.@modules = ObjectCreate(null);\n    this.@options = ToObject(options);\n    this.@parent  = parent && parent.@options ? parent : typeof System === \'undefined\' ? {} : System;\n    this.linkedTo = this.@options.linkedTo || null;\n  }\n\n  get global(){\n    return this.@options.global || this.@parent.global || $$GetIntrinsic(\'global\');\n  }\n\n  get baseURL(){\n    return this.@options.baseURL || this.@parent.baseURL || \'\';\n  }\n\n  get @translate(){\n    return this.@options.translate || this.@parent.@translate;\n  }\n\n  get @resolve(){\n    return this.@options.resolve || this.@parent.@resolve;\n  }\n\n  get @fetch(){\n    return this.@options.fetch || this.@parent.@fetch;\n  }\n\n  load(mrl, callback, errback){\n    const canonical = (this.@resolve)(mrl, this.baseURL),\n          module    = this.@modules[canonical];\n\n    if (module) {\n      callback(module);\n    } else {\n      (this.@fetch)(mrl, this.baseURL, new Request(this, mrl, canonical, callback, errback), canonical);\n    }\n  }\n\n  // TODO feedback: Loader#eval needs an optional? name/mrl parameter\n  eval(src, mrl = \'\'){\n    return $$EvaluateModule(this, src, mrl);\n  }\n\n  // TODO feedback: Loader#evalAsync needs an optional? name/mrl parameter\n  evalAsync(src, callback, errback, mrl = \'\'){\n    $$EvaluateModuleAsync(this, src, mrl, callback, errback);\n  }\n\n  get(mrl){\n    const canonical = (this.@resolve)(mrl, this.baseURL);\n\n    return this.@modules[canonical];\n  }\n\n  set(mrl, mod){\n    const canonical = (this.@resolve)(mrl, this.baseURL);\n\n    if (typeof canonical === \'string\') {\n      this.@modules[canonical] = mod;\n    } else if (Type(canonical) === \'Object\') {\n      for (let mrl in canonical) {\n        this.@modules[mrl] = canonical[mrl];\n      }\n    }\n  }\n\n  defineBuiltins(object = this.global){\n    const obj = object == null ? {} : ToObject(object);\n\n    for (let [key, val] of std) {\n      obj[key] = val;\n    }\n\n    return obj;\n  }\n}\n\n\n// TODO feedback: Module needs an optional? name/mrl parameter\nexport function Module(object, mrl = \'\'){\n  object = ToObject(object);\n\n  if (hasBrand(object, \'BuiltinModule\')) {\n    return object;\n  }\n\n  const module = $$ToModule(object);\n  $$Set(module, \'loader\', System);\n  $$Set(module, \'resolved\', mrl);\n  $$Set(module, \'mrl\', mrl);\n  return module;\n}\n\nbuiltinFunction(Module);\n\n\nexport const System = new Loader(null, {\n  global: $$GetIntrinsic(\'global\'),\n  baseURL: \'\',\n  fetch(relURL, baseURL, request, resolved) {\n    const fetcher = resolved[0] === \'@\' ? $$Fetch : $__readFile;\n\n    fetcher(resolved, src => {\n      if (typeof src === \'string\') {\n        request.fulfill(src);\n      } else {\n        request.reject(src);\n      }\n    });\n  },\n  resolve(relURL, baseURL){\n    return relURL[0] === \'@\' ? relURL : $$Resolve(baseURL, relURL);\n  },\n  translate(src, relURL, baseURL, resolved) {\n    return src;\n  }\n});\n\n\nconst builtins = new Loader(System, { global: this });\nbuiltins.@strict = false;\n\n$$SetIntrinsic($$CurrentRealm(), \'internalLoader\', builtins);\n$$Set($$CurrentRealm(), \'loader\', System);\n\nSystem.@modules[\'@system\'] = builtins.@modules[\'@system\'] = new Module({\n  Module: Module,\n  System: System,\n  Loader: Loader\n}, \'@system\');\n\n\nconst std = builtins.eval(`\n  module std = \'@std\';\n  export std;\n`).std;\n\n\nfor (let name in builtins.@modules) {\n  System.@modules[name] = builtins.@modules[name];\n}\n\n{\n  const global = $$GetIntrinsic(\'global\');\n\n  for (let [key, val] of std) {\n    define(global, key, val, Type(val) === \'Object\' ? HIDDEN : FROZEN);\n  }\n}\n',c.builtins['@timers']='import {\n  ToInteger,\n  ToString\n} from \'@@operations\';\n\nimport {\n  builtinFunction\n} from \'@@utilities\';\n\nimport {\n  $$ClearImmediate,\n  $$ClearTimer,\n  $$SetImmediate,\n  $$SetTimer\n} from \'@@internals\';\n\nimport {\n  Function\n} from \'@function\';\n\n\nexport function clearImmediate(id){\n  $$ClearImmediate(ToInteger(id));\n}\n\nbuiltinFunction(clearImmediate);\n\n\nexport function clearInterval(id){\n  $$ClearTimer(ToInteger(id));\n}\n\nbuiltinFunction(clearInterval);\n\n\nexport function clearTimeout(id){\n  $$ClearTimer(ToInteger(id));\n}\n\nbuiltinFunction(clearTimeout);\n\n\nexport function setImmediate(callback){\n  if (typeof callback !== \'function\') {\n    callback = new Function(ToString(callback));\n  }\n\n  return $$SetImmediate(callback);\n}\n\nbuiltinFunction(setImmediate);\n\n\nexport function setInterval(callback, milliseconds){\n  if (typeof callback !== \'function\') {\n    callback = new Function(ToString(callback));\n  }\n\n  return $$SetTimer(callback, ToInteger(milliseconds), true);\n}\n\nbuiltinFunction(setInterval);\n\n\nexport function setTimeout(callback, milliseconds){\n  if (typeof callback !== \'function\') {\n    callback = new Function(ToString(callback));\n  }\n\n  return $$SetTimer(callback, ToInteger(milliseconds), false);\n}\n\nbuiltinFunction(setTimeout);\n',c.builtins['@typed-arrays']='\n\nfunction wrappingClamp(number, min, max){\n  if (number < min) {\n    number += max;\n  }\n  return number < min ? min : number > max ? max : number;\n}\n\ninternalFunction(wrappingClamp);\n\n\nfunction createArrayBuffer(nativeBuffer, byteLength){\n  var buffer = $__ObjectCreate(ArrayBufferPrototype);\n  $__define(buffer, \'byteLength\', byteLength, 0);\n  $__setInternal(buffer, \'NativeBuffer\', nativeBuffer);\n  $__setInternal(buffer, \'ConstructorName\', \'ArrayBuffer\');\n  $__SetBuiltinBrand(buffer, \'BuiltinArrayBuffer\');\n  return buffer;\n}\n\ninternalFunction(createArrayBuffer);\n\n\nfunction createTypedArray(Type, buffer, byteOffset, length){\n  if (typeof buffer === \'number\') {\n    length = $__ToUint32(buffer);\n    var byteLength = length * Type.BYTES_PER_ELEMENT;\n    byteOffset = 0;\n    buffer = new ArrayBuffer(byteLength);\n    return $__TypedArrayCreate(Type.name, buffer, byteLength, byteOffset);\n\n  } else {\n    buffer = $__ToObject(buffer);\n\n    if ($__GetBuiltinBrand(buffer) === \'BuiltinArrayBuffer\') {\n      byteOffset = $__ToUint32(byteOffset);\n      if (byteOffset % Type.BYTES_PER_ELEMENT) {\n        throw $__Exception(\'buffer_unaligned_offset\', [Type.name]);\n      }\n\n      var bufferLength = buffer.byteLength,\n          byteLength = length === undefined ? bufferLength - byteOffset : $__ToUint32(length) * Type.BYTES_PER_ELEMENT;\n\n      if (byteOffset + byteLength > bufferLength) {\n        throw $__Exception(\'buffer_out_of_bounds\', [Type.name]);\n      }\n\n      length = byteLength / Type.BYTES_PER_ELEMENT;\n\n      if ($__ToInteger(length) !== length) {\n        throw $__Exception(\'buffer_unaligned_length\', [Type.name]);\n      }\n\n      return $__TypedArrayCreate(Type.name, buffer, byteLength, byteOffset);\n\n    } else {\n      length = $__ToUint32(buffer.length);\n      var byteLength = length * Type.BYTES_PER_ELEMENT;\n      byteOffset = 0;\n      buffer = new ArrayBuffer(length);\n\n      var typedArray = $__TypedArrayCreate(Type.name, buffer, byteLength, byteOffset);\n\n      for (var i=0; i < length; i++) {\n        typedArray[i] = buffer[i];\n      }\n\n      return typedArray;\n    }\n  }\n}\n\ninternalFunction(createTypedArray);\n\n\nfunction set(Type, instance, array, offset){\n  if ($__GetBuiltinBrand(instance) !== \'Builtin\'+Type.name) {\n    throw $__Exception(\'called_on_incompatible_object\', [Type.name+\'.prototype.set\']);\n  }\n\n  offset = $__ToUint32(offset);\n  array = $__ToObject(array);\n  var srcLength = $__ToUint32(array.length),\n      targetLength = instance.length;\n\n  if (srcLength + offset > targetLength) {\n    throw $__Exception(\'buffer_out_of_bounds\', [Type.name+\'.prototype.set\']);\n  }\n\n  var temp = new Type(srcLength),\n      k = 0;\n\n  while (k < srcLength) {\n    temp[k] = array[k];\n  }\n\n  k = offset;\n  while (k < targetLength) {\n    instance[k] = temp[k - offset];\n  }\n}\n\ninternalFunction(set);\n\n\nfunction subarray(Type, instance, begin, end){\n  if ($__GetBuiltinBrand(instance) !== \'Builtin\'+Type.name) {\n    throw $__Exception(\'called_on_incompatible_object\', [Type.name+\'.prototype.subarray\']);\n  }\n\n  var srcLength = instance.length;\n\n  begin = $__ToInt32(begin);\n  end = end === undefined ? srcLength : $__ToInt32(end);\n\n  begin = wrappingClamp(begin, 0, srcLength);\n  end = wrappingClamp(end, 0, srcLength);\n\n  if (end < begin) {\n    [begin, end] = [end, begin];\n  }\n\n  return new Type(instance.buffer, instance.byteOffset + begin * Type.BYTES_PER_ELEMENT, end - begin);\n}\n\ninternalFunction(subarray);\n\n\nexport class ArrayBuffer {\n  constructor(byteLength){\n    byteLength = $__ToUint32(byteLength);\n    return createArrayBuffer($__NativeBufferCreate(byteLength), byteLength);\n  }\n\n  slice(begin = 0, end = this.byteLength){\n    var sourceBuffer = $__ToObject(this),\n        sourceNativeBuffer = $__getInternal(sourceBuffer, \'NativeBuffer\');\n\n    if (!sourceNativeBuffer) {\n      throw $__Exception(\'called_on_incompatible_object\', [\'ArrayBuffer.prototype.slice\']);\n    }\n\n    var byteLength = sourceBuffer.byteLength;\n    begin = wrappingClamp($__ToInt32(begin), 0, byteLength);\n    end = wrappingClamp($__ToInt32(end), 0, byteLength);\n\n    return createArrayBuffer($__NativeBufferSlice(sourceNativeBuffer, begin, end), end - begin);\n  }\n}\n\nbuiltinClass(ArrayBuffer);\nconst ArrayBufferPrototype = ArrayBuffer.prototype;\n\nprivate @get, @set;\n\nexport class DataView {\n  constructor(buffer, byteOffset = 0, byteLength = buffer.byteLength - byteOffset){\n    buffer = $__ToObject(buffer);\n    if ($__GetBuiltinBrand(buffer) !== \'BuiltinArrayBuffer\') {\n      throw $__Exception(\'bad_argument\', [\'DataView\', \'ArrayBuffer\']);\n    }\n\n    byteOffset = $__ToUint32(byteOffset);\n    byteLength = $__ToUint32(byteLength);\n\n    if (byteOffset + byteLength > buffer.byteLength) {\n      throw $__Exception(\'buffer_out_of_bounds\', [\'DataView\']);\n    }\n\n    $__define(this, \'byteLength\', byteLength, 1);\n    $__define(this, \'byteOffset\', byteOffset, 1);\n    $__define(this, \'buffer\', buffer, 1);\n    $__setInternal(this, \'View\', $__NativeDataViewCreate(buffer, byteOffset, byteLength));\n    $__SetBuiltinBrand(this, \'BuiltinDataView\');\n  }\n  getUint8(byteOffset){\n    return this.@get(\'Uint8\', byteOffset);\n  }\n  getUint16(byteOffset, littleEndian){\n    return this.@get(\'Uint16\', byteOffset, littleEndian);\n  }\n  getUint32(byteOffset, littleEndian){\n    return this.@get(\'Uint32\', byteOffset, littleEndian);\n  }\n  getInt8(byteOffset){\n    return this.@get(\'Int8\', byteOffset);\n  }\n  getInt16(byteOffset, littleEndian){\n    return this.@get(\'Int16\', byteOffset, littleEndian);\n  }\n  getInt32(byteOffset, littleEndian){\n    return this.@get(\'Int32\', byteOffset, littleEndian);\n  }\n  getFloat32(byteOffset, littleEndian){\n    return this.@get(\'Float32\', byteOffset, littleEndian);\n  }\n  getFloat64(byteOffset, littleEndian){\n    return this.@get(\'Float64\', byteOffset, littleEndian);\n  }\n  setUint8(byteOffset, value){\n    return this.@set(\'Uint8\', byteOffset, value);\n  }\n  setUint16(byteOffset, value, littleEndian){\n    return this.@set(\'Uint16\', byteOffset, value, littleEndian);\n  }\n  setUint32(byteOffset, value, littleEndian){\n    return this.@set(\'Uint32\', byteOffset, value, littleEndian);\n  }\n  setInt8(byteOffset, value){\n    return this.@set(\'Int8\', byteOffset, value);\n  }\n  setInt16(byteOffset, value, littleEndian){\n    return this.@set(\'Int16\', byteOffset, value, littleEndian);\n  }\n  setInt32(byteOffset, value, littleEndian){\n    return this.@set(\'Int32\', byteOffset, value, littleEndian);\n  }\n  setFloat32(byteOffset, value, littleEndian){\n    return this.@set(\'Float32\', byteOffset, value, littleEndian);\n  }\n  setFloat64(byteOffset, value, littleEndian){\n    return this.@set(\'Float64\', byteOffset, value, littleEndian);\n  }\n}\n\nbuiltinClass(DataView);\nDataView.prototype.@get = $__DataViewGet\nDataView.prototype.@set = $__DataViewSet\n\n\n\nexport class Float64Array {\n  constructor(buffer, byteOffset, length) {\n    return createTypedArray(Float64Array, buffer, byteOffset, length);\n  }\n  set(array, offset) {\n    return set(Float64Array, this, array, offset);\n  }\n  subarray(begin, end) {\n    return subarray(Float64Array, this, begin, end);\n  }\n}\n\nbuiltinClass(Float64Array);\n$__define(Float64Array, \'BYTES_PER_ELEMENT\', 8, FROZEN);\n\n\nexport class Float32Array {\n  constructor(buffer, byteOffset, length) {\n    return createTypedArray(Float32Array, buffer, byteOffset, length);\n  }\n  set(array, offset) {\n    return set(Float32Array, this, array, offset);\n  }\n  subarray(begin, end) {\n    return subarray(Float32Array, this, begin, end);\n  }\n}\n\nbuiltinClass(Float32Array);\n$__define(Float32Array, \'BYTES_PER_ELEMENT\', 4, FROZEN);\n\n\nexport class Int32Array {\n  constructor(buffer, byteOffset, length) {\n    return createTypedArray(Int32Array, buffer, byteOffset, length);\n  }\n  set(array, offset) {\n    return set(Int32Array, this, array, offset);\n  }\n  subarray(begin, end) {\n    return subarray(Int32Array, this, begin, end);\n  }\n}\n\nbuiltinClass(Int32Array);\n$__define(Int32Array, \'BYTES_PER_ELEMENT\', 4, FROZEN);\n\n\nexport class Int16Array {\n  constructor(buffer, byteOffset, length) {\n    return createTypedArray(Int16Array, buffer, byteOffset, length);\n  }\n  set(array, offset) {\n    return set(Int16Array, this, array, offset);\n  }\n  subarray(begin, end) {\n    return subarray(Int16Array, this, begin, end);\n  }\n}\n\nbuiltinClass(Int16Array);\n$__define(Int16Array, \'BYTES_PER_ELEMENT\', 2, FROZEN);\n\n\nexport class Int8Array {\n  constructor(buffer, byteOffset, length) {\n    return createTypedArray(Int8Array, buffer, byteOffset, length);\n  }\n  set(array, offset) {\n    return set(Int8Array, this, array, offset);\n  }\n  subarray(begin, end) {\n    return subarray(Int8Array, this, begin, end);\n  }\n}\n\nbuiltinClass(Int8Array);\n$__define(Int8Array, \'BYTES_PER_ELEMENT\', 1, FROZEN);\n\n\nexport class Uint32Array {\n  constructor(buffer, byteOffset, length) {\n    return createTypedArray(Uint32Array, buffer, byteOffset, length);\n  }\n  set(array, offset) {\n    return set(Uint32Array, this, array, offset);\n  }\n  subarray(begin, end) {\n    return subarray(Uint32Array, this, begin, end);\n  }\n}\n\nbuiltinClass(Uint32Array);\n$__define(Uint32Array, \'BYTES_PER_ELEMENT\', 4, FROZEN);\n\n\nexport class Uint16Array {\n  constructor(buffer, byteOffset, length) {\n    return createTypedArray(Uint16Array, buffer, byteOffset, length);\n  }\n  set(array, offset) {\n    return set(Uint16Array, this, array, offset);\n  }\n  subarray(begin, end) {\n    return subarray(Uint16Array, this, begin, end);\n  }\n}\n\nbuiltinClass(Uint16Array);\n$__define(Uint16Array, \'BYTES_PER_ELEMENT\', 2, FROZEN);\n\n\nexport class Uint8Array {\n  constructor(buffer, byteOffset, length) {\n    return createTypedArray(Uint8Array, buffer, byteOffset, length);\n  }\n  set(array, offset) {\n    return set(Uint8Array, this, array, offset);\n  }\n  subarray(begin, end) {\n    return subarray(Uint8Array, this, begin, end);\n  }\n}\n\nbuiltinClass(Uint8Array);\n$__define(Uint8Array, \'BYTES_PER_ELEMENT\', 1, FROZEN);\n',c.builtins['@weakmap']='import {\n  @@iterator: iterator,\n  @@create  : create\n} from \'@@symbols\';\n\nimport {\n  $$Exception,\n  $$Get,\n  $$Has,\n  $$Set\n} from \'@@internals\';\n\n\nimport {\n  builtinClass,\n  builtinFunction,\n  extend,\n  internalFunction,\n  isInitializing\n} from \'@@utilities\';\n\nimport {\n  OrdinaryCreateFromConstructor\n} from \'@@operations\';\n\nimport {\n  Type\n} from \'@@types\';\n\n\nfunction ensureWeakMap(o, p, name){\n  if (Type(o) !== \'Object\' || !$$Has(o, \'WeakMapData\')) {\n    throw $$Exception(\'called_on_incompatible_object\', [`WeakMap.prototype.${name}`]);\n  }\n\n  if (Type(p) !== \'Object\') {\n    throw $$Exception(\'invalid_weakmap_key\', []);\n  }\n}\n\ninternalFunction(ensureWeakMap);\n\n\nexport class WeakMap {\n  constructor(iterable){\n    if (!isInitializing(this, \'WeakMapData\')) {\n      return new WeakMap(iterable);\n    }\n\n    $__WeakMapInitialization(this, iterable);\n  }\n\n  delete(key){\n    ensureWeakMap(this, key, \'delete\');\n    return $__WeakMapDelete(this, key);\n  }\n\n  get(key){\n    ensureWeakMap(this, key, \'get\');\n    return $__WeakMapGet(this, key);\n  }\n\n  has(key){\n    ensureWeakMap(this, key, \'has\');\n    $__WeakMapHas(this, key);\n  }\n\n  set(key, value){\n    ensureWeakMap(this, key, \'set\');\n    $__WeakMapSet(this, key, value);\n    return this;\n  }\n}\n\nextend(WeakMap, {\n  @@create(){\n    const obj = OrdinaryCreateFromConstructor(this, \'%WeakMapPrototype%\');\n    $$Set(obj, \'BuiltinBrand\', \'BuiltinWeakMap\');\n    $$Set(obj, \'WeakMapData\', undefined);\n    return obj;\n  }\n});\n\nbuiltinClass(WeakMap);\n\nconst WeakMapPrototype = WeakMap.prototype;\n\n\n\nfunction weakmapDelete(weakmap, key){\n  ensureWeakMap(weakmap, key, \'@weakmap.delete\');\n  return $__WeakMapDelete(weakmap, key);\n}\n\nbuiltinFunction(weakmapDelete);\n\n\nfunction weakmapGet(weakmap, key){\n  ensureWeakMap(weakmap, key, \'@weakmap.get\');\n  return $__WeakMapGet(weakmap, key);\n}\n\nbuiltinFunction(weakmapGet);\n\n\nfunction weakmapHas(weakmap, key){\n  ensureWeakMap(weakmap, key, \'@weakmap.has\');\n  return $__WeakMapHas(weakmap, key);\n}\n\nbuiltinFunction(weakmapHas);\n\n\nfunction weakmapSet(weakmap, key, value){\n  ensureWeakMap(weakmap, key, \'@weakmap.set\');\n  $__WeakMapSet(weakmap, key, value);\n  return weakmap;\n}\n\nbuiltinFunction(weakmapSet);\n\n\nexport const get     = weakmapGet,\n           //delete  = weakmapDelete, TODO: fix exporting reserved names\n             has     = weakmapHas,\n             set     = weakmapSet;\n',c.builtins.parse='\nvar messages = {\n  UnexpectedToken:  \'Unexpected token %0\',\n  UnexpectedNumber:  \'Unexpected number\',\n  UnexpectedString:  \'Unexpected string\',\n  UnexpectedIdentifier:  \'Unexpected identifier\',\n  UnexpectedReserved:  \'Unexpected reserved word\',\n  UnexpectedEOS:  \'Unexpected end of input\',\n  NewlineAfterThrow:  \'Illegal newline after throw\',\n  InvalidRegExp: \'Invalid regular expression\',\n  UnterminatedRegExp:  \'Invalid regular expression: missing /\',\n  InvalidLHSInAssignment:  \'Invalid left-hand side in assignment\',\n  InvalidLHSInForIn:  \'Invalid left-hand side in for-in\',\n  NoCatchOrFinally:  \'Missing catch or finally after try\',\n  UnknownLabel: \'Undefined label \\\'%0\\\'\',\n  Redeclaration: \'%0 \\\'%1\\\' has already been declared\',\n  IllegalContinue: \'Illegal continue statement\',\n  IllegalBreak: \'Illegal break statement\',\n  IllegalReturn: \'Illegal return statement\',\n  StrictModeWith:  \'Strict mode code may not include a with statement\',\n  StrictCatchVariable:  \'Catch variable may not be eval or arguments in strict mode\',\n  StrictVarName:  \'Variable name may not be eval or arguments in strict mode\',\n  StrictParamName:  \'Parameter name eval or arguments is not allowed in strict mode\',\n  StrictParamDupe: \'Strict mode function may not have duplicate parameter names\',\n  StrictFunctionName:  \'Function name may not be eval or arguments in strict mode\',\n  StrictOctalLiteral:  \'Octal literals are not allowed in strict mode.\',\n  StrictDelete:  \'Delete of an unqualified identifier in strict mode.\',\n  StrictDuplicateProperty:  \'Duplicate data property in object literal not allowed in strict mode\',\n  AccessorDataProperty:  \'Object literal may not have data and accessor property with the same name\',\n  AccessorGetSet:  \'Object literal may not have multiple get/set accessors with the same name\',\n  StrictLHSAssignment:  \'Assignment to eval or arguments is not allowed in strict mode\',\n  StrictLHSPostfix:  \'Postfix increment/decrement may not have eval or arguments operand in strict mode\',\n  StrictLHSPrefix:  \'Prefix increment/decrement may not have eval or arguments operand in strict mode\',\n  StrictReservedWord:  \'Use of future reserved word in strict mode\',\n  UnmatchedDelimiter: \'Unmatched Delimiter\'\n};\n\nfunction nextChar() {\n  return source[index++];\n}\n\nfunction current() {\n  return source[index];\n}\n\nfunction isIn(el, list) {\n  return list.indexOf(el) !== -1;\n}\n\nfunction code(c){\n  return c.charCodeAt(0);\n}\n\nvar isLineTerminator = (function(){\n  var newline = /[\\n\\r\\u2028\\u2029]/;\n  return function isLineTerminator(c) {\n    return newline.test(c);\n  };\n})();\n\n\nvar isWhiteSpace = (function(){\n  var ws = /[\\u1680\\u180e\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]/;\n  return function isWhiteSpace(c) {\n    return c === \'\\x20\' || c === \'\\x09\' || c === \'\\x0B\' || c === \'\\x0C\' || c === \'\\xA0\' || code(c) >= 0x1680 && ws.test(ch);\n  };\n})();\n\n  var ws = /[\\u1680\\u180e\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]/;\n\nfunction skipComment() {\n  var blockComment = false;\n      lineComment = false;\n\n  while (index < length) {\n    var ch = source[index];\n\n    if (lineComment) {\n      ch = nextChar();\n      if (isLineTerminator(ch)) {\n        lineComment = false;\n        if (ch === \'\\r\' && source[index] === \'\\n\') {\n          ++index;\n        }\n        ++lineNumber;\n        lineStart = index;\n      }\n    } else if (blockComment) {\n      if (isLineTerminator(ch)) {\n        if (ch === \'\\r\' && source[index + 1] === \'\\n\') {\n          ++index;\n        }\n        ++lineNumber;\n        ++index;\n        lineStart = index;\n        if (index >= length) {\n          throwError({}, messages.UnexpectedToken, \'ILLEGAL\');\n        }\n      } else {\n        ch = nextChar();\n        if (index >= length) {\n          throwError({}, messages.UnexpectedToken, \'ILLEGAL\');\n        }\n        if (ch === \'*\') {\n          ch = source[index];\n          if (ch === \'/\') {\n            ++index;\n            blockComment = false;\n          }\n        }\n      }\n    } else if (ch === \'/\') {\n      ch = source[index + 1];\n      if (ch === \'/\') {\n        index += 2;\n        lineComment = true;\n      } else if (ch === \'*\') {\n        index += 2;\n        blockComment = true;\n        if (index >= length) {\n          throwError({}, messages.UnexpectedToken, \'ILLEGAL\');\n        }\n      } else {\n        break;\n      }\n    } else if (isWhiteSpace(ch)) {\n      ++index;\n    } else if (isLineTerminator(ch)) {\n      ++index;\n      if (ch ===  \'\\r\' && source[index] === \'\\n\') {\n        ++index;\n      }\n      ++lineNumber;\n      lineStart = index;\n    } else {\n      break;\n    }\n  }\n}\n\nfunction scanRegExp(){\n  buffer = null;\n  skipComment();\n  var start = index,\n      ch = source[index],\n      str = nextChar(),\n      classMarker = false;\n\n  while (index < length) {\n    ch = nextChar();\n    str += ch;\n    if (classMarker) {\n      if (ch === \']\') {\n        classMarker = false;\n      }\n    } else {\n      if (ch === \'\\\\\') {\n        ch = nextChar();\n        if (isLineTerminator(ch)) {\n          throwError({}, messages.UnterminatedRegExp);\n        }\n        str += ch;\n      } else if (ch === \'/\') {\n        var terminated = true;\n        break;\n      } else if (ch === \'[\') {\n        classMarker = true;\n      } else if (isLineTerminator(ch)) {\n        throwError({}, messages.UnterminatedRegExp);\n      }\n    }\n  }\n\n  if (!terminated) {\n    throwError({}, messages.UnterminatedRegExp);\n  }\n\n  var pattern = str.substr(1, str.length - 2),\n      flags = \'\';\n\n  while (index < length) {\n    ch = source[index];\n    if (!isIdentifierPart(ch)) {\n      break;\n    }\n    ++index;\n    if (ch === \'\\\\\' && index < length) {\n      ch = source[index];\n      if (ch === \'u\') {\n        ++index;\n        var restore = index;\n        ch = scanHexEscape(\'u\');\n        if (ch) {\n          flags += ch;\n          str += \'\\\\u\';\n          for (; restore < index; ++restore) {\n            str += source[restore];\n          }\n        } else {\n          index = restore;\n          flags += \'u\';\n          str += \'\\\\u\';\n        }\n      } else {\n        str += \'\\\\\';\n      }\n    } else {\n      flags += ch;\n      str += ch;\n    }\n  }\n\n  try {\n    var value = new RegExp(pattern, flags);\n  } catch (e) {\n    throwError({}, messages.InvalidRegExp);\n  }\n\n  return { literal: str, value: value, range: [start, index] };\n}\n\n\nfunction readLoop(toks, inExprDelim) {\n  var delimiters = [\'(\', \'{\', \'[\'];\n  var parenIdents = ["if", "while", "for", "with"];\n  var last = toks.length - 1;\n\n\n  var fnExprTokens = [\n    "(", "{", "[", "in", "typeof", "instanceof", "new", "return",\n    "case", "delete", "throw", "void",\n    // assignment operators\n    "=", "+=", "-=", "*=", "/=", "%=", "<<=", ">>=", ">>>=", "&=", "|=", "^=",\n    ",",\n    // binary/unary operators\n    "+", "-", "*", "/", "%", "++", "--", "<<", ">>", ">>>", "&", "|", "^", "!", "~",\n    "&&", "||", "?", ":",\n    "===", "==", ">=", "<=", "<", ">", "!=", "!=="\n  ];\n  // var fnDeclTokens = [";", "}", ")", "]", ident, literal, "debugger", "break", "continue", "else"];\n  // don\'t need since these are all implicit in the else branch\n\n  function back(n) {\n    var idx = (toks.length - n > 0) ? (toks.length - n) : 0;\n    return toks[idx];\n  }\n\n\n  skipComment();\n\n  if(isIn(current(), delimiters)) {\n    return readDelim();\n  }\n\n  if(current() === "/") {\n    var prev = back(1);\n    if (prev) {\n      if (prev.value === "()") {\n        if(isIn(back(2).value, parenIdents)) {\n          return scanRegExp();\n        }\n        return nextChar();\n      }\n      if(prev.value === "{}") {\n        // named function\n        if(back(4).value === "function") {\n          if(isIn(back(5).value, fnExprTokens)) {\n            return nextChar();\n          }\n          if ((toks.length - 5 <= 0) && inExprDelim) {\n            // case where: (function foo() {} /asdf/) or [function foo() {} /asdf]\n            return nextChar();\n          }\n        }\n        // unnamed function\n        if(back(3).value === "function") {\n          if(isIn(back(4).value, fnExprTokens)) {\n            return nextChar();\n          }\n          if ((toks.length - 4 <= 0) && inExprDelim) {\n            // case where: (function foo() {} /asdf/) or [function foo() {} /asdf]\n            return nextChar();\n          }\n        }\n        return scanRegExp();\n      }\n      if(prev.type === Token.Punctuator) {\n        return scanRegExp();\n      }\n      if(isKeyword(toks[toks.length - 1].value)) {\n        return scanRegExp();\n      }\n      return nextChar();\n    }\n    return scanRegExp();\n  }\n  return nextChar();\n}\n\nfunction readDelim() {\n  var startDelim = nextChar(),\n    matchDelim = {\n      \'(\': \')\',\n      \'{\': \'}\',\n      \'[\': \']\'\n    },\n    inner = [];\n\n  var delimiters = [\'(\', \'{\', \'[\'];\n  var token = startDelim;\n\n  assert(delimiters.indexOf(startDelim.value) !== -1, "Need to begin at the delimiter");\n\n  var startLineNumber = token.lineNumber;\n  var startLineStart = token.lineStart;\n  var startRange = token.range;\n  while(index <= length) {\n    token = readLoop(inner, (startDelim.value === "(" || startDelim.value === "["));\n    if((token.type === Token.Punctuator) && (token.value === matchDelim[startDelim.value])) {\n      break;\n    } else {\n      inner.push(token);\n    }\n  }\n\n  // at the end of the stream but the very last char wasn\'t the closing delimiter\n  if(index >= length && matchDelim[startDelim.value] !== source[length-1]) {\n    throwError({}, Messages.UnexpectedEOS);\n  }\n\n  var endLineNumber = token.lineNumber;\n  var endLineStart = token.lineStart;\n  var endRange = token.range;\n  return {\n    type: Token.Delimiter,\n    value: startDelim.value + matchDelim[startDelim.value],\n    inner: inner,\n    startLineNumber: startLineNumber,\n    startLineStart: startLineStart,\n    startRange: startRange,\n    endLineNumber: endLineNumber,\n    endLineStart: endLineStart,\n    endRange: endRange\n  };\n};\n\n\n\n// (Str) -> [...CSyntax]\nfunction read(code) {\n  var token, tokenTree = [];\n\n  source = code;\n  index = 0;\n  lineNumber = (source.length > 0) ? 1 : 0;\n  lineStart = 0;\n  length = source.length;\n  buffer = null;\n  state = {\n    allowIn: true,\n    labelSet: {},\n    lastParenthesized: null,\n    inFunctionBody: false,\n    inIteration: false,\n    inSwitch: false\n  };\n\n\n  while(index < length) {\n    tokenTree.push(readLoop(tokenTree));\n  }\n  var last = tokenTree[tokenTree.length-1];\n  if(last && last.type !== Token.EOF) {\n    tokenTree.push({\n      type: Token.EOF,\n      value: "",\n      lineNumber: last.lineNumber,\n      lineStart: last.lineStart,\n      range: [index, index]\n    });\n  }\n\n  return expander.tokensToSyntax(tokenTree);\n}\n\n\n\n\n\n\n\n\n\n\n\n\nfunction isDecimalDigit(char){\n  const code = $$CharCode(char);\n  return code >= 0x30 && code <= 0x39;\n}\n\n\n\nfunction isWhiteSpace(char) {\n  const code = $$CharCode(char);\n  return code === 0x20 || code === 0x09 || code === 0x0B || code === 0x0C || code === 0xA0\n      || code >= 0x1680 && code === 0x1680 || code === 0x180E || code >= 0x2000 && code <= 0x200A\n      || code === 0x202F || code === 0x205F || code === 0x3000 || code === 0xFEFF;\n}\n\n  return code === 0x20 || code === 0x09 || code === 0x0B || code === 0x0C || code === 0xA0\n      || code >= 0x1680 && code === 0x1680 || code === 0x180E || code >= 0x2000 && code <= 0x200A\n      || code === 0x202F || code === 0x205F || code === 0x3000 || code === 0xFEFF;\n\nfunction scanNumber(index, string, callback){\n}\n\n\n[\n  [\'\\u0020\', \'0x0020\'],\n  [\'\\u0009\', \'0x0009\'],\n  [\'\\u000B\', \'0x000B\'],\n  [\'\\u000C\', \'0x000C\'],\n  [\'\\u00A0\', \'0x00A0\'],\n  [\'\\u2000\', \'0x2000\'],\n  [\'\\u2001\', \'0x2001\'],\n  [\'\\u2002\', \'0x2002\'], [\'\\u2003\', \'0x2003\'], [\'\\u2004\', \'0x2004\'], [\'\\u2005\', \'0x2005\'], [\'\\u2006\', \'0x2006\'], [\'\\u2007\', \'0x2007\'], [\'\\u2008\', \'0x2008\'], [\'\\u2009\', \'0x2009\'], [\'\\u200A\', \'0x200A\'], [\'\\u202F\', \'0x202F\'], [\'\\u205F\', \'0x205F\'], [\'\\u3000\', \'0x3000\'], [\'\\uFEFF\', \'0xFEFF\']\n  ]\n\nfunction hex(char){\n  if (isDecimalDigit(char)) {\n    return true;\n  }\n\n  const code = $$CharCode(char);\n  return (code >= 0x41 && code <= 0x46) || (code >= 0x61 && code <= 0x66);\n}\n\nfunction octal(char){\n  const code = $$CharCode(char);\n  return code >= 0x30 && code <= 0x37;\n}\n\nfunction binary(char){\n  return char === \'0\' || char === \'1\';\n}\n\n\nhex.base = 16;\noctal.base = 8;\nbinary.base = 2;\n\nfunction StringToNumber(argument){\n  const len = $$StringLength(argument);\n  let index  = 0,\n      number = \'\',\n      char;\n\n  while (index < len && isWhiteSpace(argument[index])) {\n    char = argument[index++];\n  }\n\n  if (len === 0 || index === len) {\n    return 0;\n  }\n\n\n  if (char !== \'.\') {\n    number = argument[index++];\n    char = argument[index];\n    if (number === \'0\') {\n      let type;\n      if (char === \'X\' || char === \'x\') {\n        type = hex;\n      } else if (char !== \'o\' && char !== \'O\') {\n        type = octal;\n      } else if (octal(char)) {\n        index--;\n        type = octal;\n      } else if (char === \'B\' || char === \'b\') {\n        type = binary;\n      }\n\n      if (type) {\n        const number = \'\';\n\n        while (index++ < len) {\n          char = argument[index];\n          number += char;\n          if (!type(char)) {\n            return NaN;\n          }\n        }\n\n        if (number === \'\') {\n          return NaN;\n        }\n\n        return $$atoi(number, type.base);\n      }\n    }\n\n    while (index < length) {\n      char = argument[index];\n      if (!isDecimalDigit(char)) {\n        break;\n      }\n      number += argument[index++];\n    }\n  }\n\n  if (char !== \'.\') {\n    while (index < length) {\n      if (!isDecimalDigit(char)) {\n        break;\n      }\n      char = argument[index++];\n      number += char;\n    }\n  }\n\n  if (char === \'e\' || char === \'E\') {\n    number += char;\n    char = argument[++index];\n    if (char === \'+\' || char === \'-\') {\n      number += char;\n      index++;\n    }\n\n    char = argument[index];\n    if (!isDecimalDigit(char)) {\n      return NaN;\n    }\n\n    number += char;\n\n    while (index++ < length) {\n      char = argument[index];\n      if (!isDecimalDigit(char)) {\n        break;\n      }\n      number += char;\n    }\n  }\n\n  if (index < length) {\n    char = argument[index];\n    if (!isDecimalDigit(char)) {\n      return NaN;\n    }\n  }\n\n  return $$atof(number, 10);\n}\n\nfunction parse(src){\n  return continuum.parse(src, {\n    loc     : true,\n    range   : true,\n    raw     : true,\n    comment : true,\n    tokens  : true,\n    tolerant: true\n  });\n}\n\nfunction log(o){\n  if (typeof o === \'string\') {\n    console.log(o);\n  } else {\n    console.log(require(\'util\').inspect(o, null, 10));\n  }\n}\n\nfunction SourceLocation(line, column){\n  this.line = line;\n  this.column = column;\n}\n\nfunction LineRange(start, end){\n  this.start = new SourceLocation(start.line, start.column);\n  this.end = new SourceLocation(end.line, end.column);\n}\n\nvar lastRange = [0, 0];\nvar lastLoc = { start: { line: 1, column: 0 }, end: { line: 1, column: 0 } };\nvar out = [];\nvar src = \'(\'+arguments.callee+\')\';\n\n\nparse(src).tokens.forEach(function(token){\n  var end       = token.range[0],\n      start     = lastRange[1],\n      line      = token.loc.start.line,\n      lastLine  = lastLoc.end.line,\n      rangeDiff = end - start,\n      locDiff   = line - lastLine;\n\n  if (rangeDiff) {\n    out.push({\n      type: \'Whitespace\',\n      value: src.slice(start, end),\n      range: [start, end],\n      loc: new LineRange(lastLoc.end, token.loc.start)\n    });\n  }\n  out.push(token);\n  lastRange = token.range;\n  lastLoc = token.loc;\n});\n\nlog(out.map(function(token){\n  return token.value;\n}).join(\'\'));\n',c.builtins.struct='const TYPE = {};\nconst VIEW = {};\n\nfunction TypedBuffer(type){\n  this.@type = type;\n  this.@raw = new ArrayBuffer(type.@byteLength);\n  this.@pointers = Object.create(null);\n}\n\nextend(TypedBuffer.prototype, {\n  get byteLength(){\n    throw new TypeError(\'byteLength not provided for typed buffers\');\n  }\n});\n\nfunction int(bytes, min, max, View, typeName, toInt) {\n  function t(x){\n    if ($$IsConstruct()) {\n      throw new TypeError(`cannot instantiate atomic type ${typeName}`);\n    }\n\n    const type = Type(x);\n\n    if (type === \'String\') {\n      x = parseInt(x);\n      if (isNaN(x)) {\n        throw new TypeError(`invalid ${typeName} string`);\n      }\n    } else if (type !== \'Number\') {\n      throw new TypeError(`invalid ${typeName}: ${x}`);\n    }\n\n    return toInt(x);\n  }\n\n  extend(t, {\n    toString(){\n      return `[type ${typeName}]`;\n    },\n    @IsSame(u){\n      return u.@variant === this.@variant;\n    },\n    @Reify(raw, i){\n      return new View(raw, i, 1)[0];\n    },\n    @Convert(x, raw, i){\n      const view = new View(raw, i, 1);\n\n      if (x === true) {\n        view[0] = 1;\n      } else if (x === false) {\n        view[0] = 0;\n      } else if (typeof x === \'number\' && x >= min && x <= max && floor(x) === ceil(x)) {\n        view[0] = x;\n      } else {\n        throw new TypeError(`invalid ${typeName} value: ${x}`);\n      }\n    },\n    @class     : TYPE,\n    @shortName : typeName,\n    @variant   : typeName,\n    @container : false,\n    @fixedSize : true,\n    @allowCasts: true,\n    @byteLength: bytes\n  });\n\n  return t;\n}\n\nfunction float(k, View, cast) {\n  const bytes    = k / 8,\n        typeName = \'float\' + k;\n\n  function t(x){\n    if ($$IsConstruct()) {\n      throw new TypeError(`cannot instantiate atomic type ${typeName}`);\n    }\n\n    const type = Type(x);\n    if (type === \'String\') {\n      x = parseFloat(x);\n      if (x !== x) {\n        throw new TypeError(`invalid ${typeName} string`);\n      }\n    } else if (type !== \'Number\') {\n      throw new TypeError(`invalid ${typeName}: ${x}`);\n    }\n\n    return cast(x);\n  }\n\n  extend(t, {\n    toString(){\n      return `[type ${typeName}]`;\n    },\n    @@IsSame(u) {\n      return u.@variant === this.@variant;\n    },\n    @@Reify(raw, i) {\n      return new View(raw, i, 1)[0];\n    },\n    @@Convert(x, raw, i) {\n      const view = new View(raw, i, 1);\n\n      if (x === true) {\n        view[0] = 1;\n      } else if (x === false) {\n        view[0] = 0;\n      } else if (typeof x === \'number\') {\n        view[0] = cast(x);\n      } else {\n        throw new TypeError(`invalid ${typeName} value: ${x}`);\n      }\n    },\n    @class     : TYPE,\n    @shortName : typeName,\n    @variant   : typeName,\n    @container : false,\n    @fixedSize : true,\n    @allowCasts: true,\n    @byteLength: bytes\n  });\n\n  return t;\n}\n\n\nconst uint8   = int(1,           0,       0xff, Uint8Array,  \'uint8\',  ToUint(8)),\n      uint16  = int(2,           0,     0xffff, Uint16Array, \'uint16\', ToUint(16)),\n      uint32  = int(4,           0, 0xffffffff, Uint32Array, \'uint32\', x => x >>> 0),\n      int8    = int(1,       -0x80,       0x7f, Int8Array,   \'int8\',   ToInt(8)),\n      int16   = int(2,     -0x8000,     0x7fff, Int16Array,  \'int16\',  ToInt(16)),\n      int32   = int(4, -0x80000000, 0x7fffffff, Int32Array,  \'int32\',  x => x >> 0),\n      float32 = float(32, Float32Array, x => new Float32Array([x])[0]),\n      float64 = float(64, Float64Array, x => x);\n\nfunction struct(desc, name) {\n  const t = class {\n    constructor(x, byteOffset) {\n      if (!IsConstruct()) {\n        return new t(x, byteOffset);\n      }\n\n      let update = false;\n      this.@class = VIEW;\n      this.@type = t;\n\n      switch (typeof x) {\n        case \'object\':\n          if (x instanceof ArrayBuffer) {\n            if (!t.@allowCasts) {\n              throw new TypeError(`cannot create ArrayBuffer view for type ${t.shortName}`);\n            }\n            this.@buffer = x;\n            this.@raw = x;\n            this.@byteOffset = byteOffset || 0;\n            break;\n          }\n          update = true;\n\n        case \'undefined\':\n          this.@buffer = new TypedBuffer(t);\n          this.@raw = this.@buffer.@raw;\n          this.@byteOffset = 0;\n          break;\n\n        default:\n          throw new TypeError(\'expected ArrayBuffer or optional descriptor\');\n      }\n\n      if (update) {\n        this.update(x);\n      }\n    }\n\n    update(x){\n      for (var fieldName in this.@type.@fieldTypes) {\n        this[fieldName] = x[fieldName];\n      }\n    }\n\n    toString(){\n      const structName = this.@type.@structName;\n      return `[struct${structName ? \' \' + structName : \'\'}]`;\n    }\n\n    get buffer(){\n      return this.@buffer;\n    }\n\n    get byteLength(){\n      if (this.@buffer instanceof TypedBuffer) {\n        throw new TypeError(\'byteLength not defined for TypedBuffer views\');\n      }\n\n      return this.@type.@byteLength;\n    }\n\n    get byteOffset(){\n      if (this.@buffer instanceof TypedBuffer) {\n        throw new TypeError(\'byteOffset not defined for TypedBuffer views\');\n      }\n\n      return this.@byteOffset;\n    }\n  }\n\n  const fieldTypes = ObjectCreate(null);\n\n\n  let bytes      = 0,\n      offset     = 0,\n      lastName   = null,\n      lastType   = null,\n      allowCasts = true;\n\n  for (let [fieldName, fieldType] of entries(desc)) {\n    if (lastType && !lastType.@fixedSize) {\n      throw new TypeError(`field ${lastName} is not of fixed size`);\n    }\n\n    fieldTypes[fieldName] = fieldType;\n\n    const i = offset;\n\n    defineProperty(t.prototype, fieldName, {\n      configurable: false,\n      enumerable: true,\n      get(){\n        return fieldType.@@Reify(this.@raw, this.@byteOffset + i, this.@buffer);\n      },\n      set(x){\n        return fieldType.@@Convert(x, this.@raw, this.@byteOffset + i, this.@buffer);\n      }\n    });\n\n    offset += fieldType.@byteLength;\n    bytes += fieldType.@byteLength;\n    lastName = fieldName;\n    lastType = fieldType;\n    allowCasts = allowCasts && fieldType.@allowCasts;\n  }\n\n  extend(t, {\n    toString(){\n      return \'[type Struct]\';\n    },\n    @@IsSame(u){\n      return u === t;\n    },\n    @@Reify(raw, i, buf){\n      return extend(ObjectCreate(p), {\n        @class: VIEW,\n        @type: t,\n        @buffer: buf,\n        @raw: raw,\n        @byteOffset: i\n      });\n    },\n    @@Convert:(x, raw, i, buf){\n      if (typeof x !== \'object\' || x === null)\n        throw new TypeError(`expected object, got ${x}`);\n      for (var fieldName in this.@fieldTypes) {\n        var fieldType = this.@fieldTypes[fieldName];\n        fieldType.@@Convert(x[fieldName], raw, i, buf);\n        i += fieldType.@byteLength;\n      }\n    },\n    @class     : TYPE,\n    @variant   : \'struct\',\n    @container : true,\n    @structName: name || \'\',\n    @shortName : name || \'struct\',\n    @fixedSize : lastFieldType.@fixedSize,\n    @allowCasts: allowCasts,\n    @byteLength: t.@fixedSize ? bytes : undefined,\n    @fieldTypes: fieldTypes\n  });\n\n  return t;\n}\n\nfunction array(elementType, length) {\n  const fixedSize = typeof length !== \'undefined\';\n\n  const t = class {\n    constructor(x, byteOffset, instanceLength){\n      if (!$$IsConstruct()) {\n        return new t(x, byteOffset, instanceLength);\n      }\n\n      let update = false;\n\n      this.@class = VIEW;\n      this.@type = t;\n\n      switch (typeof x) {\n        case \'number\':\n          if (fixedSize) {\n            throw new TypeError(`array type already has length ${length}`);\n          }\n          this.length = instanceLength = x;\n          this.@buffer = new TypedBuffer(array(t.@elementType, instanceLength));\n          this.@raw = this.@buffer.@raw;\n          this.@byteOffset = 0;\n          break;\n\n        case \'undefined\':\n          this.length = fixedSize ? length : instanceLength = 0;\n          this.@buffer = new TypedBuffer(t);\n          this.@raw = this.@buffer.@raw;\n          this.@byteOffset = 0;\n          break;\n\n        case \'object\':\n          if (x instanceof ArrayBuffer) {\n            if (!elementType.@allowCasts)\n              throw new TypeError(`cannot create ArrayBuffer view for type ${elementType.shortName}`);\n            this.@buffer = x;\n            this.@raw = x;\n            this.@byteOffset = byteOffset || 0;\n            if (typeof instanceLength === \'number\') {\n              if (fixedSize) {\n                throw new TypeError(`array type already has length ${length}`);\n              }\n            }\n          } else {\n            update = true;\n          }\n          break;\n\n        default:\n          throw new TypeError(`expected optional number or object, got ${x}`);\n      }\n\n      if (!fixedSize) {\n        for (let i = 0; i < instanceLength; i++) {\n          const off = i * elementType.@byteLength;\n          Object.defineProperty(this, i, {\n            enumerable: true,\n            configurable: false,\n            get() {\n              var elementType = this.@type.@elementType;\n              return elementType.@@Reify(this.@raw, this.@byteOffset + off, this.@buffer);\n            },\n            set(x) {\n              var elementType = this.@type.@elementType;\n              elementType.@@Convert(x, this.@raw, this.@byteOffset + off, this.@buffer);\n            }\n          });\n        }\n      }\n\n      if (update) {\n        this.update(x);\n      }\n    }\n\n    update(x){\n      for (var i = 0; i < n; i++) {\n        this[i] = x[i];\n      }\n    }\n\n    toString(){\n      return `[array ${this.@type.@elementType.@shortName}]`;\n    }\n\n    fill(x){\n      for (var i = 0; i < n; i++)\n        this[i] = x;\n    }\n\n    subarray(begin, end){\n      if (typeof end === \'undefined\') {\n        end = this.length;\n      }\n      if (begin < 0 || begin >= end) {\n        throw new RangeError(`begin index ${begin} out of range`);\n      }\n      if (end <= 0 || end > this.length) {\n        throw new RangeError(`end index ${end} out of range`);\n      }\n\n      const type = this.@type.@elementType,\n            u = array(type, end - begin);\n\n      return u.@@Reify(this.@raw, this.@byteOffset + begin * type.@byteLength, this.@buffer);\n    }\n\n    toArray(){\n      var result = [];\n      for (var i = 0; i < n; i++)\n        result[i] = this[i];\n      return result;\n    }\n\n    map(f){\n      const type   = this.@type.@elementType,\n            A      = array(type),\n            n      = this.length,\n            result = new A(n);\n\n      for (var i = 0; i < n; i++) {\n        result[i] = this[i];\n      }\n\n      return result;\n    }\n\n    get buffer(){\n      return this.@buffer;\n    }\n\n    get byteLength(){\n      if (this.@buffer instanceof TypedBuffer) {\n        throw new TypeError(\'byteLength not defined for TypedBuffer views\');\n      }\n\n      return this.@type.@byteLength;\n    }\n\n    get byteOffset(){\n      if (this.@buffer instanceof TypedBuffer) {\n        throw new TypeError(\'byteOffset not defined for TypedBuffer views\');\n      }\n\n      return this.@byteOffset;\n    }\n\n    get BYTES_PER_ELEMENT(){\n      if (this.@buffer instanceof TypedBuffer) {\n        throw new TypeError(\'BYTES_PER_ELEMENT not defined for TypedBuffer views\');\n      }\n\n      return this.@type.@elementType.@byteLength;\n    }\n  }\n\n  if (!elementType.@fixedSize) {\n    throw new TypeError(`${elementType.@shortName} type is not of fixed size`);\n  }\n\n  extend(t, {\n    toString(){\n      return \'[type Array]\';\n    },\n    @@IsSame(u){\n      return u.@variant === \'array\' && this.@elementType.@IsSame(u.@elementType) && this.@length === u.@length;\n    },\n    @@Reify(raw, i, buf){\n      return extend(ObjectCreate(t.prototype), {\n        @class     : VIEW,\n        @type      : t,\n        @buffer    : buf,\n        @raw       : raw,\n        @byteOffset: i\n      });\n    },\n    @@Convert(a, raw, i, buf){\n      const type = this.@type.@elementType,\n            incr = type.@byteLength;\n\n      for (var j = 0; j < n; j++) {\n        type.@@Convert(a[j], raw, i, buf);\n        i += incr;\n      }\n    },\n    @class      : TYPE,\n    @variant    : \'array\',\n    @shortName  : \'array\',\n    @container  : true,\n    @fixedSize  : fixedSize,\n    @allowCasts : elementType.@allowCasts,\n    @byteLength : fixedSize ? length * elementType.@byteLength : undefined,\n    @elementType: elementType\n  });\n\n  extend(t.prototype, {\n    forEach: Array.prototype.forEach,\n    reduce: Array.prototype.reduce\n  });\n\n  if (fixedSize) {\n    extend(t.prototype, {\n      length: length\n    });\n\n    for (let i = 0; i < length; i++) {\n      const off = i * elementType.@byteLength;\n      defineProperty(t.prototype, i, {\n        enumerable: true,\n        configurable: false,\n        get(){\n          var elementType = this.@type.@elementType;\n          return elementType.@@Reify(this.@raw, this.@byteOffset + off, this.@buffer);\n        },\n        set(x) {\n          var elementType = this.@type.@elementType;\n          elementType.@@Convert(x, this.@raw, this.@byteOffset + off, this.@buffer);\n        }\n      });\n    }\n  }\n\n  extend(t, {\n    @length: length\n  });\n\n  return t;\n}\n\nvar object = {\n  toString(){\n    return \'[type Object]\';\n  },\n  toSource(){\n    return \'object\';\n  },\n  @@IsSame(u){\n    return u.@variant === \'object\';\n  },\n  @@Reify(raw, i, buf){\n    return buf.@pointers[i] || null;\n  },\n  @@Convert(obj, raw, i, buf){\n    if (typeof obj !== \'object\') {\n      throw new TypeError(\'expected object, got \' + obj);\n    }\n    buf.@pointers[i] = obj;\n  },\n  @class: TYPE,\n  @variant: \'object\',\n  @container: false,\n  @shortName: \'object\',\n  @fixedSize: true,\n  @allowCasts: false,\n  @byteLength: 4\n};\n\nvar any = {\n  toString(){\n    return \'[type Any]\';\n  },\n  toSource(){\n    return \'any\';\n  },\n  @IsSame(u){\n    return u.@variant === \'any\';\n  },\n  @Reify(raw, i, buf){\n    return buf.@pointers[i];\n  },\n  @Convert(x, raw, i, buf){\n    buf.@pointers[i] = x;\n  },\n  @class: TYPE,\n  @variant: \'any\',\n  @container: false,\n  @shortName: \'any\',\n  @fixedSize: true,\n  @allowCasts: false,\n  @byteLength: 4\n};\n\nfunction pointer(targetType){\n  if (!targetType.@container) {\n    throw new TypeError(\'target type is not a container type\');\n  }\n\n  return {\n    toString(){\n      return \'[type Pointer]\';\n    },\n    toSource(){\n      return \'pointer(\' + this.@targetType.toSource() + \')\';\n    },\n    @IsSame(u){\n      return u.@variant === \'pointer\' && this.@targetType.@IsSame(u.@targetType);\n    },\n    @Reify(raw, i, buf) {\n      return buf.@pointers[i] || null;\n    },\n    @Convert(obj, raw, i, buf) {\n      if (typeof obj !== \'object\' || obj !== null && (obj.@class !== VIEW || !obj.@type.@IsSame(this.@targetType))) {\n        throw new TypeError(\'expected object of type \' + this.@targetType.@shortName + \', got \' + obj);\n      }\n      buf.@pointers[i] = obj;\n    },\n    @class: TYPE,\n    @variant: \'pointer\',\n    @container: false,\n    @shortName: targetType.@shortName + \'*\',\n    @fixedSize: true,\n    @allowCasts: false,\n    @byteLength: 4,\n    @targetType: targetType\n  };\n}\n',c.index;}.apply(this,function(){function require(b){return b=b.slice(b.lastIndexOf('/')+1),a[b];}var a={    builtins:{},    modules:{},    fs:{    readFile:function(b,d,c){    var a=new XMLHttpRequest();
    a.onerror=a.onload=function(b){    a.readyState===4&&(a.onload=a.onerror=null,c(null,a.responseText));    },a.open('GET',b),a.send();    }    }    };
return[this, a, require];}());